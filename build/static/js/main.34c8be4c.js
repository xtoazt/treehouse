/*! For license information please see main.34c8be4c.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+T(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),j(o,t,i,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+T(s=e[c],c);l+=j(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=j(s=s.value,t,i,u=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(_),_=-1),f=!0;var a=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,N=null,_=-1,C=5,T=-1;function j(){return!(t.unstable_now()-T<C)}function I(){if(null!==N){var e=t.unstable_now();T=e;var n=!0;try{n=N(!0,e)}finally{n?k():(E=!1,N=null)}}else E=!1}if("function"===typeof x)k=function(){x(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,k=function(){P.postMessage(null)}}else k=function(){v(I,0)};function D(e){N=e,E||(E=!0,k())}function R(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,D(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},330:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{"use strict";e.exports=n(717)},461:(e,t,n)=>{"use strict";e.exports=n(330)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t})}return!0}},717:(e,t,n)=>{"use strict";var r=n(43),i=n(461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var p=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,L=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case N:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ne(e){if(e=xi(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function _e(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Te(e,t){return e(t)}function je(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==ke||null!==Ee)&&(je(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Me(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Fe=!1,Ve=null,ze={onError:function(e){Oe=!0,Le=e}};function Ue(e,t,n,r,i,a,o,s,l){Oe=!1,Le=null,Me.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Et,Nt,_t=!1,Ct=[],Tt=null,jt=null,It=null,At=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Nt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function zt(){_t=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),At.forEach(Vt),Pt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==jt&&Ut(jt,e),null!==It&&Ut(It,e),At.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=xt,a=Ht.transition;Ht.transition=null;try{xt=1,Gt(e,t,n,r)}finally{xt=i,Ht.transition=a}}function Kt(e,t,n,r){var i=xt,a=Ht.transition;Ht.transition=null;try{xt=4,Gt(e,t,n,r)}finally{xt=i,Ht.transition=a}}function Gt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Ot(jt,e,t,n,r,i),!0;case"mouseover":return It=Ot(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Ot(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ot(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&qr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(L({},pn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return En}var _n=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),Tn=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),In=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Rn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Xn(e){if(G(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Nr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=Nr("animationend"),Cr=Nr("animationiteration"),Tr=Nr("animationstart"),jr=Nr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Rr=Ar[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ue.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var u=Le;Oe=!1,Le=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=a,i=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case _r:case Cr:case Tr:l=vn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Wr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:bi(l),p=null==c?s:bi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Yr(o,s,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(qn(s))if($n)g=or;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:v}),y?x.data=y:null!==(y=Un(n))&&(x.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=Pe(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function Ni(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function _i(e,t){ki++,Si[ki]=e.current,e.current=t}var Ci={},Ti=Ei(Ci),ji=Ei(!1),Ii=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ni(ji),Ni(Ti)}function Ri(e,t,n){if(Ti.current!==Ci)throw Error(a(168));_i(Ti,t),_i(ji,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return L({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Ti.current,_i(Ti,e),_i(ji,ji.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ni(ji),Ni(Ti),_i(Ti,e)):Ni(ji),_i(ji,n)}var Fi=null,Vi=!1,zi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{xt=t,zi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Yi=0,Xi=null,Qi=1,$i="";function Ji(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Xi=e;var r=Qi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Qi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ya(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),ia&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ia&&Ji(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=p(i,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(i,m),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x,m=v}if(y.done)return n(i,m),ia&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return ia&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),ia&&Ji(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ya(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((a=Mc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Rc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case S:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,l)).return=r,r=a}return s(r);case P:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(M(o))return g(r,a,o,l);va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ba=xa(!0),wa=xa(!1),Sa=Ei(null),ka=null,Ea=null,Na=null;function _a(){Na=Ea=ka=null}function Ca(e){var t=Sa.current;Ni(Sa),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t){ka=e,Na=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Aa=null;function Pa(e){null===Aa?Aa=[e]:Aa.push(e)}function Da(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Va(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var qa={},Wa=Ei(qa),Ka=Ei(qa),Ga=Ei(qa);function Ya(e){if(e===qa)throw Error(a(174));return e}function Xa(e,t){switch(_i(Ga,t),_i(Ka,e),_i(Wa,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Wa),_i(Wa,t)}function Qa(){Ni(Wa),Ni(Ka),Ni(Ga)}function $a(e){Ya(Ga.current);var t=Ya(Wa.current),n=le(t,e.type);t!==n&&(_i(Ka,e),_i(Wa,n))}function Ja(e){Ka.current===e&&(Ni(Wa),Ni(Ka))}var Za=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ol|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function Eo(e,t){var n=oo,r=xo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Oo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,_o.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(a(349));0!==(30&ao)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&jo(e)}function Co(e,t,n){return n(function(){To(t)&&jo(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Io(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return xo().memoizedState}function Do(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ao(t,n,a,r))}oo.flags|=e,i.memoizedState=Ao(1|t,n,a,r)}function Mo(e,t){return Do(8390656,8,e,t)}function Oo(e,t){return Ro(2048,8,e,t)}function Lo(e,t){return Ro(4,2,e,t)}function Fo(e,t){return Ro(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Vo.bind(null,t,e),n)}function Uo(){}function Bo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function Wo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{xt=n,io.transition=r}}function Ko(){return xo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Qo(t,n);else if(null!==(n=Da(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Yo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Da(e,t,i,r))&&(nc(n,e,r,i=ec()),$o(n,t,r))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ia,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ia,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Io,useDebugValue:Uo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Wo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===jl)throw Error(a(349));0!==(30&ao)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,_o.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=jl.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ia,useCallback:Bo,useContext:Ia,useEffect:Oo,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:Po,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return qo(xo(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ia,useCallback:Bo,useContext:Ia,useEffect:Oo,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Ho,useReducer:So,useRef:Po,useState:function(){return So(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[So(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Va(e,a,i))&&(nc(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Va(e,a,i))&&(nc(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Va(e,i,r))&&(nc(t,e,r,n),za(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ii:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ii:Ti.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ds(0,t)},n}function fs(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Va(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=b.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?wa(t,null,n,r):ba(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return ja(t,i),r=go(e,t,n,r,a,i),n=vo(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return _s(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Dl,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Dl,Pl),Pl|=r;return bs(e,t,i,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var a=Pi(n)?Ii:Ti.current;return a=Ai(t,a),ja(t,i),n=go(e,t,n,r,a,i),r=vo(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Cs(e,t,n,r,i){if(Pi(n)){var a=!0;Oi(t)}else a=!1;if(ja(t,i),null===t.stateNode)Hs(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ai(t,c=Pi(n)?Ii:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Ma=!1;var h=t.memoizedState;o.state=h,Ba(t,r,o,i),l=t.memoizedState,s!==r||h!==l||ji.current||Ma?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ma||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ia(l):l=Ai(t,l=Pi(n)?Ii:Ti.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Ma=!1,h=t.memoizedState,o.state=h,Ba(t,r,o,i);var f=t.memoizedState;s!==d||h!==f||ji.current||Ma?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Ma||as(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Ns(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),qs(e,t,a);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Xa(e,t.containerInfo)}function Is(e,t,n,r,i){return pa(),fa(i),t.flags|=256,bs(e,t,n,r),t.child}var As,Ps,Ds,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=Za.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Oc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vs(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=jl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),nc(r,e,i,-1))}return mc(),Vs(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Qi=e.id,$i=e.overflow,Xi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&fa(r),ba(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,Qa(),Ni(ji),Ni(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ps(e,t),Ks(t),null;case 5:Ja(t);var i=Ya(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=Ya(Wa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Q(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Ga.current),Ya(Wa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ni(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Qa(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return Ca(t.type._context),Ks(t),null;case 19:if(Ni(Za),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ks(t),null}else 2*$e()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Za.current,_i(Za,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ni(ji),Ni(Ti),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Ni(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(Za),null;case 4:return Qa(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Wa.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Js=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var c=Qs;if(Xs=o,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Js=l):Sl(i);for(;null!==a;)Js=a,xl(a,t,n),a=a.sibling;Js=i,Xs=s,Qs=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ha(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&il(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,El=Math.ceil,Nl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Tl=0,jl=null,Il=null,Al=0,Pl=0,Dl=Ei(0),Rl=0,Ml=null,Ol=0,Ll=0,Fl=0,Vl=null,zl=null,Ul=0,Bl=1/0,Hl=null,ql=!1,Wl=null,Kl=null,Gl=!1,Yl=null,Xl=0,Ql=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(a(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Ll|=n),4===Rl&&sc(e,Al)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=$e()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===jl?Al:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),oi(function(){0===(6&Tl)&&Bi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var o=fc();for(jl===e&&Al===t||(Hl=null,Bl=$e()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}_a(),Nl.current=o,Tl=i,null!==Il?t=0:(jl=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,zl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,zl,Hl),t);break}wc(e,zl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,zl,Hl),r);break}wc(e,zl,Hl);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(a(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Hl),rc(e,$e()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=$e()+500,Vi&&Bi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Pl=Dl.current,Ni(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Qa(),Ni(ji),Ni(Ti),no();break;case 5:Ja(r);break;case 4:Qa();break;case 13:case 19:Ni(Za);break;case 10:Ca(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Il=e=Dc(e.current,null),Al=Pl=t,Rl=0,Ml=null,Fl=Ll=Ol=0,zl=Vl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function pc(e,t){for(;;){var n=Il;try{if(_a(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,_l.current=null,null===n||null===n.return){Rl=1,Ml=t,Il=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&ms(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),fa(cs(c,l));break e}}o=c=cs(c,l),4!==Rl&&(Rl=2),null===Vl?Vl=[o]:Vl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ua(o,ps(0,c,t));break e;case 1:l=c;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Ua(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function fc(){var e=Nl.current;return Nl.current=Jo,null===e?Jo:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===jl||0===(268435455&Ol)&&0===(268435455&Ll)||sc(jl,Al)}function gc(e,t){var n=Tl;Tl|=2;var r=fc();for(jl===e&&Al===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(_a(),Tl=n,Nl.current=r,null!==Il)throw Error(a(261));return jl=null,Al=0,Rl}function vc(){for(;null!==Il;)xc(Il)}function yc(){for(;null!==Il&&!Xe();)xc(Il)}function xc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Il=t,_l.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pl)))return void(Il=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=xt,i=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===jl&&(Il=jl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=xt;xt=1;var l=Tl;Tl|=4,_l.current=null,function(e,t){if(ei=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Tl=l,xt=s,Cl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,xt=r}return null}function Sc(){if(null!==Yl){var e=bt(Xl),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Tl))throw Error(a(331));var i=Tl;for(Tl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(al(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var x=e.current;for(Js=x;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=x;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Tl=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Va(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Va(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>$e()-Ul?hc(e,0):Fl|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ra(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function jc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Ic(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Mc(n.children,i,o,t);case E:s=8,i|=8;break;case N:return(e=Ac(12,n,t,2|i)).elementType=N,e.lanes=o,e;case j:return(e=Ac(13,n,t,i)).elementType=j,e.lanes=o,e;case I:return(e=Ac(19,n,t,i)).elementType=I,e.lanes=o,e;case D:return Oc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case C:s=9;break e;case T:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,l){return e=new Vc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Uc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,s,l){return(e=zc(n,r,!0,e,0,a,0,s,l)).context=Uc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Va(n,a,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Va(i,t,o))&&(nc(e,i,o,a),za(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:js(t),pa();break;case 5:$a(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Sa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(_i(Za,1&Za.current),null!==(e=qs(e,t,n))?e.sibling:null);_i(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return qs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);ja(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(js(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Ba(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=qs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return $a(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ns(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_i(Sa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!ji.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ta(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ta(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ja(t,n),r=r(i=Ia(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,ja(t,n),os(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=qc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return qc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[fi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Tl)&&(Bl=$e()+500,Bi()))}break;case 13:uc(function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return xt},Nt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[xi,bi,wi,_e,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Oe){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:h=!1}=i,p=l.history,f=e.Pop,m=null,g=v();function v(){return(p.state||{idx:null}).idx}function y(){f=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:f,location:b.location,delta:n})}function x(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(a({},p.state,{idx:g}),""));let b={get action(){return f},get location(){return t(l,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(o,y),m=e,()=>{l.removeEventListener(o,y),m=null}},createHref:e=>n(l,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let i=u(b.location,t,n);r&&r(i,t),g=v()+1;let a=c(i,g),o=b.createHref(i);try{p.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(o)}h&&m&&m({action:f,location:b.location,delta:1})},replace:function(t,n){f=e.Replace;let i=u(b.location,t,n);r&&r(i,t),g=v();let a=c(i,g),o=b.createHref(i);p.replaceState(a,"",o),h&&m&&m({action:f,location:b.location,delta:0})},go:e=>p.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=I(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let a=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=j(i);o=C(a[s],e,r)}return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=M([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=y(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,b=3,w=2,S=1,k=10,E=-2,N=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=E),t&&(r+=w),n.filter(e=>!N(e)).reduce((e,t)=>e+(x.test(t)?b:""===t?S:k),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:M([a,u.pathname]),pathnameBase:O(M([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=M([a,u.pathnameBase]))}return o}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:a,pathnameBase:o,pattern:e}}function j(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=P(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=h(e):(i=a({},e),s(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let o,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:L(r),hash:F(i)}}(i,o),d=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!p||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],U=(new Set(z),["get",...z]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const H=t.createContext(null);const q=t.createContext(null);const W=t.createContext(null);const K=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function X(){return null!=t.useContext(K)}function Q(){return X()||s(!1),t.useContext(K).location}function $(e){t.useContext(W).static||t.useLayoutEffect(e)}function J(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=le(oe.UseNavigateStable),n=ue(se.UseNavigateStable),r=t.useRef(!1);$(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,B({fromRouteId:n},i)))},[e,n]);return i}():function(){X()||s(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(W),{matches:a}=t.useContext(G),{pathname:o}=Q(),l=JSON.stringify(D(a,r.v7_relativeSplatPath)),c=t.useRef(!1);return $(()=>{c.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let a=R(t,JSON.parse(l),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:M([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[n,i,l,o,e])}()}function Z(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(W),{matches:a}=t.useContext(G),{pathname:o}=Q(),s=JSON.stringify(D(a,i.v7_relativeSplatPath));return t.useMemo(()=>R(e,JSON.parse(s),o,"path"===r),[e,s,o,r])}function ee(n,r,i,a){X()||s(!1);let{navigator:o}=t.useContext(W),{matches:l}=t.useContext(G),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,f=Q();if(r){var g;let e="string"===typeof r?h(r):r;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||s(!1),p=e}else p=f;let v=p.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=m(n,{pathname:y});let b=ae(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,i,a);return r&&b?t.createElement(K.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:e.Pop}},b):b}function te(){let e=function(){var e;let n=t.useContext(Y),r=ce(se.UseRouteError),i=ue(se.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(H);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function ae(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,c=null==(a=r)?void 0:a.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||s(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,i,a)=>{let o,s=!1,h=null,p=null;var f;r&&(o=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||ne,u&&(d<0&&0===a?(f="route-fallback",!1||de[f]||(de[f]=!0),s=!0,p=null):d===a&&(s=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,a+1)),g=()=>{let n;return n=o?h:s?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ie,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function le(e){let n=t.useContext(H);return n||s(!1),n}function ce(e){let n=t.useContext(q);return n||s(!1),n}function ue(e){let n=function(){let e=t.useContext(G);return e||s(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||s(!1),r.route.id}const de={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function pe(e){let{to:n,replace:r,state:i,relative:a}=e;X()||s(!1);let{future:o,static:l}=t.useContext(W),{matches:c}=t.useContext(G),{pathname:u}=Q(),d=J(),h=R(n,D(c,o.v7_relativeSplatPath),u,"path"===a),p=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(p),{replace:r,state:i,relative:a}),[d,p,a,r,i]),null}function fe(e){s(!1)}function me(n){let{basename:r="/",children:i=null,location:a,navigationType:o=e.Pop,navigator:l,static:c=!1,future:u}=n;X()&&s(!1);let d=r.replace(/^\/*/,"/"),p=t.useMemo(()=>({basename:d,navigator:l,static:c,future:B({v7_relativeSplatPath:!1},u)}),[d,u,l,c]);"string"===typeof a&&(a=h(a));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=a,x=t.useMemo(()=>{let e=I(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}},[d,f,m,g,v,y,o]);return null==x?null:t.createElement(W.Provider,{value:p},t.createElement(K.Provider,{children:i,value:x}))}function ge(e){let{children:t,location:n}=e;return ee(ve(t),n)}new Promise(()=>{});t.Component;function ve(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ve(e.props.children,a));e.type!==fe&&s(!1),e.props.index&&e.props.children&&s(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,a)),r.push(o)}),r}var ye=n(950),xe=n.t(ye,2);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Oe){}new Map;const ke=r.startTransition;xe.flushSync,r.useId;function Ee(e){let{basename:n,children:r,future:i,window:a}=e,o=t.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),p(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,s)));let l=o.current,[c,h]=t.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=t.useCallback(e=>{f&&ke?ke(()=>h(e)):h(e)},[h,f]);return t.useLayoutEffect(()=>l.listen(m),[l,m]),t.useEffect(()=>he(i),[i]),t.createElement(me,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef(function(e,n){let r,{onClick:i,relative:a,reloadDocument:o,replace:l,state:c,target:u,to:h,preventScrollReset:p,viewTransition:f}=e,m=we(e,Se),{basename:g}=t.useContext(W),v=!1;if("string"===typeof h&&_e.test(h)&&(r=h,Ne))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=I(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(Oe){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;X()||s(!1);let{basename:i,navigator:a}=t.useContext(W),{hash:o,pathname:l,search:c}=Z(e,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:M([i,l])),a.createHref({pathname:u,search:c,hash:o})}(h,{relative:a}),x=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===n?{}:n,c=J(),u=Q(),h=Z(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:l})}},[u,c,h,i,a,r,e,o,s,l])}(h,{replace:l,state:c,target:u,preventScrollReset:p,relative:a,viewTransition:f});return t.createElement("a",be({},m,{href:r||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||x(e)},ref:n,target:u}))});var Te,je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));function Ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Pe(e){var t=function(e,t){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ae(t)?t:t+""}function De(e,t,n){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach(function(t){De(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Oe={data:""},Le=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Oe,Fe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ve=/\/\*[^]*?\*\/|  +/g,ze=/\n+/g,Ue=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+o+";":r+="f"==a[1]?Ue(o,a):a+"{"+Ue(o,"k"==a[1]?"":t)+"}":"object"==typeof o?r+=Ue(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ue.p?Ue.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Be={},He=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+He(e[n]);return t}return e},qe=(e,t,n,r,i)=>{let a=He(e),o=Be[a]||(Be[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!Be[o]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=Fe.exec(e.replace(Ve,""));)t[4]?r.shift():t[3]?(n=t[3].replace(ze," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(ze," ").trim();return r[0]})(e);Be[o]=Ue(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&Be.g?Be.g:null;return n&&(Be.g=Be[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Be[o],t,r,s),o};function We(e){let t=this||{},n=e.call?e(t.p):e;return qe(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Ue(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Le(t.target),t.g,t.o,t.k)}We.bind({g:1});let Ke,Ge,Ye,Xe=We.bind({k:1});function Qe(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:Ge&&Ge()},s),n.o=/ *go\d+/.test(l),s.className=We.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),Ye&&c[0]&&Ye(s),Ke(c,s)}return t?t(i):i}}var $e,Je,Ze,et,tt,nt,rt,it,at,ot,st,lt,ct,ut,dt,ht,pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,ft=(()=>{let e=0;return()=>(++e).toString()})(),mt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),gt="default",vt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Me(Me({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Me(Me({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Me(Me({},e),t.toast):e)});case 2:let{toast:r}=t;return vt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Me(Me({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Me(Me({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Me(Me({},e),{},{toasts:[]}):Me(Me({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Me(Me({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Me(Me({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Me(Me({},e),{},{pauseDuration:e.pauseDuration+a}))})}},yt=[],xt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},bt={},wt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt;bt[t]=vt(bt[t]||xt,e),yt.forEach(e=>{let[n,r]=e;n===t&&r(bt[t])})},St=e=>Object.keys(bt).forEach(t=>wt(e,t)),kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;return t=>{wt(t,e)}},Et={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Nt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Me(Me({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||ft()})}(t,e,n);return kt(r.toasterId||(e=>Object.keys(bt).find(t=>bt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},_t=(e,t)=>Nt("blank")(e,t);_t.error=Nt("error"),_t.success=Nt("success"),_t.loading=Nt("loading"),_t.custom=Nt("custom"),_t.dismiss=(e,t)=>{let n={type:3,toastId:e};t?kt(t)(n):St(n)},_t.dismissAll=e=>_t.dismiss(void 0,e),_t.remove=(e,t)=>{let n={type:4,toastId:e};t?kt(t)(n):St(n)},_t.removeAll=e=>_t.remove(void 0,e),_t.promise=(e,t,n)=>{let r=_t.loading(t.loading,Me(Me({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?pt(t.success,e):void 0;return i?_t.success(i,Me(Me({id:r},n),null==n?void 0:n.success)):_t.dismiss(r),e}).catch(e=>{let i=t.error?pt(t.error,e):void 0;i?_t.error(i,Me(Me({id:r},n),null==n?void 0:n.error)):_t.dismiss(r)}),e};var Ct=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt,[r,i]=(0,t.useState)(bt[n]||xt),a=(0,t.useRef)(bt[n]);(0,t.useEffect)(()=>(a.current!==bt[n]&&i(bt[n]),yt.push([n,i]),()=>{let e=yt.findIndex(e=>{let[t]=e;return t===n});e>-1&&yt.splice(e,1)}),[n]);let o=r.toasts.map(t=>{var n,r,i;return Me(Me(Me(Me({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Et[t.type],style:Me(Me(Me({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Me(Me({},r),{},{toasts:o})}(e,n),a=(0,t.useRef)(new Map).current,o=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),s({type:4,toastId:e})},t);a.set(e,n)},[]);(0,t.useEffect)(()=>{if(i)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>_t.dismiss(t.id,n),r);t.visible&&_t.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,i,n]);let s=(0,t.useCallback)(kt(n),[n]),l=(0,t.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),c=(0,t.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),u=(0,t.useCallback)(()=>{i&&s({type:6,time:Date.now()})},[i,s]),d=(0,t.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:a}=t||{},o=r.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Tt=Xe($e||($e=Ie(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),jt=Xe(Je||(Je=Ie(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),It=Xe(Ze||(Ze=Ie(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),At=Qe("div")(et||(et=Ie(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Tt,jt,e=>e.secondary||"#fff",It),Pt=Xe(tt||(tt=Ie(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Dt=Qe("div")(nt||(nt=Ie(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Pt),Rt=Xe(rt||(rt=Ie(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Mt=Xe(it||(it=Ie(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Ot=Qe("div")(at||(at=Ie(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Rt,Mt,e=>e.secondary||"#fff"),Lt=Qe("div")(ot||(ot=Ie(["\n  position: absolute;\n"]))),Ft=Qe("div")(st||(st=Ie(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Vt=Xe(lt||(lt=Ie(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),zt=Qe("div")(ct||(ct=Ie(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Vt),Ut=e=>{let{toast:n}=e,{icon:r,type:i,iconTheme:a}=n;return void 0!==r?"string"==typeof r?t.createElement(zt,null,r):r:"blank"===i?null:t.createElement(Ft,null,t.createElement(Dt,Me({},a)),"loading"!==i&&t.createElement(Lt,null,"error"===i?t.createElement(At,Me({},a)):t.createElement(Ot,Me({},a))))},Bt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Ht=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),qt=Qe("div")(ut||(ut=Ie(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Wt=Qe("div")(dt||(dt=Ie(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Kt=t.memo(e=>{let{toast:n,position:r,style:i,children:a}=e,o=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=mt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Bt(n),Ht(n)];return{animation:t?"".concat(Xe(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Xe(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},s=t.createElement(Ut,{toast:n}),l=t.createElement(Wt,Me({},n.ariaProps),pt(n.message,n));return t.createElement(qt,{className:n.className,style:Me(Me(Me({},o),i),n.style)},"function"==typeof a?a({icon:s,message:l}):t.createElement(t.Fragment,null,s,l))});!function(e,t,n,r){Ue.p=t,Ke=e,Ge=n,Ye=r}(t.createElement);var Gt=e=>{let{id:n,className:r,style:i,onHeightUpdate:a,children:o}=e,s=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,a]);return t.createElement("div",{ref:s,className:r,style:i},o)},Yt=We(ht||(ht=Ie(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Xt=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:a,children:o,toasterId:s,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Ct(i,s);return t.createElement("div",{"data-rht-toaster":s||"",style:Me({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let i=e.position||r,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Me(Me({left:0,right:0,display:"flex",position:"absolute",transition:mt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,d.calculateOffset(e,{reverseOrder:n,gutter:a,defaultPosition:r}));return t.createElement(Gt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Yt:"",style:s},"custom"===e.type?pt(e.message,e):o?o(e):t.createElement(Kt,{toast:e,position:i}))}))},Qt=_t;const $t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($t(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Zt;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Zt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const en=function(e){return function(e){const t=$t(e);return Jt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},tn=function(e){try{return Jt.decodeString(e,!0)}catch(Oe){console.error("base64Decode failed: ",Oe)}return null};const nn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,rn=()=>{try{return nn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Oe){return}const t=e&&tn(e[1]);return t&&JSON.parse(t)})()}catch(Oe){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Oe))}},an=e=>{var t,n;return null===(n=null===(t=rn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},on=e=>{const t=an(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},sn=()=>{var e;return null===(e=rn())||void 0===e?void 0:e.config},ln=e=>{var t;return null===(t=rn())||void 0===t?void 0:t["_".concat(e)]};class cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function un(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(a)),""].join(".")}function dn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hn(){return!function(){var e;const t=null===(e=rn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Oe){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pn(){try{return"object"===typeof indexedDB}catch(Oe){return!1}}class fn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(gn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new fn(n,a,t)}}const gn=/\{\$([^}]+)}/g;function vn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(yn(n)&&yn(a)){if(!vn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yn(e){return null!==e&&"object"===typeof e}function xn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function bn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function wn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Sn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=kn),void 0===r.error&&(r.error=kn),void 0===r.complete&&(r.complete=kn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Oe){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Oe){"undefined"!==typeof console&&console.error&&console.error(Oe)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}function En(e){return e&&e._delegate?e._delegate:e}class Nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _n="[DEFAULT]";class Cn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new cn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Oe){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Oe){if(r)return null;throw Oe}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_n})}catch(Oe){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Oe){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===_n?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.component?this.component.multipleInstances?e:_n:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jn=[];var In;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(In||(In={}));const An={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},Pn=In.INFO,Dn={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},Rn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Mn{constructor(e){this.name=e,this._logLevel=Pn,this._logHandler=Rn,this._userLogHandler=null,jn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?An[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...t),this._logHandler(this,In.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...t),this._logHandler(this,In.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.INFO,...t),this._logHandler(this,In.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.WARN,...t),this._logHandler(this,In.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.ERROR,...t),this._logHandler(this,In.ERROR,...t)}}let On,Ln;const Fn=new WeakMap,Vn=new WeakMap,zn=new WeakMap,Un=new WeakMap,Bn=new WeakMap;let Hn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ln||(Ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gn(this),n),Kn(Fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kn(e.apply(Gn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Gn(this),t,...r);return zn.set(a,t.sort?t.sort():[t]),Kn(a)}}function Wn(e){return"function"===typeof e?qn(e):(e instanceof IDBTransaction&&function(e){if(Vn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Vn.set(e,t)}(e),t=e,(On||(On=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Hn):e);var t}function Kn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Kn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Fn.set(t,e)}).catch(()=>{}),Bn.set(t,e),t}(e);if(Un.has(e))return Un.get(e);const t=Wn(e);return t!==e&&(Un.set(e,t),Bn.set(t,e)),t}const Gn=e=>Bn.get(e);const Yn=["get","getKey","getAll","getAllKeys","count"],Xn=["put","add","delete","clear"],Qn=new Map;function $n(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Qn.get(t))return Qn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Xn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Qn.set(t,a),a}Hn=(e=>Me(Me({},e),{},{get:(t,n,r)=>$n(t,n)||e.get(t,n,r),has:(t,n)=>!!$n(t,n)||e.has(t,n)}))(Hn);class Jn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Zn="@firebase/app",er="0.10.13",tr=new Mn("@firebase/app"),nr="@firebase/app-compat",rr="@firebase/analytics-compat",ir="@firebase/analytics",ar="@firebase/app-check-compat",or="@firebase/app-check",sr="@firebase/auth",lr="@firebase/auth-compat",cr="@firebase/database",ur="@firebase/data-connect",dr="@firebase/database-compat",hr="@firebase/functions",pr="@firebase/functions-compat",fr="@firebase/installations",mr="@firebase/installations-compat",gr="@firebase/messaging",vr="@firebase/messaging-compat",yr="@firebase/performance",xr="@firebase/performance-compat",br="@firebase/remote-config",wr="@firebase/remote-config-compat",Sr="@firebase/storage",kr="@firebase/storage-compat",Er="@firebase/firestore",Nr="@firebase/vertexai-preview",_r="@firebase/firestore-compat",Cr="firebase",Tr="[DEFAULT]",jr={[Zn]:"fire-core",[nr]:"fire-core-compat",[ir]:"fire-analytics",[rr]:"fire-analytics-compat",[or]:"fire-app-check",[ar]:"fire-app-check-compat",[sr]:"fire-auth",[lr]:"fire-auth-compat",[cr]:"fire-rtdb",[ur]:"fire-data-connect",[dr]:"fire-rtdb-compat",[hr]:"fire-fn",[pr]:"fire-fn-compat",[fr]:"fire-iid",[mr]:"fire-iid-compat",[gr]:"fire-fcm",[vr]:"fire-fcm-compat",[yr]:"fire-perf",[xr]:"fire-perf-compat",[br]:"fire-rc",[wr]:"fire-rc-compat",[Sr]:"fire-gcs",[kr]:"fire-gcs-compat",[Er]:"fire-fst",[_r]:"fire-fst-compat",[Nr]:"fire-vertex","fire-js":"fire-js",[Cr]:"fire-js-all"},Ir=new Map,Ar=new Map,Pr=new Map;function Dr(e,t){try{e.container.addComponent(t)}catch(Oe){tr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Oe)}}function Rr(e){const t=e.name;if(Pr.has(t))return tr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pr.set(t,e);for(const n of Ir.values())Dr(n,e);for(const n of Ar.values())Dr(n,e);return!0}function Mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Or(e){return void 0!==e.settings}const Lr=new mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const Vr="10.14.1";function zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Tr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=sn()),!n)throw Lr.create("no-options");const a=Ir.get(i);if(a){if(vn(n,a.options)&&vn(r,a.config))return a;throw Lr.create("duplicate-app",{appName:i})}const o=new Tn(i);for(const l of Pr.values())o.addComponent(l);const s=new Fr(n,r,o);return Ir.set(i,s),s}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;const t=Ir.get(e);if(!t&&e===Tr&&sn())return zr();if(!t)throw Lr.create("no-app",{appName:e});return t}function Br(e,t,n){var r;let i=null!==(r=jr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void tr.warn(e.join(" "))}Rr(new Nn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Hr="firebase-heartbeat-store";let qr=null;function Wr(){return qr||(qr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Kn(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Kn(o.result),e.oldVersion,e.newVersion,Kn(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Hr)}catch(Oe){console.warn(Oe)}}}).catch(e=>{throw Lr.create("idb-open",{originalErrorMessage:e.message})})),qr}async function Kr(e,t){try{const n=(await Wr()).transaction(Hr,"readwrite"),r=n.objectStore(Hr);await r.put(t,Gr(e)),await n.done}catch(Oe){if(Oe instanceof fn)tr.warn(Oe.message);else{const t=Lr.create("idb-set",{originalErrorMessage:null===Oe||void 0===Oe?void 0:Oe.message});tr.warn(t.message)}}}function Gr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Yr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(Oe){tr.warn(Oe)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Xr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),$r(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$r(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=en(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Oe){return tr.warn(Oe),""}}}function Xr(){return(new Date).toISOString().substring(0,10)}class Qr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!pn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Wr()).transaction(Hr),n=await t.objectStore(Hr).get(Gr(e));return await t.done,n}catch(Oe){if(Oe instanceof fn)tr.warn(Oe.message);else{const t=Lr.create("idb-get",{originalErrorMessage:null===Oe||void 0===Oe?void 0:Oe.message});tr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $r(e){return en(JSON.stringify({version:2,heartbeats:e})).length}var Jr;Jr="",Rr(new Nn("platform-logger",e=>new Jn(e),"PRIVATE")),Rr(new Nn("heartbeat",e=>new Yr(e),"PRIVATE")),Br(Zn,er,Jr),Br(Zn,er,"esm2017"),Br("fire-js","");function Zr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ei(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(Oe){a(Oe)}}function s(e){try{l(r.throw(e))}catch(Oe){a(Oe)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ti(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ni=ti,ri=new mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ii=new Mn("@firebase/auth");function ai(e){if(ii.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ii.error("Auth (".concat(Vr,"): ").concat(e),...n)}}function oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ui(e,...n)}function si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ui(e,...n)}function li(e,t,n){const r=Object.assign(Object.assign({},ni()),{[t]:n});return new mn("auth","Firebase",r).create(t,{appName:e.name})}function ci(e){return li(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ri.create(e,...n)}function di(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ui(t,...r)}}function hi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ai(t),new Error(t)}function pi(e,t){e||hi(t)}function fi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mi(){return"http:"===gi()||"https:"===gi()}function gi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function vi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mi()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class yi{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return vi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xi(e,t){pi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class bi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Si=new yi(3e4,6e4);function ki(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ei(e,t,n,r){return Ni(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=xn(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),bi.fetch()(Ci(e,e.config.apiHost,n,o),l)})}async function Ni(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},wi),t);try{const t=new ji(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ii(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ii(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Ii(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Ii(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw li(e,s,o);oi(e,s)}}catch(Oe){if(Oe instanceof fn)throw Oe;oi(e,"network-request-failed",{message:String(Oe)})}}async function _i(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Ei(e,t,n,r,i);return"mfaPendingCredential"in a&&oi(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Ci(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?xi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ti(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ji{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(si(this.auth,"network-request-failed")),Si.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ii(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(e,t,r);return i.customData._tokenResponse=n,i}function Ai(e){return void 0!==e&&void 0!==e.enterprise}class Pi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ti(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Di(e,t){return Ei(e,"GET","/v2/recaptchaConfig",ki(e,t))}async function Ri(e,t){return Ei(e,"POST","/v1/accounts:lookup",t)}function Mi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Oe){}}function Oi(e){return 1e3*Number(e)}function Li(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ai("JWT malformed, contained fewer than 3 sections"),null;try{const e=tn(n);return e?JSON.parse(e):(ai("Failed to decode base64 JWT payload"),null)}catch(Oe){return ai("Caught error parsing JWT payload as JSON",null===Oe||void 0===Oe?void 0:Oe.toString()),null}}function Fi(e){const t=Li(e);return di(t,"internal-error"),di("undefined"!==typeof t.exp,"internal-error"),di("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Vi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Oe){throw Oe instanceof fn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Oe)&&e.auth.currentUser===e&&await e.auth.signOut(),Oe}}class zi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Oe){return void((null===Oe||void 0===Oe?void 0:Oe.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ui{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mi(this.lastLoginAt),this.creationTime=Mi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Vi(e,Ri(n,{idToken:r}));di(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Hi(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Ui(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Hi(e){return e.map(e=>{var{providerId:t}=e,n=Zr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){di(e.idToken,"internal-error"),di("undefined"!==typeof e.idToken,"internal-error"),di("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Fi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){di(0!==e.length,"internal-error");const t=Fi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(di(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ni(e,{},async()=>{const n=xn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Ci(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",bi.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new qi;return n&&(di("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(di("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(di("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qi,this.toJSON())}_performRefresh(){return hi("not implemented")}}function Wi(e,t){di("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ki{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Zr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ui(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return di(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=En(e),r=await n.getIdToken(t),i=Li(r);di(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Mi(Oi(i.auth_time)),issuedAtTime:Mi(Oi(i.iat)),expirationTime:Mi(Oi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=En(e);await Bi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(di(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){di(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await Vi(this,async function(e,t){return Ei(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:S}=t;di(y&&S,e,"internal-error");const k=qi.fromJSON(this.name,S);di("string"===typeof y,e,"internal-error"),Wi(u,e.name),Wi(d,e.name),di("boolean"===typeof x,e,"internal-error"),di("boolean"===typeof b,e,"internal-error"),Wi(h,e.name),Wi(p,e.name),Wi(f,e.name),Wi(m,e.name),Wi(g,e.name),Wi(v,e.name);const E=new Ki({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new qi;r.updateFromServerResponse(t);const i=new Ki({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Bi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];di(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Hi(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new qi;o.updateFromIdToken(n);const s=new Ki({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ui(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Gi=new Map;function Yi(e){pi(e instanceof Function,"Expected a class definition");let t=Gi.get(e);return t?(pi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gi.set(e,t),t)}class Xi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xi.type="NONE";const Qi=Xi;function $i(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ji{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=$i(this.userKey,r.apiKey,i),this.fullPersistenceKey=$i("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ji(Yi(Qi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Yi(Qi);const a=$i(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){const n=Ki._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new Ji(i,e,n)):new Ji(i,e,n)}}function Zi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ra(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ea(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aa(t))return"Blackberry";if(oa(t))return"Webos";if(ta(t))return"Safari";if((t.includes("chrome/")||na(t))&&!t.includes("edge/"))return"Chrome";if(ia(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/firefox\//i.test(e)}function ta(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/crios\//i.test(e)}function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/iemobile/i.test(e)}function ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/android/i.test(e)}function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/blackberry/i.test(e)}function oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/webos/i.test(e)}function sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function la(){return function(){const e=dn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return sa(e)||ia(e)||oa(e)||aa(e)||/windows phone/i.test(e)||ra(e)}function ua(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zi(dn());break;case"Worker":t="".concat(Zi(dn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Vr,"/").concat(r)}class da{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Oe){r(Oe)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Oe){t.reverse();for(const n of t)try{n()}catch(St){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Oe||void 0===Oe?void 0:Oe.message})}}}class ha{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class pa{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ma(this),this.idTokenSubscription=new ma(this),this.beforeStateQueue=new da(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ri,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ji.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Oe){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ri(this,{idToken:e}),n=await Ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Or(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Oe){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Oe))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return di(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Oe){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bi(e)}catch(Oe){if((null===Oe||void 0===Oe?void 0:Oe.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(ci(this));const t=e?En(e):null;return t&&di(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&di(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ei(e,"GET","/v2/passwordPolicy",ki(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ha(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ei(e,"POST","/v2/accounts:revokeToken",ki(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yi(e)||this._popupRedirectResolver;di(t,this,"argument-error"),this.redirectPersistenceManager=await Ji.create(this,[Yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(di(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return di(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ua(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ii.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ii.warn("Auth (".concat(Vr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function fa(e){return En(e)}class ma{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Sn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return di(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ga={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function va(e){return ga.loadJS(e)}function ya(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class xa{constructor(e){this.type="recaptcha-enterprise",this.auth=fa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ai(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Di(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Pi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ai(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ga.recaptchaEnterpriseScript;0!==t.length&&(t+=i),va(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ba(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new xa(e);let a;try{a=await i.verify(n)}catch(s){a=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wa(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ba(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ba(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Sa(e,t,n){const r=fa(e);di(r._canInitEmulator,r,"emulator-config-failed"),di(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ka(t),{host:o,port:s}=function(e){const t=ka(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ea(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ea(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ka(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ea(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Na{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function _a(e,t){return Ei(e,"POST","/v1/accounts:signUp",t)}async function Ca(e,t){return _i(e,"POST","/v1/accounts:signInWithPassword",ki(e,t))}async function Ta(e,t){return Ei(e,"POST","/v1/accounts:sendOobCode",ki(e,t))}async function ja(e,t){return Ta(e,t)}class Ia extends Na{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ia(e,t,"password")}static _fromEmailAndCode(e,t){return new Ia(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wa(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ca);case"emailLink":return async function(e,t){return _i(e,"POST","/v1/accounts:signInWithEmailLink",ki(e,t))}(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wa(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_a);case"emailLink":return async function(e,t){return _i(e,"POST","/v1/accounts:signInWithEmailLink",ki(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Aa(e,t){return _i(e,"POST","/v1/accounts:signInWithIdp",ki(e,t))}class Pa extends Na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Zr(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Pa(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Aa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Aa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xn(t)}return e}}const Da={USER_NOT_FOUND:"user-not-found"};class Ra extends Na{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ra({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ra({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return _i(e,"POST","/v1/accounts:signInWithPhoneNumber",ki(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await _i(e,"POST","/v1/accounts:signInWithPhoneNumber",ki(e,t));if(n.temporaryProof)throw Ii(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return _i(e,"POST","/v1/accounts:signInWithPhoneNumber",ki(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Da)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ra({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ma{constructor(e){var t,n,r,i,a,o;const s=bn(wn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);di(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=bn(wn(e)).link,n=t?bn(wn(t)).deep_link_id:null,r=bn(wn(e)).deep_link_id;return(r?bn(wn(r)).link:null)||r||n||t||e}(e);try{return new Ma(t)}catch(n){return null}}}class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,t){return Ia._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ma.parseLink(t);return di(n,"argument-error"),Ia._fromEmailAndCode(e,n.code,n.tenantId)}}Oa.PROVIDER_ID="password",Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class La{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fa extends La{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Va extends Fa{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Va.credential(t.oauthAccessToken)}catch(n){return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com",Va.PROVIDER_ID="facebook.com";class za extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return za.credential(n,r)}catch(i){return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com",za.PROVIDER_ID="google.com";class Ua extends Fa{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ua.credential(t.oauthAccessToken)}catch(n){return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com",Ua.PROVIDER_ID="github.com";class Ba extends Fa{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ba.credential(n,r)}catch(i){return null}}}async function Ha(e,t){return _i(e,"POST","/v1/accounts:signUp",ki(e,t))}Ba.TWITTER_SIGN_IN_METHOD="twitter.com",Ba.PROVIDER_ID="twitter.com";class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ki._fromIdTokenResponse(e,n,r),a=Wa(n);return new qa({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wa(n);return new qa({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ka extends fn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ka.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ka(e,t,n,r)}}function Ga(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ka._fromErrorAndOperation(e,n,t,r);throw n})}async function Ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Vi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qa._forOperation(e,"link",r)}async function Xa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Or(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const a=await Vi(e,Ga(r,i,t,e),n);di(a.idToken,r,"internal-error");const o=Li(a.idToken);di(o,r,"internal-error");const{sub:s}=o;return di(e.uid===s,r,"user-mismatch"),qa._forOperation(e,i,a)}catch(Oe){throw(null===Oe||void 0===Oe?void 0:Oe.code)==="auth/".concat("user-not-found")&&oi(r,"user-mismatch"),Oe}}async function Qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Or(e.app))return Promise.reject(ci(e));const r="signIn",i=await Ga(e,r,t),a=await qa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function $a(e,t){return Qa(fa(e),t)}function Ja(e,t,n){var r;di((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),di("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(di(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(di(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Za(e){const t=fa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eo(e,t,n){if(Or(e.app))return Promise.reject(ci(e));const r=fa(e),i=wa(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ha),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Za(e),t}),o=await qa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}async function to(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=En(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Vi(i,async function(e,t){return Ei(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}new WeakMap;const no="__sak";class ro{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class io extends ro{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ca(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);la()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}io.type="LOCAL";const ao=io;class oo extends ro{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oo.type="SESSION";const so=oo;class lo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new lo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lo.receivers=[];class uo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=co("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function ho(){return window}function po(){return"undefined"!==typeof ho().WorkerGlobalScope&&"function"===typeof ho().importScripts}const fo="firebaseLocalStorageDb",mo="firebaseLocalStorage",go="fbase_key";class vo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yo(e,t){return e.transaction([mo],t?"readwrite":"readonly").objectStore(mo)}function xo(){const e=indexedDB.open(fo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mo,{keyPath:go})}catch(Oe){n(Oe)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(fo);return new vo(e).toPromise()}(),t(await xo()))})})}async function bo(e,t,n){const r=yo(e,!0).put({[go]:t,value:n});return new vo(r).toPromise()}function wo(e,t){const n=yo(e,!0).delete(t);return new vo(n).toPromise()}class So{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await xo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Oe){if(t++>3)throw Oe;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return po()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lo._getInstance(po()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new uo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xo();return await bo(e,no,"1"),await wo(e,no),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=yo(e,!1).get(t),r=await new vo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=yo(e,!1).getAll();return new vo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}So.type="LOCAL";const ko=So;ya("rcb"),new yi(3e4,6e4);const Eo="recaptcha";async function No(e,t,n){var r;const i=await n.verify();try{let a;if(di("string"===typeof i,e,"argument-error"),di(n.type===Eo,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){di("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ei(e,"POST","/v2/accounts/mfaEnrollment:start",ki(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{di("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;di(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ei(e,"POST","/v2/accounts/mfaSignIn:start",ki(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ei(e,"POST","/v1/accounts:sendVerificationCode",ki(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class _o{constructor(e){this.providerId=_o.PROVIDER_ID,this.auth=fa(e)}verifyPhoneNumber(e,t){return No(this.auth,e,En(t))}static credential(e,t){return Ra._fromVerification(e,t)}static credentialFromResult(e){const t=e;return _o.credentialFromTaggedObject(t)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ra._fromTokenResponse(n,r):null}}function Co(e,t){return t?Yi(t):(di(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_o.PROVIDER_ID="phone",_o.PHONE_SIGN_IN_METHOD="phone";class To extends Na{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jo(e){return Qa(e.auth,new To(e),e.bypassAuthState)}function Io(e){const{auth:t,user:n}=e;return di(n,t,"internal-error"),Xa(n,new To(e),e.bypassAuthState)}async function Ao(e){const{auth:t,user:n}=e;return di(n,t,"internal-error"),Ya(n,new To(e),e.bypassAuthState)}class Po{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Oe){this.reject(Oe)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(Oe){this.reject(Oe)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jo;case"linkViaPopup":case"linkViaRedirect":return Ao;case"reauthViaPopup":case"reauthViaRedirect":return Io;default:oi(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Do=new yi(2e3,1e4);class Ro extends Po{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return di(e,this.auth,"internal-error"),e}async onExecution(){pi(1===this.filter.length,"Popup operations only handle one event");const e=co();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Do.get())};e()}}Ro.currentPopupAction=null;const Mo=new Map;class Oo extends Po{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Mo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vo(t),r=Fo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Oe){e=()=>Promise.reject(Oe)}Mo.set(this.auth._key(),e)}return this.bypassAuthState||Mo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Lo(e,t){Mo.set(e._key(),t)}function Fo(e){return Yi(e._redirectPersistence)}function Vo(e){return $i("pendingRedirect",e.config.apiKey,e.name)}async function zo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Or(e.app))return Promise.reject(ci(e));const r=fa(e),i=Co(r,t),a=new Oo(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Uo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ho(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ho(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(si(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bo(e))}saveEventToCache(e){this.cachedEventUids.add(Bo(e)),this.lastProcessedEventTime=Date.now()}}function Bo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ho(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;async function Ko(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ei(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Go(r))return}catch(n){}oi(e,"unauthorized-domain")}function Go(e){const t=fi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Wo.test(n))return!1;if(qo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yo=new yi(3e4,6e4);function Xo(){const e=ho().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qo(e){return new Promise((t,n)=>{var r,i,a;function o(){Xo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xo(),n(si(e,"network-request-failed"))},timeout:Yo.get()})}if(null===(i=null===(r=ho().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ho().gapi)||void 0===a?void 0:a.load)){const t=ya("iframefcb");return ho()[t]=()=>{gapi.load?o():n(si(e,"network-request-failed"))},va("".concat(ga.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw $o=null,e})}let $o=null;const Jo=new yi(5e3,15e3),Zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},es=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ts(e){const t=e.config;di(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Vr},i=es.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xn(r).slice(1))}async function ns(e){const t=await function(e){return $o=$o||Qo(e),$o}(e),n=ho().gapi;return di(n,e,"internal-error"),t.open({where:document.body,url:ts(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=si(e,"network-request-failed"),a=ho().setTimeout(()=>{r(i)},Jo.get());function o(){ho().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const rs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class is{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Oe){}}}function as(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},rs),{width:r.toString(),height:i.toString(),top:a,left:o}),c=dn().toLowerCase();n&&(s=na(c)?"_blank":n),ea(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return sa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new is(null);const d=window.open(t||"",s,u);di(d,e,"popup-blocked");try{d.focus()}catch(Oe){}return new is(d)}const os="__/auth/handler",ss="emulator/auth/handler",ls=encodeURIComponent("fac");async function cs(e,t,n,r,i,a){di(e.config.authDomain,e,"auth-domain-config-required"),di(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(t instanceof La){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Fa){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ls,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(os);return xi(t,ss)}(e),"?").concat(xn(s).slice(1)).concat(c)}const us="webStorageSupport";const ds=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=zo,this._overrideRedirectResult=Lo}async _openPopup(e,t,n,r){var i;pi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return as(e,await cs(e,t,n,fi(),r),co())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ho().location.href=e}(await cs(e,t,n,fi(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(pi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ns(e),n=new Uo(e);return t.register("authEvent",t=>{di(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(us,{type:us},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[us];void 0!==i&&t(!!i),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ko(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ca()||ta()||sa()}};var hs="@firebase/auth",ps="1.7.9";class fs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){di(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ms=ln("authIdTokenMaxAge")||300;let gs=null;var vs;!function(e){ga=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=si("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),vs="Browser",Rr(new Nn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;di(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:vs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ua(vs)},c=new pa(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Rr(new Nn("auth-internal",e=>(e=>new fs(e))(fa(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Br(hs,ps,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(vs)),Br(hs,ps,"esm2017");var ys,xs,bs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ws={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=p(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,p=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=p*g,f(n,2*i+2*a),n[2*i+2*a+1]+=l*g,f(n,2*i+2*a+1),n[2*i+2*a+1]+=p*m,f(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,f(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,xs=ws.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},ys=ws.Integer=r}).apply("undefined"!==typeof bs?bs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ss,ks,Es,Ns,_s,Cs,Ts,js,Is="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},As={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Is&&Is];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function E(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _,e=>e.reset());class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(Be){k(Be)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Be){}return e}();function M(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Ge){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,D);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new U(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)X(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(a=e.g[t],n,r,i))&&(z(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;w(t=new D(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function xe(){D.call(this,"c")}d(ye,D),d(xe,D);var be={},we=null;function Se(){return we=we||new ne}function ke(e){D.call(this,be.La,e)}function Ee(e){const t=Se();re(t,new ke(t))}function Ne(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function _e(e){const t=Se();re(t,new Ne(t,e))}function Ce(e,t){D.call(this,be.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(ke,D),be.STAT_EVENT="statevent",d(Ne,D),be.Ma="timingevent",d(Ce,D),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Re,fe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var ze={},Ue={};function He(e,t,n){e.L=1,e.v=vt(ht(t)),e.m=n,e.P=!0,qe(e,null)}function qe(e,t){e.F=Date.now(),Xe(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=xn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function We(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ye(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?ze:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function Xe(e){e.S=Date.now()+e.I,Qe(e,e.I)}function Qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Je(e){0==e.j.G||e.J||fn(e.j,e)}function Ze(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||at(n.h,e)))if(!e.K&&at(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Fe){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;pn(n),nn(n)}un(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(Fe){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&pn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ot(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=yn(r,r.J?r.ia:null,r.W),o.K){st(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&($e(s),Xe(s)),r.g=o}else cn(r);0<n.i.length&&an(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(Fe){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Jt(this.g)))){this.J||4!=h||7==t||Ee(),$e(this);var n=this.g.Z();this.X=n;t:if(We(this)){var r=Jt(this.g);e="";var a=r.length,o=4==$t(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ze(this),Je(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),Ze(this),Je(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ye(this,s),e==Ue){4==h&&(this.s=4,_e(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==ze){this.s=4,_e(15),Ie(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),et(this,e)}if(We(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),dn(d),d.M=!0,_e(11))}}else Ie(this.i,this.l,s,"[Invalid Chunked Response]"),Ze(this),Je(this)}else Ie(this.i,this.l,s,null),et(this,s);4==h&&Ze(this),this.o&&!this.J&&(4==h?fn(this.j,this):(this.o=!1,Xe(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Ze(this),Je(this)}}}catch(Ct){}},Me.prototype.cancel=function(){this.J=!0,Ze(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),_e(17)),Ze(this),this.s=2,Je(this)):Qe(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function st(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,pt(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),ft(this,t[4]),this.l=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ht(e){return new dt(e)}function pt(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),At(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=xt(t,Et)),e.i=new _t(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(xt(t,wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xt(n,"/"==n.charAt(0)?kt:St,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",xt(n,Nt)),e.join("")};var wt=/[#\/\?@]/g,St=/[#\?:]/g,kt=/[#\?]/g,Et=/[#\?@]/g,Nt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){Tt(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=Pt(e,t),e.g.has(t)}function At(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Pt(e,t),h(n)),e.h+=n.length)}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Ge){}}function Rt(){this.g=new pe}function Mt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Oe){throw t.push(r+"type="+encodeURIComponent("_badmap")),Oe}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ut(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ut(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function Ht(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Tt(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Pt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Ot,fe),Ot.prototype.g=function(){return new Lt(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),d(Lt,ne),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):zt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ht,ne);var qt=/^https?$/i,Wt=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Gt(e),Xt(e)}function Gt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Yt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(ut)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!qt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<$t(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Gt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){Qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Oe){}}}function Qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Rt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Ke){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=xn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Xe(t)}vn(e)}function nn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),pn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function an(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),T||(C(),T=!0),j.add(t,e),e.B=0}}function on(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),sn(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ot(e.h,n),He(n,r,t)}function sn(e,t){e.H&&y(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Mt(s,e,"req"+n+"_")}catch(Ct){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),T||(C(),T=!0),j.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),mn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),sn(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ht(t)),n.m=null,n.P=!0,qe(n,e)}function pn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function fn(e,t){var n=null;if(e.g==t){pn(e),dn(e),e.g=null;var r=2}else{if(!at(e.h,t))return;n=t.D,st(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),an(e)}else cn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),Dt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Dt(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),vn(e),rn(e)}function vn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function yn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new dt(null);r&&pt(o,r),t&&(o.g=t),a&&ft(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),sn(e,r),r}function xn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ht(new Ot({eb:n})):new Ht(e.pa)).Ha(e.J),t}function bn(){}function wn(){}function Sn(e,t){ne.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function kn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){xe.call(this),this.status=1}function Nn(e){this.g=e}(e=Ht.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ge){return void Kt(this,Ge)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Wt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ge){Kt(this,Ge)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Yt(this):this.bb())},e.bb=function(){Yt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(Ve){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ve){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=yn(this,null,this.W),an(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let a=this.o;if(this.S&&(a?(a=x(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),sn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Ut(a)))+"&"+t:this.m&&Bt(n,this.m,a)),ot(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,He(i,n,null)):He(i,n,t),this.G=2}}else 3==this.G&&(e?on(this,e):0==this.i.length||rt(this.h)||on(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),nn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},wn.prototype.g=function(e,t){return new Sn(e,t)},d(Sn,ne),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){tn(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&an(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,Sn.aa.N.call(this)},d(kn,ye),d(En,xe),d(Nn,bn),Nn.prototype.ua=function(){re(this.g,"a")},Nn.prototype.ta=function(e){re(this.g,new kn(e))},Nn.prototype.sa=function(e){re(this.g,new En)},Nn.prototype.ra=function(){re(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,js=As.createWebChannelTransport=function(){return new wn},Ts=As.getStatEventTarget=function(){return Se()},Cs=As.Event=be,_s=As.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Ns=As.ErrorCode=Pe,De.COMPLETE="complete",Es=As.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ks=As.WebChannel=ge,As.FetchXmlHttpFactory=Ot,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Ss=As.XhrIo=Ht}).apply("undefined"!==typeof Is?Is:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ps="@firebase/firestore";class Ds{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ds.UNAUTHENTICATED=new Ds(null),Ds.GOOGLE_CREDENTIALS=new Ds("google-credentials-uid"),Ds.FIRST_PARTY=new Ds("first-party-uid"),Ds.MOCK_USER=new Ds("mock-user");let Rs="10.14.0";const Ms=new Mn("@firebase/firestore");function Os(){return Ms.logLevel}function Ls(e){if(Ms.logLevel<=In.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zs);Ms.debug("Firestore (".concat(Rs,"): ").concat(e),...i)}}function Fs(e){if(Ms.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zs);Ms.error("Firestore (".concat(Rs,"): ").concat(e),...i)}}function Vs(e){if(Ms.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zs);Ms.warn("Firestore (".concat(Rs,"): ").concat(e),...i)}}function zs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Le){return e}}function Us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Rs,") INTERNAL ASSERTION FAILED: ")+e;throw Fs(t),new Error(t)}function Bs(e,t){e||Us()}function Hs(e,t){return e}const qs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ws extends fn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ys{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ds.UNAUTHENTICATED))}shutdown(){}}class Xs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qs{constructor(e){this.t=e,this.currentUser=Ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bs(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ks,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Ls("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ls("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ks)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ls("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Bs("string"==typeof t.accessToken),new Gs(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bs(null===e||"string"==typeof e),new Ds(e)}}class $s{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ds.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Js{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new $s(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class el{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Bs(void 0===this.o);const n=e=>{null!=e.error&&Ls("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ls("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ls("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ls("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Bs("string"==typeof e.token),this.R=e.token,new Zs(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class nl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=tl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function rl(e,t){return e<t?-1:e>t?1:0}function il(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class al{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ws(qs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ws(qs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ws(qs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ws(qs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return al.fromMillis(Date.now())}static fromDate(e){return al.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new al(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rl(this.nanoseconds,e.nanoseconds):rl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ol{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ol(e)}static min(){return new ol(new al(0,0))}static max(){return new ol(new al(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Us(),void 0===n?n=e.length-t:n>e.length-t&&Us(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ll extends sl{construct(e,t,n){return new ll(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ws(qs.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ll(e)}static emptyPath(){return new ll([])}}const cl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ul extends sl{construct(e,t,n){return new ul(e,t,n)}static isValidIdentifier(e){return cl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ul.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ul(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ws(qs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ws(qs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ws(qs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Ws(qs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ul(t)}static emptyPath(){return new ul([])}}class dl{constructor(e){this.path=e}static fromPath(e){return new dl(ll.fromString(e))}static fromName(e){return new dl(ll.fromString(e).popFirst(5))}static empty(){return new dl(ll.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ll.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ll.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dl(new ll(e.slice()))}}class hl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}hl.UNKNOWN_ID=-1;function pl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ol.fromTimestamp(1e9===r?new al(n+1,0):new al(n,r));return new ml(i,dl.empty(),t)}function fl(e){return new ml(e.readTime,e.key,-1)}class ml{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ml(ol.min(),dl.empty(),-1)}static max(){return new ml(ol.max(),dl.empty(),-1)}}function gl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=dl.comparator(e.documentKey,t.documentKey),0!==n?n:rl(e.largestBatchId,t.largestBatchId))}const vl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function xl(e){if(e.code!==qs.FAILED_PRECONDITION||e.message!==vl)throw e;Ls("LocalStore","Unexpectedly lost primary lease")}class bl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Us(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bl?t:bl.resolve(t)}catch(e){return bl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bl.reject(t)}static resolve(e){return new bl((t,n)=>{t(e)})}static reject(e){return new bl((t,n)=>{n(e)})}static waitFor(e){return new bl((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=bl.resolve(!1);for(const n of e)t=t.next(e=>e?bl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new bl((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new bl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function wl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(e){return"IndexedDbTransactionError"===e.name}class kl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function El(e){return null==e}function Nl(e){return 0===e&&1/e==-1/0}function _l(e){return"number"==typeof e&&Number.isInteger(e)&&!Nl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}kl.oe=-1;const Cl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jl=Tl,Il=[...jl,"indexConfiguration","indexState","indexEntries"];function Al(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Rl{constructor(e,t){this.comparator=e,this.root=t||Ol.EMPTY}insert(e,t){return new Rl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ol.BLACK,null,null))}remove(e){return new Rl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ol.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ml(this.root,e,this.comparator,!0)}}class Ml{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ol{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ol.RED,this.left=null!=r?r:Ol.EMPTY,this.right=null!=i?i:Ol.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ol(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ol.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ol.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ol.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ol.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Us();if(this.right.isRed())throw Us();const e=this.left.check();if(e!==this.right.check())throw Us();return e+(this.isRed()?0:1)}}Ol.EMPTY=null,Ol.RED=!0,Ol.BLACK=!1,Ol.EMPTY=new class{constructor(){this.size=0}get key(){throw Us()}get value(){throw Us()}get color(){throw Us()}get left(){throw Us()}get right(){throw Us()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ol(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ll{constructor(e){this.comparator=e,this.data=new Rl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fl(this.data.getIterator())}getIteratorFrom(e){return new Fl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ll))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ll(this.comparator);return t.data=e,t}}class Fl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vl{constructor(e){this.fields=e,e.sort(ul.comparator)}static empty(){return new Vl([])}unionWith(e){let t=new Ll(ul.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class zl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ul{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new zl("Invalid base64 string: "+e):e}}(e);return new Ul(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ul(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ul.EMPTY_BYTE_STRING=new Ul("");const Bl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hl(e){if(Bs(!!e),"string"==typeof e){let t=0;const n=Bl.exec(e);if(Bs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ql(e.seconds),nanos:ql(e.nanos)}}function ql(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wl(e){return"string"==typeof e?Ul.fromBase64String(e):Ul.fromUint8Array(e)}function Kl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gl(e){const t=e.mapValue.fields.__previous_value__;return Kl(t)?Gl(t):t}function Yl(e){const t=Hl(e.mapValue.fields.__local_write_time__.timestampValue);return new al(t.seconds,t.nanos)}class Xl{constructor(e,t,n,r,i,a,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}class Ql{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kl(e)?4:pc(e)?9007199254740991:dc(e)?10:11:Us()}function Zl(e,t){if(e===t)return!0;const n=Jl(e);if(n!==Jl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yl(e).isEqual(Yl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hl(e.timestampValue),r=Hl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wl(e.bytesValue).isEqual(Wl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ql(e.geoPointValue.latitude)===ql(t.geoPointValue.latitude)&&ql(e.geoPointValue.longitude)===ql(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ql(e.integerValue)===ql(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ql(e.doubleValue),r=ql(t.doubleValue);return n===r?Nl(n)===Nl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return il(e.arrayValue.values||[],t.arrayValue.values||[],Zl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Al(n)!==Al(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zl(n[i],r[i])))return!1;return!0}(e,t);default:return Us()}}function ec(e,t){return void 0!==(e.values||[]).find(e=>Zl(e,t))}function tc(e,t){if(e===t)return 0;const n=Jl(e),r=Jl(t);if(n!==r)return rl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ql(e.integerValue||e.doubleValue),r=ql(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nc(e.timestampValue,t.timestampValue);case 4:return nc(Yl(e),Yl(t));case 5:return rl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Wl(e),r=Wl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=rl(n[i],r[i]);if(0!==e)return e}return rl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rl(ql(e.latitude),ql(t.latitude));return 0!==n?n:rl(ql(e.longitude),ql(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=rl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:rc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===$l.mapValue&&t===$l.mapValue)return 0;if(e===$l.mapValue)return 1;if(t===$l.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=rl(r[o],a[o]);if(0!==e)return e;const t=tc(n[r[o]],i[a[o]]);if(0!==t)return t}return rl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Us()}}function nc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rl(e,t);const n=Hl(e),r=Hl(t),i=rl(n.seconds,r.seconds);return 0!==i?i:rl(n.nanos,r.nanos)}function rc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=tc(n[i],r[i]);if(e)return e}return rl(n.length,r.length)}function ic(e){return ac(e)}function ac(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Wl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return dl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ac(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ac(e.fields[i]));return n+"}"}(e.mapValue):Us()}function oc(e){return!!e&&"integerValue"in e}function sc(e){return!!e&&"arrayValue"in e}function lc(e){return!!e&&"nullValue"in e}function cc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uc(e){return!!e&&"mapValue"in e}function dc(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=hc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class fc{constructor(e){this.value=e}static empty(){return new fc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=ul.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=hc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];uc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Pl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new fc(hc(this.value))}}function mc(e){const t=[];return Pl(e.fields,(e,n)=>{const r=new ul([e]);if(uc(n)){const e=mc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Vl(t)}class gc{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new gc(e,0,ol.min(),ol.min(),ol.min(),fc.empty(),0)}static newFoundDocument(e,t,n,r){return new gc(e,1,t,ol.min(),n,r,0)}static newNoDocument(e,t){return new gc(e,2,t,ol.min(),ol.min(),fc.empty(),0)}static newUnknownDocument(e,t){return new gc(e,3,t,ol.min(),ol.min(),fc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ol.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ol.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class vc{constructor(e,t){this.position=e,this.inclusive=t}}function yc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dl.comparator(dl.fromName(o.referenceValue),n.key):tc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zl(e.position[n],t.position[n]))return!1;return!0}class bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function wc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Sc{}class kc extends Sc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ac(e,t,n):"array-contains"===t?new Mc(e,n):"in"===t?new Oc(e,n):"not-in"===t?new Lc(e,n):"array-contains-any"===t?new Fc(e,n):new kc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pc(e,n):new Dc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tc(t,this.value)):null!==t&&Jl(this.value)===Jl(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Us()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ec extends Sc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ec(e,t)}matches(e){return Nc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nc(e){return"and"===e.op}function _c(e){return Cc(e)&&Nc(e)}function Cc(e){for(const t of e.filters)if(t instanceof Ec)return!1;return!0}function Tc(e){if(e instanceof kc)return e.field.canonicalString()+e.op.toString()+ic(e.value);if(_c(e))return e.filters.map(e=>Tc(e)).join(",");{const t=e.filters.map(e=>Tc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function jc(e,t){return e instanceof kc?function(e,t){return t instanceof kc&&e.op===t.op&&e.field.isEqual(t.field)&&Zl(e.value,t.value)}(e,t):e instanceof Ec?function(e,t){return t instanceof Ec&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&jc(n,t.filters[r]),!0)}(e,t):void Us()}function Ic(e){return e instanceof kc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ic(e.value))}(e):e instanceof Ec?function(e){return e.op.toString()+" {"+e.getFilters().map(Ic).join(" ,")+"}"}(e):"Filter"}class Ac extends kc{constructor(e,t,n){super(e,t,n),this.key=dl.fromName(n.referenceValue)}matches(e){const t=dl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pc extends kc{constructor(e,t){super(e,"in",t),this.keys=Rc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dc extends kc{constructor(e,t){super(e,"not-in",t),this.keys=Rc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>dl.fromName(e.referenceValue))}class Mc extends kc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sc(t)&&ec(t.arrayValue,this.value)}}class Oc extends kc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ec(this.value.arrayValue,t)}}class Lc extends kc{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ec(this.value.arrayValue,t)}}class Fc extends kc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ec(this.value.arrayValue,e))}}class Vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}}function zc(e){return new Vc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uc(e){const t=Hs(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Tc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),El(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ic(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ic(e)).join(",")),t.ue=e}return t.ue}function Bc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xc(e.startAt,t.startAt)&&xc(e.endAt,t.endAt)}function Hc(e){return dl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class qc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Wc(e,t,n,r,i,a,o,s){return new qc(e,t,n,r,i,a,o,s)}function Kc(e){return new qc(e)}function Gc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Yc(e){return null!==e.collectionGroup}function Xc(e){const t=Hs(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ll(ul.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new bc(r,n))}),e.has(ul.keyField().canonicalString())||t.ce.push(new bc(ul.keyField(),n))}return t.ce}function Qc(e){const t=Hs(e);return t.le||(t.le=$c(t,Xc(e))),t.le}function $c(e,t){if("F"===e.limitType)return zc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new bc(e.field,t)});const n=e.endAt?new vc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vc(e.startAt.position,e.startAt.inclusive):null;return zc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Jc(e,t,n){return new qc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zc(e,t){return Bc(Qc(e),Qc(t))&&e.limitType===t.limitType}function eu(e){return"".concat(Uc(Qc(e)),"|lt:").concat(e.limitType)}function tu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Ic(e)).join(", "),"]")),El(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ic(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ic(e)).join(",")),"Target(".concat(t,")")}(Qc(e)),"; limitType=").concat(e.limitType,")")}function nu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Xc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=yc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xc(e),t))&&!(e.endAt&&!function(e,t,n){const r=yc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xc(e),t))}(e,t)}function ru(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iu(e){return(t,n)=>{let r=!1;for(const i of Xc(e)){const e=au(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function au(e,t,n){const r=e.field.isKeyField()?dl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tc(r,i):Us()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Us()}}class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Dl(this.inner)}size(){return this.innerSize}}const su=new Rl(dl.comparator);function lu(){return su}const cu=new Rl(dl.comparator);function uu(){let e=cu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function du(e){let t=cu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function hu(){return fu()}function pu(){return fu()}function fu(){return new ou(e=>e.toString(),(e,t)=>e.isEqual(t))}const mu=new Rl(dl.comparator),gu=new Ll(dl.comparator);function vu(){let e=gu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yu=new Ll(rl);function xu(){return yu}function bu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(t)?"-0":t}}function wu(e){return{integerValue:""+e}}function Su(e,t){return _l(t)?wu(t):bu(e,t)}class ku{constructor(){this._=void 0}}function Eu(e,t,n){return e instanceof Cu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Kl(t)&&(t=Gl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tu?ju(e,t):e instanceof Iu?Au(e,t):function(e,t){const n=_u(e,t),r=Du(n)+Du(e.Pe);return oc(n)&&oc(e.Pe)?wu(r):bu(e.serializer,r)}(e,t)}function Nu(e,t,n){return e instanceof Tu?ju(e,t):e instanceof Iu?Au(e,t):n}function _u(e,t){return e instanceof Pu?function(e){return oc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Cu extends ku{}class Tu extends ku{constructor(e){super(),this.elements=e}}function ju(e,t){const n=Ru(t);for(const r of e.elements)n.some(e=>Zl(e,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends ku{constructor(e){super(),this.elements=e}}function Au(e,t){let n=Ru(t);for(const r of e.elements)n=n.filter(e=>!Zl(e,r));return{arrayValue:{values:n}}}class Pu extends ku{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Du(e){return ql(e.integerValue||e.doubleValue)}function Ru(e){return sc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Mu{constructor(e,t){this.version=e,this.transformResults=t}}class Ou{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ou}static exists(e){return new Ou(void 0,e)}static updateTime(e){return new Ou(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fu{}function Vu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xu(e.key,Ou.none()):new qu(e.key,e.data,Ou.none());{const n=e.data,r=fc.empty();let i=new Ll(ul.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Wu(e.key,r,new Vl(i.toArray()),Ou.none())}}function zu(e,t,n){e instanceof qu?function(e,t,n){const r=e.value.clone(),i=Gu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wu?function(e,t,n){if(!Lu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Gu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ku(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uu(e,t,n,r){return e instanceof qu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=e.value.clone(),a=Yu(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=Yu(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ku(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Lu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_u(r.transform,e||null);null!=i&&(null===n&&(n=fc.empty()),n.set(r.field,i))}return n||null}function Hu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&il(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tu&&t instanceof Tu||e instanceof Iu&&t instanceof Iu?il(e.elements,t.elements,Zl):e instanceof Pu&&t instanceof Pu?Zl(e.Pe,t.Pe):e instanceof Cu&&t instanceof Cu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qu extends Fu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wu extends Fu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ku(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Gu(e,t,n){const r=new Map;Bs(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Nu(o,s,n[i]))}return r}function Yu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Eu(e,a,t))}return r}class Xu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $u{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Uu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Uu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pu();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Vu(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(ol.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vu())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(e,t)=>Hu(e,t))&&il(this.baseMutations,e.baseMutations,(e,t)=>Hu(e,t))}}class Ju{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Bs(e.mutations.length===n.length);let r=mu;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Ju(e,t,n,r)}}class Zu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ed{constructor(e,t){this.count=e,this.unchangedNames=t}}var td,nd;function rd(e){switch(e){default:return Us();case qs.CANCELLED:case qs.UNKNOWN:case qs.DEADLINE_EXCEEDED:case qs.RESOURCE_EXHAUSTED:case qs.INTERNAL:case qs.UNAVAILABLE:case qs.UNAUTHENTICATED:return!1;case qs.INVALID_ARGUMENT:case qs.NOT_FOUND:case qs.ALREADY_EXISTS:case qs.PERMISSION_DENIED:case qs.FAILED_PRECONDITION:case qs.ABORTED:case qs.OUT_OF_RANGE:case qs.UNIMPLEMENTED:case qs.DATA_LOSS:return!0}}function id(e){if(void 0===e)return Fs("GRPC error has no .code"),qs.UNKNOWN;switch(e){case td.OK:return qs.OK;case td.CANCELLED:return qs.CANCELLED;case td.UNKNOWN:return qs.UNKNOWN;case td.DEADLINE_EXCEEDED:return qs.DEADLINE_EXCEEDED;case td.RESOURCE_EXHAUSTED:return qs.RESOURCE_EXHAUSTED;case td.INTERNAL:return qs.INTERNAL;case td.UNAVAILABLE:return qs.UNAVAILABLE;case td.UNAUTHENTICATED:return qs.UNAUTHENTICATED;case td.INVALID_ARGUMENT:return qs.INVALID_ARGUMENT;case td.NOT_FOUND:return qs.NOT_FOUND;case td.ALREADY_EXISTS:return qs.ALREADY_EXISTS;case td.PERMISSION_DENIED:return qs.PERMISSION_DENIED;case td.FAILED_PRECONDITION:return qs.FAILED_PRECONDITION;case td.ABORTED:return qs.ABORTED;case td.OUT_OF_RANGE:return qs.OUT_OF_RANGE;case td.UNIMPLEMENTED:return qs.UNIMPLEMENTED;case td.DATA_LOSS:return qs.DATA_LOSS;default:return Us()}}(nd=td||(td={}))[nd.OK=0]="OK",nd[nd.CANCELLED=1]="CANCELLED",nd[nd.UNKNOWN=2]="UNKNOWN",nd[nd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nd[nd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nd[nd.NOT_FOUND=5]="NOT_FOUND",nd[nd.ALREADY_EXISTS=6]="ALREADY_EXISTS",nd[nd.PERMISSION_DENIED=7]="PERMISSION_DENIED",nd[nd.UNAUTHENTICATED=16]="UNAUTHENTICATED",nd[nd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nd[nd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nd[nd.ABORTED=10]="ABORTED",nd[nd.OUT_OF_RANGE=11]="OUT_OF_RANGE",nd[nd.UNIMPLEMENTED=12]="UNIMPLEMENTED",nd[nd.INTERNAL=13]="INTERNAL",nd[nd.UNAVAILABLE=14]="UNAVAILABLE",nd[nd.DATA_LOSS=15]="DATA_LOSS";let ad=null;function od(){return new TextEncoder}const sd=new ys([4294967295,4294967295],0);function ld(e){const t=od().encode(e),n=new xs;return n.update(t),new Uint8Array(n.digest())}function cd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ys([n,r],0),new ys([i,a],0)]}class ud{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new dd("Invalid padding: ".concat(t));if(n<0)throw new dd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new dd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new dd("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=ys.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(ys.fromNumber(n)));return 1===r.compare(sd)&&(r=new ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=ld(e),[n,r]=cd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ud(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.Ie)return;const t=ld(e),[n,r]=cd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hd(ol.min(),r,new Rl(rl),lu(),vu())}}class pd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new pd(n,t,vu(),vu(),vu())}}class fd{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class md{constructor(e,t){this.targetId=e,this.me=t}}class gd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ul.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vd{constructor(){this.fe=0,this.ge=bd(),this.pe=Ul.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=vu(),t=vu(),n=vu();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Us()}}),new pd(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=bd()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bs(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yd{constructor(e){this.Le=e,this.Be=new Map,this.ke=lu(),this.qe=xd(),this.Qe=new Rl(rl)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Us()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Hc(i))if(0===n){const e=new dl(i.path);this.Ue(t,e,gc.newNoDocument(e,ol.min()))}else Bs(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==ad||ad.et(function(e,t,n,r,i){var a,o,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=Wl(n).toUint8Array()}catch(e){if(e instanceof zl)return Vs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ud(a,r,i)}catch(e){return Vs(e instanceof dd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Hc(i.target)){const t=new dl(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,gc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=vu();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new hd(e,t,this.Qe,this.ke,n);return this.ke=lu(),this.qe=xd(),this.Qe=new Rl(rl),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new vd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ll(rl),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ls("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function xd(){return new Rl(dl.comparator)}function bd(){return new Rl(dl.comparator)}const wd={asc:"ASCENDING",desc:"DESCENDING"},Sd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kd={and:"AND",or:"OR"};class Ed{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nd(e,t){return e.useProto3Json||El(t)?t:{value:t}}function _d(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Td(e,t){return _d(e,t.toTimestamp())}function jd(e){return Bs(!!e),ol.fromTimestamp(function(e){const t=Hl(e);return new al(t.seconds,t.nanos)}(e))}function Id(e,t){return Ad(e,t).canonicalString()}function Ad(e,t){const n=function(e){return new ll(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Pd(e){const t=ll.fromString(e);return Bs(Jd(t)),t}function Dd(e,t){return Id(e.databaseId,t.path)}function Rd(e,t){const n=Pd(t);if(n.get(1)!==e.databaseId.projectId)throw new Ws(qs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ws(qs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dl(Fd(n))}function Md(e,t){return Id(e.databaseId,t)}function Od(e){const t=Pd(e);return 4===t.length?ll.emptyPath():Fd(t)}function Ld(e){return new ll(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fd(e){return Bs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vd(e,t,n){return{name:Dd(e,t),fields:n.value.mapValue.fields}}function zd(e,t){let n;if(t instanceof qu)n={update:Vd(e,t.key,t.value)};else if(t instanceof Xu)n={delete:Dd(e,t.key)};else if(t instanceof Wu)n={update:Vd(e,t.key,t.data),updateMask:$d(t.fieldMask)};else{if(!(t instanceof Qu))return Us();n={verify:Dd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Us()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Td(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Us()}(e,t.precondition)),n}function Ud(e,t){return{documents:[Md(e,t.path)]}}function Bd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Md(e,i);const a=function(e){if(0!==e.length)return Qd(Ec.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Yd(e.field),direction:Wd(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Nd(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Hd(e){let t=Od(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=qd(e);return t instanceof Ec&&_c(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new bc(Xd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,El(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vc(n,t)}(n.endAt)),Wc(t,i,o,a,s,"F",l,c)}function qd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xd(e.unaryFilter.field);return kc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xd(e.unaryFilter.field);return kc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xd(e.unaryFilter.field);return kc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xd(e.unaryFilter.field);return kc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Us()}}(e):void 0!==e.fieldFilter?function(e){return kc.create(Xd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Us()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ec.create(e.compositeFilter.filters.map(e=>qd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Us()}}(e.compositeFilter.op))}(e):Us()}function Wd(e){return wd[e]}function Kd(e){return Sd[e]}function Gd(e){return kd[e]}function Yd(e){return{fieldPath:e.canonicalString()}}function Xd(e){return ul.fromServerFormat(e.fieldPath)}function Qd(e){return e instanceof kc?function(e){if("=="===e.op){if(cc(e.value))return{unaryFilter:{field:Yd(e.field),op:"IS_NAN"}};if(lc(e.value))return{unaryFilter:{field:Yd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cc(e.value))return{unaryFilter:{field:Yd(e.field),op:"IS_NOT_NAN"}};if(lc(e.value))return{unaryFilter:{field:Yd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yd(e.field),op:Kd(e.op),value:e.value}}}(e):e instanceof Ec?function(e){const t=e.getFilters().map(e=>Qd(e));return 1===t.length?t[0]:{compositeFilter:{op:Gd(e.op),filters:t}}}(e):Us()}function $d(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Jd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ol.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ol.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ul.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eh{constructor(e){this.ct=e}}function th(e){const t=Hd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jc(t,t.limit,"L"):t}class nh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ql(e.integerValue));else if("doubleValue"in e){const n=ql(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Nl(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Hl(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Wl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?pc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):dc(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Us()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const a="value",o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(ql(o)),this.Vt(a,t),this.Tt(i[a],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),dl.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}nh.vt=new nh;class rh{constructor(){this.un=new ih}addToCollectionParentIndex(e,t){return this.un.add(t),bl.resolve()}getCollectionParents(e,t){return bl.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return bl.resolve()}deleteFieldIndex(e,t){return bl.resolve()}deleteAllFieldIndexes(e){return bl.resolve()}createTargetIndexes(e,t){return bl.resolve()}getDocumentsMatchingTarget(e,t){return bl.resolve(null)}getIndexType(e,t){return bl.resolve(0)}getFieldIndexes(e,t){return bl.resolve([])}getNextCollectionGroupToUpdate(e){return bl.resolve(null)}getMinOffset(e,t){return bl.resolve(ml.min())}getMinOffsetFromCollectionGroup(e,t){return bl.resolve(ml.min())}updateCollectionGroup(e,t,n){return bl.resolve()}updateIndexEntries(e,t){return bl.resolve()}}class ih{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ll(ll.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ll(ll.comparator)).toArray()}}new Uint8Array(0);class ah{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ah(e,ah.DEFAULT_COLLECTION_PERCENTILE,ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ah.DEFAULT_COLLECTION_PERCENTILE=10,ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ah.DEFAULT=new ah(41943040,ah.DEFAULT_COLLECTION_PERCENTILE,ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ah.DISABLED=new ah(-1,0,0);class oh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oh(0)}static kn(){return new oh(-1)}}class sh{constructor(){this.changes=new ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?bl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ch{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Uu(n.mutation,e,Vl.empty(),al.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,vu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vu();const r=hu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=uu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=hu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,vu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=lu();const a=fu(),o=fu();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Wu)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Uu(o.mutation,t,o.mutation.getFieldMask(),al.now())):a.set(t.key,Vl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new lh(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=fu();let r=new Rl((e,t)=>e-t),i=vu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Vl.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||vu()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=pu();l.forEach(e=>{if(!i.has(e)){const r=Vu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return bl.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return dl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):bl.resolve(hu());let o=-1,s=i;return a.next(t=>bl.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?bl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,vu())).next(e=>({batchId:o,changes:du(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dl(t)).next(e=>{let t=uu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=uu();return this.indexManager.getCollectionParents(e,i).next(o=>bl.forEach(o,o=>{const s=function(e,t){return new qc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,gc.newInvalidDocument(r)))});let n=uu();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Uu(a.mutation,r,Vl.empty(),al.now()),nu(t,r)&&(n=n.insert(e,r))}),n})}}class uh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return bl.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:jd(e.createTime)}}(t)),bl.resolve()}getNamedQuery(e,t){return bl.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:th(e.bundledQuery),readTime:jd(e.readTime)}}(t)),bl.resolve()}}class dh{constructor(){this.overlays=new Rl(dl.comparator),this.Ir=new Map}getOverlay(e,t){return bl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hu();return bl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),bl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),bl.resolve()}getOverlaysForCollection(e,t,n){const r=hu(),i=t.length+1,a=new dl(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return bl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Rl((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=hu(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return bl.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zu(t,n));let i=this.Ir.get(t);void 0===i&&(i=vu(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class hh{constructor(){this.sessionToken=Ul.EMPTY_BYTE_STRING}getSessionToken(e){return bl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,bl.resolve()}}class ph{constructor(){this.Tr=new Ll(fh.Er),this.dr=new Ll(fh.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new fh(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new fh(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new dl(new ll([])),n=new fh(t,e),r=new fh(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new dl(new ll([])),n=new fh(t,e),r=new fh(t,e+1);let i=vu();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new fh(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fh{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return dl.comparator(e.key,t.key)||rl(e.wr,t.wr)}static Ar(e,t){return rl(e.wr,t.wr)||dl.comparator(e.key,t.key)}}class mh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ll(fh.Er)}checkEmpty(e){return bl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $u(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.br=this.br.add(new fh(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return bl.resolve(a)}lookupMutationBatch(e,t){return bl.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return bl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return bl.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return bl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fh(t,0),r=new fh(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),bl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ll(rl);return t.forEach(e=>{const t=new fh(e,0),r=new fh(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),bl.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;dl.isDocumentKey(i)||(i=i.child(""));const a=new fh(new dl(i),0);let o=new Ll(rl);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)},a),bl.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Bs(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return bl.forEach(t.mutations,r=>{const i=new fh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new fh(t,0),r=this.br.firstAfterOrEqual(n);return bl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,bl.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gh{constructor(e){this.Mr=e,this.docs=new Rl(dl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return bl.resolve(n?n.document.mutableCopy():gc.newInvalidDocument(t))}getEntries(e,t){let n=lu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gc.newInvalidDocument(e))}),bl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lu();const a=t.path,o=new dl(a.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||gl(fl(o),n)<=0||(r.has(o.key)||nu(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return bl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Us()}Or(e,t){return bl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vh(this)}getSize(e){return bl.resolve(this.size)}}class vh extends sh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),bl.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class yh{constructor(e){this.persistence=e,this.Nr=new ou(e=>Uc(e),Bc),this.lastRemoteSnapshotVersion=ol.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ph,this.targetCount=0,this.kr=oh.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),bl.resolve()}getLastRemoteSnapshotVersion(e){return bl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bl.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),bl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),bl.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new oh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,bl.resolve()}updateTargetData(e,t){return this.Kn(t),bl.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,bl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),bl.waitFor(i).next(()=>r)}getTargetCount(e){return bl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return bl.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),bl.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),bl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),bl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return bl.resolve(n)}containsKey(e,t){return bl.resolve(this.Br.containsKey(t))}}class xh{constructor(e,t){this.qr={},this.overlays={},this.Qr=new kl(0),this.Kr=!1,this.Kr=!0,this.$r=new hh,this.referenceDelegate=e(this),this.Ur=new yh(this),this.indexManager=new rh,this.remoteDocumentCache=function(e){return new gh(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new eh(t),this.Gr=new uh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new mh(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Ls("MemoryPersistence","Starting transaction:",e);const r=new bh(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return bl.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class bh extends yl{constructor(e){super(),this.currentSequenceNumber=e}}class wh{constructor(e){this.persistence=e,this.Jr=new ph,this.Yr=null}static Zr(e){return new wh(e)}get Xr(){if(this.Yr)return this.Yr;throw Us()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),bl.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),bl.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),bl.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bl.forEach(this.Xr,n=>{const r=dl.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,ol.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return bl.or([()=>bl.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Sh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=vu(),r=vu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Sh(e,t.fromCache,n,r)}}class kh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Eh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=hn()?8:wl(dn())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new kh;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Os()<=In.DEBUG&&Ls("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),bl.resolve()):(Os()<=In.DEBUG&&Ls("QueryEngine","Query:",tu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Os()<=In.DEBUG&&Ls("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qc(t))):bl.resolve())}Yi(e,t){if(Gc(t))return bl.resolve(null);let n=Qc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Jc(t,null,"F"),n=Qc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=vu(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.ts(t,r);return this.ns(t,a,i,n.readTime)?this.Yi(e,Jc(t,null,"F")):this.rs(e,a,t,n)}))})))}Zi(e,t,n,r){return Gc(t)||r.isEqual(ol.min())?bl.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const a=this.ts(t,i);return this.ns(t,a,n,r)?bl.resolve(null):(Os()<=In.DEBUG&&Ls("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tu(t)),this.rs(e,a,t,pl(r,-1)).next(e=>e))})}ts(e,t){let n=new Ll(iu(e));return t.forEach((t,r)=>{nu(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Os()<=In.DEBUG&&Ls("QueryEngine","Using full collection scan to execute query:",tu(t)),this.Ji.getDocumentsMatchingQuery(e,t,ml.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Nh{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Rl(rl),this._s=new ou(e=>Uc(e),Bc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ch(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function _h(e,t,n,r){return new Nh(e,t,n,r)}async function Ch(e,t){const n=Hs(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=vu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:a}))})})}function Th(e){const t=Hs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function jh(e,t,n){let r=vu(),i=vu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=lu();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ol.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ls("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{Ps:r,Is:i}})}function Ih(e,t){const n=Hs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ah(e,t){const n=Hs(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,bl.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Zd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Ph(e,t,n){const r=Hs(e),i=r.os.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Sl(e))throw e;Ls("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function Dh(e,t,n){const r=Hs(e);let i=ol.min(),a=vu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Hs(e),i=r._s.get(n);return void 0!==i?bl.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Qc(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:ol.min(),n?a:vu())).next(e=>(Rh(r,ru(t),e),{documents:e,Ts:a})))}function Rh(e,t,n){let r=e.us.get(t)||ol.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Mh{constructor(){this.activeTargetIds=xu()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Oh{constructor(){this.so=new Mh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lh{_o(e){}shutdown(){}}class Fh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ls("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ls("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vh=null;function zh(){return null===Vh?Vh=268435456+Math.round(2147483648*Math.random()):Vh++,"0x"+Vh.toString(16)}const Uh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bh{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Hh="WebChannelConnection";class qh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const a=zh(),o=this.xo(e,t.toUriEncodedString());Ls("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,o,s,n).then(t=>(Ls("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw Vs("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Lo(e,t,n,r,i,a){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Uh[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=zh();return new Promise((a,o)=>{const s=new Ss;s.setWithCredentials(!0),s.listenOnce(Es.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Ns.NO_ERROR:const t=s.getResponseJson();Ls(Hh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ns.TIMEOUT:Ls(Hh,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ws(qs.DEADLINE_EXCEEDED,"Request time out"));break;case Ns.HTTP_ERROR:const n=s.getStatus();if(Ls(Hh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qs).indexOf(t)>=0?t:qs.UNKNOWN}(t.status);o(new Ws(e,t.message))}else o(new Ws(qs.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ws(qs.UNAVAILABLE,"Connection failed."));break;default:Us()}}finally{Ls(Hh,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Ls(Hh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=zh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=js(),o=Ts(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Ls(Hh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);let d=!1,h=!1;const p=new Bh({Io:t=>{h?Ls(Hh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ls(Hh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,ks.EventType.OPEN,()=>{h||(Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.yo())}),f(u,ks.EventType.CLOSE,()=>{h||(h=!0,Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.So())}),f(u,ks.EventType.ERROR,t=>{h||(h=!0,Vs(Hh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.So(new Ws(qs.UNAVAILABLE,"The operation could not be completed")))}),f(u,ks.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Bs(!!i);const a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=td[e];if(void 0!==t)return id(t)}(t),i=o.message;void 0===n&&(n=qs.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,p.So(new Ws(n,i)),u.close()}else Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.bo(i)}}),f(o,Cs.STAT_EVENT,t=>{t.stat===_s.PROXY?Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===_s.NOPROXY&&Ls(Hh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.wo()},0),p}}function Wh(){return"undefined"!=typeof document?document:null}function Kh(e){return new Ed(e,!0)}class Gh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Ls("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Yh{constructor(e,t,n,r,i,a,o,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Gh(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===qs.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===qs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new Ws(qs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ls("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ls("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xh extends Yh{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Us()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Bs(void 0===t||"string"==typeof t),Ul.fromBase64String(t||"")):(Bs(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ul.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?qs.UNKNOWN:id(e.code);return new Ws(t,e.message||"")}(o);n=new gd(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rd(e,r.document.name),a=jd(r.document.updateTime),o=r.document.createTime?jd(r.document.createTime):ol.min(),s=new fc({mapValue:{fields:r.document.fields}}),l=gc.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Rd(e,r.document),a=r.readTime?jd(r.readTime):ol.min(),o=gc.newNoDocument(i,a),s=r.removedTargetIds||[];n=new fd([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Rd(e,r.document),a=r.removedTargetIds||[];n=new fd([],a,i,null)}else{if(!("filter"in t))return Us();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new ed(r,i),o=e.targetId;n=new md(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ol.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ol.min():t.readTime?jd(t.readTime):ol.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Ld(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Hc(r)?{documents:Ud(e,r)}:{query:Bd(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Cd(e,t.resumeToken);const r=Nd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ol.min())>0){n.readTime=_d(e,t.snapshotVersion.toTimestamp());const r=Nd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Us()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Ld(this.serializer),t.removeTarget=e,this.a_(t)}}class Qh extends Yh{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Bs(!!e.streamToken),this.lastStreamToken=e.streamToken,Bs(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Bs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Bs(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?jd(e.updateTime):jd(t);return n.isEqual(ol.min())&&(n=jd(t)),new Mu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=jd(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Ld(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>zd(this.serializer,e))};this.a_(t)}}class $h extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ws(qs.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Mo(e,Ad(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===qs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ws(qs.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Lo(e,Ad(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===qs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ws(qs.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Jh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Fs(t),this.D_=!1):Ls("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Zh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{lp(this)&&(Ls("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Hs(e);t.L_.add(4),await tp(t),t.q_.set("Unknown"),t.L_.delete(4),await ep(t)}(this))})}),this.q_=new Jh(n,r)}}async function ep(e){if(lp(e))for(const t of e.B_)await t(!0)}async function tp(e){for(const t of e.B_)await t(!1)}function np(e,t){const n=Hs(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),sp(n)?op(n):Cp(n).r_()&&ip(n,t))}function rp(e,t){const n=Hs(e),r=Cp(n);n.N_.delete(t),r.r_()&&ap(n,t),0===n.N_.size&&(r.r_()?r.o_():lp(n)&&n.q_.set("Unknown"))}function ip(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ol.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Cp(e).A_(t)}function ap(e,t){e.Q_.xe(t),Cp(e).R_(t)}function op(e){e.Q_=new yd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Cp(e).start(),e.q_.v_()}function sp(e){return lp(e)&&!Cp(e).n_()&&e.N_.size>0}function lp(e){return 0===Hs(e).L_.size}function cp(e){e.Q_=void 0}async function up(e){e.q_.set("Online")}async function dp(e){e.N_.forEach((t,n)=>{ip(e,t)})}async function hp(e,t){cp(e),sp(e)?(e.q_.M_(t),op(e)):e.q_.set("Unknown")}async function pp(e,t,n){if(e.q_.set("Online"),t instanceof gd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Ls("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await fp(e,n)}else if(t instanceof fd?e.Q_.Ke(t):t instanceof md?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ol.min()))try{const t=await Th(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Ul.EMPTY_BYTE_STRING,r.snapshotVersion)),ap(e,t);const i=new Zd(r.target,t,n,r.sequenceNumber);ip(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ls("RemoteStore","Failed to raise snapshot:",t),await fp(e,t)}}async function fp(e,t,n){if(!Sl(t))throw t;e.L_.add(1),await tp(e),e.q_.set("Offline"),n||(n=()=>Th(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ls("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await ep(e)})}function mp(e,t){return t().catch(n=>fp(e,n,t))}async function gp(e){const t=Hs(e),n=Tp(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;vp(t);)try{const e=await Ih(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,yp(t,e)}catch(e){await fp(t,e)}xp(t)&&bp(t)}function vp(e){return lp(e)&&e.O_.length<10}function yp(e,t){e.O_.push(t);const n=Tp(e);n.r_()&&n.V_&&n.m_(t.mutations)}function xp(e){return lp(e)&&!Tp(e).n_()&&e.O_.length>0}function bp(e){Tp(e).start()}async function wp(e){Tp(e).p_()}async function Sp(e){const t=Tp(e);for(const n of e.O_)t.m_(n.mutations)}async function kp(e,t,n){const r=e.O_.shift(),i=Ju.from(r,t,n);await mp(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await gp(e)}async function Ep(e,t){t&&Tp(e).V_&&await async function(e,t){if(function(e){return rd(e)&&e!==qs.ABORTED}(t.code)){const n=e.O_.shift();Tp(e).s_(),await mp(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await gp(e)}}(e,t),xp(e)&&bp(e)}async function Np(e,t){const n=Hs(e);n.asyncQueue.verifyOperationInProgress(),Ls("RemoteStore","RemoteStore received new credentials");const r=lp(n);n.L_.add(3),await tp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await ep(n)}async function _p(e,t){const n=Hs(e);t?(n.L_.delete(2),await ep(n)):t||(n.L_.add(2),await tp(n),n.q_.set("Unknown"))}function Cp(e){return e.K_||(e.K_=function(e,t,n){const r=Hs(e);return r.w_(),new Xh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:up.bind(null,e),Ro:dp.bind(null,e),mo:hp.bind(null,e),d_:pp.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),sp(e)?op(e):e.q_.set("Unknown")):(await e.K_.stop(),cp(e))})),e.K_}function Tp(e){return e.U_||(e.U_=function(e,t,n){const r=Hs(e);return r.w_(),new Qh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wp.bind(null,e),mo:Ep.bind(null,e),f_:Sp.bind(null,e),g_:kp.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await gp(e)):(await e.U_.stop(),e.O_.length>0&&(Ls("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class jp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new jp(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ws(qs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(e,t){if(Fs("AsyncQueue","".concat(t,": ").concat(e)),Sl(e))return new Ws(qs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ap{constructor(e){this.comparator=e?(t,n)=>e(t,n)||dl.comparator(t.key,n.key):(e,t)=>dl.comparator(e.key,t.key),this.keyedMap=uu(),this.sortedSet=new Rl(this.comparator)}static emptySet(e){return new Ap(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ap))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ap;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Pp{constructor(){this.W_=new Rl(dl.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Us():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Dp{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Dp(e,t,Ap.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Rp{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Mp{constructor(){this.queries=Op(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Hs(e),r=n.queries;n.queries=Op(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Ws(qs.ABORTED,"Firestore shutting down"))}}function Op(){return new ou(e=>eu(e),Zc)}async function Lp(e,t){const n=Hs(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.H_()&&t.J_()&&(r=2):(a=new Rp,r=t.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ip(e,"Initialization of query '".concat(tu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&Up(n)}async function Fp(e,t){const n=Hs(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.j_.indexOf(t);e>=0&&(a.j_.splice(e,1),0===a.j_.length?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Vp(e,t){const n=Hs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Up(n)}function zp(e,t,n){const r=Hs(e),i=r.queries.get(t);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(t)}function Up(e){e.Y_.forEach(e=>{e.next()})}var Bp,Hp;(Hp=Bp||(Bp={})).ea="default",Hp.Cache="cache";class qp{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Dp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Dp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bp.Cache}}class Wp{constructor(e){this.key=e}}class Kp{constructor(e){this.key=e}}class Gp{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=vu(),this.mutatedKeys=vu(),this.Aa=iu(e),this.Ra=new Ap(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Pp,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=nu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.ga(c,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(s||l)&&(o=!0)),p&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:a,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Us()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==a.length||l?{snapshot:new Dp(this.query,e.Ra,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Pp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=vu(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Kp(e))}),this.da.forEach(n=>{e.has(n)||t.push(new Wp(n))}),t}ba(e){this.Ta=e.Ts,this.da=vu();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Dp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Yp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xp{constructor(e){this.key=e,this.va=!1}}class Qp{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ou(e=>eu(e),Zc),this.Ma=new Map,this.xa=new Set,this.Oa=new Rl(dl.comparator),this.Na=new Map,this.La=new ph,this.Ba={},this.ka=new Map,this.qa=oh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function $p(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=xf(e);let i;const a=r.Fa.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Zp(r,t,n,!0),i}async function Jp(e,t){const n=xf(e);await Zp(n,t,!0,!1)}async function Zp(e,t,n,r){const i=await Ah(e.localStore,Qc(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await ef(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&np(e.remoteStore,i),s}async function ef(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Dh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return pf(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const a=await Dh(e.localStore,t,!0),o=new Gp(t,a.Ts),s=o.ma(a.documents),l=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);pf(e,n,c.wa);const u=new Yp(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function tf(e,t,n){const r=Hs(e),i=r.Fa.get(t),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(e=>!Zc(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ph(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rp(r.remoteStore,i.targetId),df(r,i.targetId)}).catch(xl)):(df(r,i.targetId),await Ph(r.localStore,i.targetId,!0))}async function nf(e,t){const n=Hs(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rp(n.remoteStore,r.targetId))}async function rf(e,t){const n=Hs(e);try{const e=await function(e,t){const n=Hs(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Ur.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ul.EMPTY_BYTE_STRING,ol.min()).withLastLimboFreeSnapshotVersion(ol.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&o.push(n.Ur.updateTargetData(e,c))});let s=lu(),l=vu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(jh(e,a,t.documentUpdates).next(e=>{s=e.Ps,l=e.Is})),!r.isEqual(ol.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return bl.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Bs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Bs(r.va):e.removedDocuments.size>0&&(Bs(r.va),r.va=!1))}),await gf(n,e,t)}catch(e){await xl(e)}}function af(e,t,n){const r=Hs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Hs(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&Up(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function of(e,t,n){const r=Hs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),a=i&&i.key;if(a){let e=new Rl(dl.comparator);e=e.insert(a,gc.newNoDocument(a,ol.min()));const n=vu().add(a),i=new hd(ol.min(),new Map,new Rl(rl),e,n);await rf(r,i),r.Oa=r.Oa.remove(a),r.Na.delete(t),mf(r)}else await Ph(r.localStore,t,!1).then(()=>df(r,t,n)).catch(xl)}async function sf(e,t){const n=Hs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Hs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=bl.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);Bs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=vu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);uf(n,r,null),cf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gf(n,e)}catch(e){await xl(e)}}async function lf(e,t,n){const r=Hs(e);try{const e=await function(e,t){const n=Hs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Bs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);uf(r,t,n),cf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await gf(r,e)}catch(n){await xl(n)}}function cf(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function uf(e,t,n){const r=Hs(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function df(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||hf(e,t)})}function hf(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(rp(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),mf(e))}function pf(e,t,n){for(const r of n)r instanceof Wp?(e.La.addReference(r.key,t),ff(e,r)):r instanceof Kp?(Ls("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||hf(e,r.key)):Us()}function ff(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Ls("SyncEngine","New document in limbo: "+n),e.xa.add(r),mf(e))}function mf(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new dl(ll.fromString(t)),r=e.qa.next();e.Na.set(r,new Xp(n)),e.Oa=e.Oa.insert(n,r),np(e.remoteStore,new Zd(Qc(Kc(n.path)),r,"TargetPurposeLimboResolution",kl.oe))}}async function gf(e,t,n){const r=Hs(e),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((e,s)=>{o.push(r.Ka(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Sh.Wi(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=Hs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>bl.forEach(t,t=>bl.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>bl.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Sl(e))throw e;Ls("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,a))}async function vf(e,t){const n=Hs(e);if(!n.currentUser.isEqual(t)){Ls("SyncEngine","User change. New user:",t.toKey());const e=await Ch(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new Ws(qs.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gf(n,e.hs)}}function yf(e,t){const n=Hs(e),r=n.Na.get(t);if(r&&r.va)return vu().add(r.key);{let e=vu();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function xf(e){const t=Hs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=of.bind(null,t),t.Ca.d_=Vp.bind(null,t.eventManager),t.Ca.$a=zp.bind(null,t.eventManager),t}function bf(e){const t=Hs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lf.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return _h(this.persistence,new Eh,e.initialUser,this.serializer)}Ga(e){return new xh(wh.Zr,this.serializer)}Wa(e){return new Oh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class Sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>af(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vf.bind(null,this.syncEngine),await _p(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mp}createDatastore(e){const t=Kh(e.databaseInfo.databaseId),n=function(e){return new qh(e)}(e.databaseInfo);return function(e,t,n,r){return new $h(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Zh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>af(this.syncEngine,e,0),Fh.D()?new Fh:new Lh)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Qp(e,t,n,r,i,a);return o&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Hs(e);Ls("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await tp(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Sf.provider={build:()=>new Sf};class kf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Ef{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ds.UNAUTHENTICATED,this.clientId=nl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Ls("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ls("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Le){const n=Ip(Le,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nf(e,t){e.asyncQueue.verifyOperationInProgress(),Ls("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ch(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _f(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Cf(e);Ls("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Np(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Np(t.remoteStore,n)),e._onlineComponents=t}async function Cf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ls("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nf(e,e._uninitializedComponentsProvider._offline)}catch(Le){const n=Le;if(!function(e){return"FirebaseError"===e.name?e.code===qs.FAILED_PRECONDITION||e.code===qs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),await Nf(e,new wf)}}else Ls("FirestoreClient","Using default OfflineComponentProvider"),await Nf(e,new wf);return e._offlineComponents}async function Tf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ls("FirestoreClient","Using user provided OnlineComponentProvider"),await _f(e,e._uninitializedComponentsProvider._online)):(Ls("FirestoreClient","Using default OnlineComponentProvider"),await _f(e,new Sf))),e._onlineComponents}function jf(e){return Tf(e).then(e=>e.syncEngine)}async function If(e){const t=await Tf(e),n=t.eventManager;return n.onListen=$p.bind(null,t.syncEngine),n.onUnlisten=tf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nf.bind(null,t.syncEngine),n}function Af(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ks;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new kf({next:s=>{a.Za(),t.enqueueAndForget(()=>Fp(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Ws(qs.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Ws(qs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new qp(Kc(n.path),a,{includeMetadataChanges:!0,_a:!0});return Lp(e,o)}(await If(e),e.asyncQueue,t,n,r)),r.promise}function Pf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Df=new Map;function Rf(e,t,n){if(!n)throw new Ws(qs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Mf(e){if(!dl.isDocumentKey(e))throw new Ws(qs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Of(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Us()}function Lf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ws(qs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(e);throw new Ws(qs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Ff{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ws(qs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ws(qs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ws(qs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ws(qs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ws(qs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ws(qs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ws(qs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ws(qs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ys;switch(e.type){case"firstParty":return new Js(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ws(qs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Df.get(e);t&&(Ls("ComponentProvider","Removing Datastore"),Df.delete(e),t.terminate())}(this),Promise.resolve()}}class zf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zf(this.firestore,e,this._query)}}class Uf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uf(this.firestore,e,this._key)}}class Bf extends zf{constructor(e,t,n){super(e,t,Kc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uf(this.firestore,null,new dl(e))}withConverter(e){return new Bf(this.firestore,e,this._path)}}function Hf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=En(e),1===arguments.length&&(t=nl.newId()),Rf("doc","path",t),e instanceof Vf){const n=ll.fromString(t,...r);return Mf(n),new Uf(e,null,new dl(n))}{if(!(e instanceof Uf||e instanceof Bf))throw new Ws(qs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ll.fromString(t,...r));return Mf(n),new Uf(e.firestore,e instanceof Bf?e.converter:null,new dl(n))}}class qf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Gh(this,"async_queue_retry"),this.Vu=()=>{const e=Wh();e&&Ls("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Wh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Wh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Ks;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Oe){if(!Sl(Oe))throw Oe;Ls("AsyncQueue","Operation failed with retryable error: "+Oe)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fs("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=jp.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Us()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Wf extends Vf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new qf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qf(e),this._firestoreClient=void 0,await e}}}function Kf(e){if(e._terminated)throw new Ws(qs.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gf(e),e._firestoreClient}function Gf(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Xl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Pf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ef(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yf(Ul.fromBase64String(e))}catch(e){throw new Ws(qs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yf(Ul.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ws(qs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ul(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qf{constructor(e){this._methodName=e}}class $f{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ws(qs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ws(qs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rl(this._lat,e._lat)||rl(this._long,e._long)}}class Jf{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Zf=/^__.*__$/;class em{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}function tm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Us()}}class nm{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(tm(this.Cu)&&Zf.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kh(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new nm({Cu:e,methodName:t,qu:n,path:ul.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(e){const t=e._freezeSettings(),n=Kh(e._databaseId);return new rm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function am(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(a.merge||a.mergeFields?2:0,t,n,i);cm("Data must be an object, but it was:",o,r);const s=sm(r,o);let l,c;if(a.merge)l=new Vl(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=um(t,r,n);if(!o.contains(i))throw new Ws(qs.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));fm(e,i)||e.push(i)}l=new Vl(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new em(new fc(s),l,c)}function om(e,t){if(lm(e=En(e)))return cm("Unsupported field value:",t,e),sm(e,t);if(e instanceof Qf)return function(e,t){if(!tm(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=om(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=En(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Su(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=al.fromDate(e);return{timestampValue:_d(t.serializer,n)}}if(e instanceof al){const n=new al(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_d(t.serializer,n)}}if(e instanceof $f)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yf)return{bytesValue:Cd(t.serializer,e._byteString)};if(e instanceof Uf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Id(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Jf)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return bu(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Of(e)))}(e,t)}function sm(e,t){const n={};return Dl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pl(e,(e,r)=>{const i=om(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function lm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof al||e instanceof $f||e instanceof Yf||e instanceof Uf||e instanceof Qf||e instanceof Jf)}function cm(e,t,n){if(!lm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Of(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function um(e,t,n){if((t=En(t))instanceof Xf)return t._internalPath;if("string"==typeof t)return hm(e,t);throw pm("Field path arguments must be of type string or ",e,!1,void 0,n)}const dm=new RegExp("[~\\*/\\[\\]]");function hm(e,t,n){if(t.search(dm)>=0)throw pm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Xf(...t.split("."))._internalPath}catch(r){throw pm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pm(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Ws(qs.INVALID_ARGUMENT,s+e+l)}function fm(e,t){return e.some(e=>e.isEqual(t))}class mm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Uf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gm extends mm{data(){return super.data()}}function vm(e,t){return"string"==typeof t?hm(e,t):t instanceof Xf?t._internalPath:t._delegate._internalPath}class ym{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ql(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Us()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Pl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>ql(e.doubleValue));return new Jf(i)}convertGeoPoint(e){return new $f(ql(e.latitude),ql(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Gl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const t=Hl(e);return new al(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ll.fromString(e);Bs(Jd(n));const r=new Ql(n.get(1),n.get(3)),i=new dl(n.popFirst(5));return r.isEqual(t)||Fs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function xm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class bm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wm extends mm{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sm extends wm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class km extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uf(this.firestore,null,t)}}function Em(e,t,n){e=Lf(e,Uf);const r=Lf(e.firestore,Wf),i=xm(e.converter,t,n);return Nm(r,[am(im(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ou.none())])}function Nm(e,t){return function(e,t){const n=new Ks;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=bf(e);try{const e=await function(e,t){const n=Hs(e),r=al.now(),i=t.reduce((e,t)=>e.add(t.key),vu());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=lu(),l=vu();return n.cs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=Bu(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new Wu(e.key,t,mc(t.value.mapValue),Ou.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:du(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Rl(rl)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await gf(r,e.changes),await gp(r.remoteStore)}catch(e){const t=Ip(e,"Failed to persist write");n.reject(t)}}(await jf(e),t,n)),n.promise}(Kf(e),t)}function _m(e,t,n){const r=n.docs.get(t._key),i=new km(e);return new wm(e,i,t._key,r,new bm(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rs=e}(Vr),Rr(new Nn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Wf(new Qs(e.getProvider("auth-internal")),new el(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ws(qs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Br(Ps,"4.7.3",e),Br(Ps,"4.7.3","esm2017")}();Br("firebase","10.14.1","app");const Cm="firebasestorage.googleapis.com",Tm="storageBucket";class jm extends fn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Pm(e),"Firebase Storage: ".concat(t," (").concat(Pm(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jm.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Im,Am;function Pm(e){return"storage/"+e}function Dm(){return new jm(Im.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Rm(){return new jm(Im.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mm(){return new jm(Im.CANCELED,"User canceled the upload/download.")}function Om(e){return new jm(Im.INVALID_ARGUMENT,e)}function Lm(){return new jm(Im.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Im||(Im={}));class Fm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Fm.makeFromUrl(e,t)}catch(Oe){return new Fm(e,"")}if(""===n.path)return n;throw r=e,new jm(Im.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===Cm?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Fm(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new jm(Im.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Vm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function zm(e,t,n,r){if(r<t)throw Om("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Om("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Um(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Bm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Am||(Am={}));class Hm{constructor(e,t,n,r,i,a,o,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new qm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Am.NO_ERROR,i=n.getStatus();if(!t||Bm(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Am.ABORT;return void e(!1,new qm(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new qm(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Oe){r(Oe)}else if(null!==i){const e=Dm();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Lm():Mm())}else{r(Rm())}};this.canceled_?t(0,new qm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function h(){a&&clearTimeout(a)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),d(a)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Wm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Km{constructor(e,t){this._service=e,this._location=t instanceof Fm?t:Fm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Km(e,t)}get root(){const e=new Fm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Fm(this._location.bucket,e);return new Km(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new jm(Im.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Gm(e,t){const n=null===t||void 0===t?void 0:t[Tm];return null==n?null:Fm.makeFromBucketSpec(n,e)}class Ym{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Cm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Fm.makeFromBucketSpec(r,this._host):Gm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Fm.makeFromBucketSpec(this._url,e):this._bucket=Gm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Km(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Vm(Lm());{const a=function(e,t,n,r,i,a){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=Um(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Hm(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Xm="@firebase/storage",Qm="0.13.2",$m="storage";function Jm(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ym(r,i,a,n,Vr)}Rr(new Nn($m,Jm,"PUBLIC").setMultipleInstances(!0)),Br(Xm,Qm,""),Br(Xm,Qm,"esm2017");const Zm=zr({apiKey:"your-api-key",authDomain:"your-auth-domain",projectId:"your-project-id",storageBucket:"your-storage-bucket",messagingSenderId:"your-messaging-sender-id",appId:"your-app-id"}),eg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur();const t=Mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(vn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;oi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ds,persistence:[ko,ao,so]}),r=ln("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ms)return;const r=null===t||void 0===t?void 0:t.token;gs!==r&&(gs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){En(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){En(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=an("auth");return a&&Sa(n,"http://".concat(a)),n}(Zm),tg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Mr("object"==typeof e?e:Ur(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=on("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Lf(e,Vf))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ds.MOCK_USER;else{t=un(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Ws(qs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ds(a)}e._authCredentials=new Xs(new Gs(t,n))}}(r,...e)}return r}(Zm);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur(),t=arguments.length>1?arguments[1]:void 0;e=En(e);const n=Mr(e,$m).getImmediate({identifier:t}),r=on("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:un(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Zm);var ng=n(579);const rg=(0,t.createContext)(void 0),ig=()=>{const e=(0,t.useContext)(rg);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},ag=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=function(e,t,n,r){return En(e).onAuthStateChanged(t,n,r)}(eg,async e=>{if(o(e),e){const t=await function(e){e=Lf(e,Uf);const t=Lf(e.firestore,Wf);return Af(Kf(t),e._key).then(n=>_m(t,e,n))}(Hf(tg,"users",e.uid));if(t.exists())i(Me({id:e.uid},t.data()));else{const t={id:e.uid,email:e.email,displayName:e.displayName||"",photoURL:e.photoURL||void 0,createdAt:new Date,lastActive:new Date};await Em(Hf(tg,"users",e.uid),t),i(t)}}else i(null);l(!1)});return e},[]);const c={currentUser:r,firebaseUser:a,loading:s,signIn:async(e,t)=>{await function(e,t,n){return Or(e.app)?Promise.reject(ci(e)):$a(En(e),Oa.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Za(e),t})}(eg,e,t)},signUp:async(e,t,n)=>{const r=await eo(eg,e,t);await to(r.user,{displayName:n});const i={id:r.user.uid,email:r.user.email,displayName:n,photoURL:r.user.photoURL||void 0,createdAt:new Date,lastActive:new Date};await Em(Hf(tg,"users",r.user.uid),i)},logout:async()=>{await function(e){return En(e).signOut()}(eg)},resetPassword:async e=>{await async function(e,t,n){const r=fa(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ja(r,i,n),await wa(r,i,"getOobCode",ja)}(eg,e)},updateUserProfile:async e=>{if(!r)return;const t=Me(Me(Me({},r),e),{},{updatedAt:new Date});await Em(Hf(tg,"users",r.id),t),i(t)}};return(0,ng.jsx)(rg.Provider,{value:c,children:!s&&n})},og=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),sg=(0,t.createContext)({}),lg=(0,t.createContext)(null),cg="undefined"!==typeof document,ug=cg?t.useLayoutEffect:t.useEffect,dg=(0,t.createContext)({strict:!1}),hg=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),pg="data-"+hg("framerAppearId");function fg(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function mg(e){return"string"===typeof e||Array.isArray(e)}function gg(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yg=["initial",...vg];function xg(e){return gg(e.animate)||yg.some(t=>mg(e[t]))}function bg(e){return Boolean(xg(e)||e.variants)}function wg(e){const{initial:n,animate:r}=function(e,t){if(xg(e)){const{initial:t,animate:n}=e;return{initial:!1===t||mg(t)?t:void 0,animate:mg(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(sg));return(0,t.useMemo)(()=>({initial:n,animate:r}),[Sg(n),Sg(r)])}function Sg(e){return Array.isArray(e)?e.join(" "):e}const kg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eg={};for(const n in kg)Eg[n]={isEnabled:e=>kg[n].some(t=>!!e[t])};const Ng=(0,t.createContext)({}),_g=(0,t.createContext)({}),Cg=Symbol.for("motionComponentSymbol");function Tg(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:a,Component:o}=e;n&&function(e){for(const t in e)Eg[t]=Me(Me({},Eg[t]),e[t])}(n);const s=(0,t.forwardRef)(function(e,s){let l;const c=Me(Me(Me({},(0,t.useContext)(og)),e),{},{layoutId:jg(e)}),{isStatic:u}=c,d=wg(e),h=a(e,u);if(!u&&cg){d.visualElement=function(e,n,r,i){const{visualElement:a}=(0,t.useContext)(sg),o=(0,t.useContext)(dg),s=(0,t.useContext)(lg),l=(0,t.useContext)(og).reducedMotion,c=(0,t.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:a,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current;(0,t.useInsertionEffect)(()=>{u&&u.update(r,s)});const d=(0,t.useRef)(Boolean(r[pg]&&!window.HandoffComplete));return ug(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,t.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(o,h,c,r);const e=(0,t.useContext)(_g),i=(0,t.useContext)(dg).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,i,n,e))}return t.createElement(sg.Provider,{value:d},l&&d.visualElement?t.createElement(l,Me({visualElement:d.visualElement},c)):null,i(o,e,function(e,n,r){return(0,t.useCallback)(t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):fg(r)&&(r.current=t))},[n])}(h,d.visualElement,s),h,u,d.visualElement))});return s[Cg]=o,s}function jg(e){let{layoutId:n}=e;const r=(0,t.useContext)(Ng).id;return r&&void 0!==n?r+"-"+n:n}function Ig(e){function t(t){return Tg(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Ag=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pg(e){return"string"===typeof e&&!e.includes("-")&&!!(Ag.indexOf(e)>-1||/[A-Z]/.test(e))}const Dg={};const Rg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mg=new Set(Rg);function Og(e,t){let{layout:n,layoutId:r}=t;return Mg.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Dg[e]||"opacity"===e)}const Lg=e=>Boolean(e&&e.getVelocity),Fg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vg=Rg.length;const zg=e=>t=>"string"===typeof t&&t.startsWith(e),Ug=zg("--"),Bg=zg("var(--"),Hg=(e,t)=>t&&"number"===typeof e?t.transform(e):e,qg=(e,t,n)=>Math.min(Math.max(n,e),t),Wg={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Kg=Me(Me({},Wg),{},{transform:e=>qg(0,1,e)}),Gg=Me(Me({},Wg),{},{default:1}),Yg=e=>Math.round(1e5*e)/1e5,Xg=/(-)?([\d]*\.?[\d])+/g,Qg=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$g=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jg(e){return"string"===typeof e}const Zg=e=>({test:t=>Jg(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ev=Zg("deg"),tv=Zg("%"),nv=Zg("px"),rv=Zg("vh"),iv=Zg("vw"),av=Me(Me({},tv),{},{parse:e=>tv.parse(e)/100,transform:e=>tv.transform(100*e)}),ov=Me(Me({},Wg),{},{transform:Math.round}),sv={borderWidth:nv,borderTopWidth:nv,borderRightWidth:nv,borderBottomWidth:nv,borderLeftWidth:nv,borderRadius:nv,radius:nv,borderTopLeftRadius:nv,borderTopRightRadius:nv,borderBottomRightRadius:nv,borderBottomLeftRadius:nv,width:nv,maxWidth:nv,height:nv,maxHeight:nv,size:nv,top:nv,right:nv,bottom:nv,left:nv,padding:nv,paddingTop:nv,paddingRight:nv,paddingBottom:nv,paddingLeft:nv,margin:nv,marginTop:nv,marginRight:nv,marginBottom:nv,marginLeft:nv,rotate:ev,rotateX:ev,rotateY:ev,rotateZ:ev,scale:Gg,scaleX:Gg,scaleY:Gg,scaleZ:Gg,skew:ev,skewX:ev,skewY:ev,distance:nv,translateX:nv,translateY:nv,translateZ:nv,x:nv,y:nv,z:nv,perspective:nv,transformPerspective:nv,opacity:Kg,originX:av,originY:av,originZ:nv,zIndex:ov,fillOpacity:Kg,strokeOpacity:Kg,numOctaves:ov};function lv(e,t,n,r){const{style:i,vars:a,transform:o,transformOrigin:s}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(Ug(d)){a[d]=e;continue}const n=sv[d],r=Hg(e,n);if(Mg.has(d)){if(l=!0,o[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,s[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:a=!0}=t,o="";for(let s=0;s<Vg;s++){const t=Rg[s];void 0!==e[t]&&(o+="".concat(Fg[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):a&&n&&(o="none"),o}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uv(e,t,n){for(const r in t)Lg(t[r])||Og(r,n)||(e[r]=t[r])}function dv(e,n,r){const i={};return uv(i,e.style||{},e),Object.assign(i,function(e,n,r){let{transformTemplate:i}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return lv(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)},[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function hv(e,t,n){const r={},i=dv(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const pv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fv(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pv.has(e)}let mv=e=>!fv(e);try{(gv=require("@emotion/is-prop-valid").default)&&(mv=e=>e.startsWith("on")?!fv(e):gv(e))}catch(_R){}var gv;function vv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yv(e,t,n){return"string"===typeof e?e:nv.transform(t+n*e)}const xv={offset:"stroke-dashoffset",array:"stroke-dasharray"},bv={offset:"strokeDashoffset",array:"strokeDasharray"};const wv=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Sv(e,t,n,r,i){let{attrX:a,attrY:o,attrScale:s,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(lv(e,vv(t,wv),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==l||void 0!==c||f.transform)&&(f.transformOrigin=function(e,t,n){const r=yv(t,e.x,e.width),i=yv(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==a&&(p.x=a),void 0!==o&&(p.y=o),void 0!==s&&(p.scale=s),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=i?xv:bv;e[a.offset]=nv.transform(-r);const o=nv.transform(t),s=nv.transform(n);e[a.array]="".concat(o," ").concat(s)}(p,u,d,h,!1)}const kv=()=>Me(Me({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Ev=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Nv(e,n,r,i){const a=(0,t.useMemo)(()=>{const t=kv();return Sv(t,n,{enableHardwareAcceleration:!1},Ev(i),e.transformTemplate),Me(Me({},t.attrs),{},{style:Me({},t.style)})},[n]);if(e.style){const t={};uv(t,e.style,e),a.style=Me(Me({},t),a.style)}return a}function _v(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,a,o)=>{let{latestValues:s}=a;const l=(Pg(n)?Nv:hv)(r,s,o,n),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(mv(i)||!0===n&&fv(i)||!t&&!fv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),u=Me(Me(Me({},c),l),{},{ref:i}),{children:d}=r,h=(0,t.useMemo)(()=>Lg(d)?d.get():d,[d]);return(0,t.createElement)(n,Me(Me({},u),{},{children:h}))}}function Cv(e,t,n,r){let{style:i,vars:a}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in a)e.style.setProperty(o,a[o])}const Tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jv(e,t,n,r){Cv(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Tv.has(i)?i:hg(i),t.attrs[i])}function Iv(e,t){const{style:n}=e,r={};for(const i in n)(Lg(n[i])||t.style&&Lg(t.style[i])||Og(i,e))&&(r[i]=n[i]);return r}function Av(e,t){const n=Iv(e,t);for(const r in e)if(Lg(e[r])||Lg(t[r])){n[-1!==Rg.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Pv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function Dv(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Rv=e=>Array.isArray(e),Mv=e=>Rv(e)?e[e.length-1]||0:e;function Ov(e){const t=Lg(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Lv=["transitionEnd","transition"];const Fv=e=>(n,r)=>{const i=(0,t.useContext)(sg),a=(0,t.useContext)(lg),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:a,onMount:o}=e;const s={latestValues:Vv(t,n,r,i),renderState:a()};return o&&(s.mount=e=>o(t,e,s)),s}(e,n,i,a);return r?o():Dv(o)};function Vv(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=Ov(a[h]);let{initial:o,animate:s}=e;const l=xg(e),c=bg(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?s:o;if(d&&"boolean"!==typeof d&&!gg(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=Pv(e,t);if(!n)return;const{transitionEnd:r,transition:a}=n,o=vv(n,Lv);for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const zv=e=>e;class Uv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Bv=["prepare","read","update","preRender","render","postRender"];const{schedule:Hv,cancel:qv,state:Wv,steps:Kv}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Bv.reduce((e,t)=>(e[t]=function(e){let t=new Uv,n=new Uv,r=0,i=!1,a=!1;const o=new WeakSet,s={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),s.add(e)&&a&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)a=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(s.schedule(r),e())}i=!1,a&&(a=!1,s.process(l))}}};return s}(()=>n=!0),e),{}),o=e=>a[e].process(i),s=()=>{const a=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1),i.timestamp=a,i.isProcessing=!0,Bv.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=Bv.reduce((t,o)=>{const l=a[o];return t[o]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),l.schedule(t,a,o)},t},{});return{schedule:l,cancel:e=>Bv.forEach(t=>a[t].cancel(e)),state:i,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:zv,!0),Gv={useVisualState:Fv({scrapeMotionValuesFromProps:Av,createRenderState:kv,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Hv.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Oe){r.dimensions={x:0,y:0,width:0,height:0}}}),Hv.render(()=>{Sv(r,i,{enableHardwareAcceleration:!1},Ev(t.tagName),e.transformTemplate),jv(t,r)})}})},Yv={useVisualState:Fv({scrapeMotionValuesFromProps:Iv,createRenderState:cv})};function Xv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Qv=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function $v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Jv(e,t,n,r){return Xv(e,t,(e=>t=>Qv(t)&&e(t,$v(t)))(n),r)}const Zv=(e,t)=>n=>t(e(n)),ey=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Zv)};function ty(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const ny=ty("dragHorizontal"),ry=ty("dragVertical");function iy(e){let t=!1;if("y"===e)t=ry();else if("x"===e)t=ny();else{const e=ny(),n=ry();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ay(){const e=iy(!0);return!e||(e(),!1)}class oy{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sy(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Jv(e.current,n,(n,i)=>{if("touch"===n.pointerType||ay())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Hv.update(()=>a[r](n,i))},{passive:!e.getProps()[r]})}const ly=(e,t)=>!!t&&(e===t||ly(e,t.parentElement));function cy(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,$v(n))}const uy=["root"],dy=new WeakMap,hy=new WeakMap,py=e=>{const t=dy.get(e.target);t&&t(e)},fy=e=>{e.forEach(py)};function my(e,t,n){const r=function(e){let{root:t}=e,n=vv(e,uy);const r=t||document;hy.has(r)||hy.set(r,{});const i=hy.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(fy,Me({root:t},n))),i[a]}(t);return dy.set(e,n),r.observe(e),()=>{dy.delete(e),r.unobserve(e)}}const gy={some:0,all:1};const vy={inView:{Feature:class extends oy{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:gy[r]};return my(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends oy{constructor(){super(...arguments),this.removeStartListeners=zv,this.removeEndListeners=zv,this.removeAccessibleListeners=zv,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Jv(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Hv.update(()=>{i||ly(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=Jv(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ey(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Xv(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Xv(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&cy("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&Hv.update(()=>n(e,t))})}),cy("down",(e,t)=>{this.startPress(e,t)})}),t=Xv(this.node.current,"blur",()=>{this.isPressing&&cy("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=ey(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Hv.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ay()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Hv.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Jv(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Xv(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ey(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends oy{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Oe){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ey(Xv(this.node.current,"focus",()=>this.onFocus()),Xv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends oy{mount(){this.unmount=ey(sy(this.node,!0),sy(this.node,!1))}unmount(){}}}};function yy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xy(e,t,n){const r=e.getProps();return Pv(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let by=zv,wy=zv;const Sy=e=>1e3*e,ky=e=>e/1e3,Ey=!1,Ny=e=>Array.isArray(e)&&"number"===typeof e[0];function _y(e){return Boolean(!e||"string"===typeof e&&Ty[e]||Ny(e)||Array.isArray(e)&&e.every(_y))}const Cy=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Ty={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cy([0,.65,.55,1]),circOut:Cy([.55,0,1,.45]),backIn:Cy([.31,.01,.66,-.59]),backOut:Cy([.33,1.53,.69,.99])};function jy(e){if(e)return Ny(e)?Cy(e):Array.isArray(e)?e.map(jy):Ty[e]}const Iy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ay(e,t,n,r){if(e===t&&n===r)return zv;const i=t=>function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=Iy(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Iy(i(e),t,r)}const Py=Ay(.42,0,1,1),Dy=Ay(0,0,.58,1),Ry=Ay(.42,0,.58,1),My=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Oy=e=>t=>1-e(1-t),Ly=e=>1-Math.sin(Math.acos(e)),Fy=Oy(Ly),Vy=My(Ly),zy=Ay(.33,1.53,.69,.99),Uy=Oy(zy),By=My(Uy),Hy={linear:zv,easeIn:Py,easeInOut:Ry,easeOut:Dy,circIn:Ly,circInOut:Vy,circOut:Fy,backIn:Uy,backInOut:By,backOut:zy,anticipate:e=>(e*=2)<1?.5*Uy(e):.5*(2-Math.pow(2,-10*(e-1)))},qy=e=>{if(Array.isArray(e)){wy(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Ay(t,n,r,i)}return"string"===typeof e?(wy(void 0!==Hy[e],"Invalid easing type '".concat(e,"'")),Hy[e]):e},Wy=(e,t)=>n=>Boolean(Jg(n)&&$g.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ky=(e,t,n)=>r=>{if(!Jg(r))return r;const[i,a,o,s]=r.match(Xg);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},Gy=Me(Me({},Wg),{},{transform:e=>Math.round((e=>qg(0,255,e))(e))}),Yy={test:Wy("rgb","red"),parse:Ky("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Gy.transform(t)+", "+Gy.transform(n)+", "+Gy.transform(r)+", "+Yg(Kg.transform(i))+")"}};const Xy={test:Wy("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Yy.transform},Qy={test:Wy("hsl","hue"),parse:Ky("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+tv.transform(Yg(n))+", "+tv.transform(Yg(r))+", "+Yg(Kg.transform(i))+")"}},$y={test:e=>Yy.test(e)||Xy.test(e)||Qy.test(e),parse:e=>Yy.test(e)?Yy.parse(e):Qy.test(e)?Qy.parse(e):Xy.parse(e),transform:e=>Jg(e)?e:e.hasOwnProperty("red")?Yy.transform(e):Qy.transform(e)},Jy=(e,t,n)=>-n*e+n*t+e;function Zy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const ex=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},tx=[Xy,Yy,Qy];function nx(e){const t=(e=>tx.find(t=>t.test(e)))(e);wy(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===Qy&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let a=0,o=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;a=Zy(i,e,t+1/3),o=Zy(i,e,t),s=Zy(i,e,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}const rx=(e,t)=>{const n=nx(e),r=nx(t),i=Me({},n);return e=>(i.red=ex(n.red,r.red,e),i.green=ex(n.green,r.green,e),i.blue=ex(n.blue,r.blue,e),i.alpha=Jy(n.alpha,r.alpha,e),Yy.transform(i))};const ix={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:zv},ax={regex:Qg,countKey:"Colors",token:"${c}",parse:$y.parse},ox={regex:Xg,countKey:"Numbers",token:"${n}",parse:Wg.parse};function sx(e,t){let{regex:n,countKey:r,token:i,parse:a}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(a)))}function lx(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&sx(n,ix),sx(n,ax),sx(n,ox),n}function cx(e){return lx(e).values}function ux(e){const{values:t,numColors:n,numVars:r,tokenised:i}=lx(e),a=t.length;return e=>{let t=i;for(let i=0;i<a;i++)t=i<r?t.replace(ix.token,e[i]):i<r+n?t.replace(ax.token,$y.transform(e[i])):t.replace(ox.token,Yg(e[i]));return t}}const dx=e=>"number"===typeof e?0:e;const hx={test:function(e){var t,n;return isNaN(e)&&Jg(e)&&((null===(t=e.match(Xg))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Qg))||void 0===n?void 0:n.length)||0)>0},parse:cx,createTransformer:ux,getAnimatableNone:function(e){const t=cx(e);return ux(e)(t.map(dx))}},px=(e,t)=>n=>"".concat(n>0?t:e);function fx(e,t){return"number"===typeof e?n=>Jy(e,t,n):$y.test(e)?rx(e,t):e.startsWith("var(")?px(e,t):vx(e,t)}const mx=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>fx(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},gx=(e,t)=>{const n=Me(Me({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=fx(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},vx=(e,t)=>{const n=hx.createTransformer(t),r=lx(e),i=lx(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ey(mx(r.values,i.values),n):(by(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),px(e,t))},yx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},xx=(e,t)=>n=>Jy(e,t,n);function bx(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?xx:"string"===typeof e?$y.test(e)?rx:vx:Array.isArray(e)?mx:"object"===typeof e?gx:xx}(e[0]),a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||zv:t;n=ey(e,n)}r.push(n)}return r}function wx(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(wy(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bx(t,r,i),s=o.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=yx(e[n],e[n+1],t);return o[n](r)};return n?t=>l(qg(e[0],e[a-1],t)):l}function Sx(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yx(0,t,r);e.push(Jy(n,1,i))}}(t,e.length-1),t}function kx(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(qy):qy(i),o={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Sx(n),t),l=wx(s,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||Ry).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}function Ex(e,t){return t?e*(1e3/t):0}function Nx(e,t,n){const r=Math.max(t-5,0);return Ex(n-e(r),t-r)}const _x=.001;function Cx(e){let t,n,{duration:r=800,bounce:i=.25,velocity:a=0,mass:o=1}=e;by(r<=Sy(10),"Spring duration must be 10 seconds or less");let s=1-i;s=qg(.05,1,s),r=qg(.01,10,ky(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-a,o=jx(e,s),l=Math.exp(-n);return _x-i/o*l},n=e=>{const n=e*s*r,i=n*a+a,o=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=jx(Math.pow(e,2),s);return(-t(e)+_x>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Tx;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Sy(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:r}}}const Tx=12;function jx(e,t){return e*Math.sqrt(1-t*t)}const Ix=["keyframes","restDelta","restSpeed"],Ax=["duration","bounce"],Px=["stiffness","damping","mass"];function Dx(e,t){return t.some(t=>void 0!==e[t])}function Rx(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=vv(e,Ix);const a=t[0],o=t[t.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t=Me({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Dx(e,Px)&&Dx(e,Ax)){const n=Cx(e);t=Me(Me(Me({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(Me(Me({},i),{},{velocity:-ky(i.velocity||0)})),f=h||0,m=c/(2*Math.sqrt(l*u)),g=o-a,v=ky(Math.sqrt(l/u)),y=Math.abs(g)<5;let x;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=jx(v,m);x=t=>{const n=Math.exp(-m*v*t);return o-n*((f+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>o-Math.exp(-v*e)*(g+(f+v*g)*e);else{const e=v*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return o-n*((f+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:p&&d||null,next:e=>{const t=x(e);if(p)s.done=e>=d;else{let i=f;0!==e&&(i=m<1?Nx(x,e,t):0);const a=Math.abs(i)<=r,l=Math.abs(o-t)<=n;s.done=a&&l}return s.value=s.done?o:t,s}}}function Mx(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===s?g:s(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let w,S;const k=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(p.value)&&(w=e,S=Rx({keyframes:[p.value,f(p.value)],velocity:Nx(x,e,p.value),damping:a,stiffness:o,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>w?S.next(e-w):(!t&&b(e),p)}}}const Ox=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Hv.update(t,!0),stop:()=>qv(t),now:()=>Wv.isProcessing?Wv.timestamp:performance.now()}};function Lx(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Fx=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Vx={decay:Mx,inertia:Mx,tween:kx,keyframes:kx,spring:Rx};function zx(e){let t,n,{autoplay:r=!0,delay:i=0,driver:a=Ox,keyframes:o,type:s="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:p,onUpdate:f}=e,m=vv(e,Fx),g=1,v=!1;const y=()=>{n=new Promise(e=>{t=e})};let x;y();const b=Vx[s]||kx;let w;b!==kx&&"number"!==typeof o[0]&&(w=wx([0,100],o,{clamp:!1}),o=[0,100]);const S=b(Me(Me({},m),{},{keyframes:o}));let k;"mirror"===u&&(k=b(Me(Me({},m),{},{keyframes:[...o].reverse(),velocity:-(m.velocity||0)})));let E="idle",N=null,_=null,C=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=Lx(S));const{calculatedDuration:T}=S;let j=1/0,I=1/0;null!==T&&(j=T+c,I=j*(l+1)-c);let A=0;const P=e=>{if(null===_)return;g>0&&(_=Math.min(_,e)),g<0&&(_=Math.min(e-I/g,_)),A=null!==N?N:Math.round(e-_)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>I;A=Math.max(t,0),"finished"===E&&null===N&&(A=I);let r=A,a=S;if(l){const e=Math.min(A,I)/j;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/j)):"mirror"===u&&(a=k)),r=qg(0,1,n)*j}const s=n?{done:!1,value:o[0]}:a.next(r);w&&(s.value=w(s.value));let{done:d}=s;n||null===T||(d=g>=0?A>=I:A<=0);const h=null===N&&("finished"===E||"running"===E&&d);return f&&f(s.value),h&&M(),s},D=()=>{x&&x.stop(),x=void 0},R=()=>{E="idle",D(),t(),y(),_=C=null},M=()=>{E="finished",p&&p(),D(),t()},O=()=>{if(v)return;x||(x=a(P));const e=x.now();d&&d(),null!==N?_=e-N:_&&"finished"!==E||(_=e),"finished"===E&&y(),C=_,N=null,E="running",x.start()};r&&O();const L={then:(e,t)=>n.then(e,t),get time(){return ky(A)},set time(e){e=Sy(e),A=e,null===N&&x&&0!==g?_=x.now()-e/g:N=e},get duration(){const e=null===S.calculatedDuration?Lx(S):S.calculatedDuration;return ky(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,L.time=ky(A))},get state(){return E},play:O,pause:()=>{E="paused",N=A},stop:()=>{v=!0,"idle"!==E&&(E="idle",h&&h(),R())},cancel:()=>{null!==C&&P(C),R()},complete:()=>{E="finished"},sample:e=>(_=0,P(e))};return L}const Ux=["onUpdate","onComplete"],Bx=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hx=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function qx(e,t,n){let{onUpdate:r,onComplete:i}=n,a=vv(n,Ux);if(!(Bx()&&Hx.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let o,s,l=!1,c=!1;const u=()=>{s=new Promise(e=>{o=e})};u();let{keyframes:d,duration:h=300,ease:p,times:f}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!_y(t.ease))(t,a)){const e=zx(Me(Me({},a),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,d=n,h=r-10,p="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=jy(s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,d,Me(Me({},a),{},{duration:h,ease:p,times:f})),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,Hv.update(g),o(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,a)),i&&i(),v())};return{then:(e,t)=>s.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,zv),get time(){return ky(m.currentTime||0)},set time(e){m.currentTime=Sy(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return ky(h)},play:()=>{l||(m.play(),qv(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=zx(Me(Me({},a),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const Wx={type:"spring",stiffness:500,damping:25,restSpeed:10},Kx={type:"keyframes",duration:.8},Gx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yx=(e,t)=>{let{keyframes:n}=t;return n.length>2?Kx:Mg.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Wx:Gx},Xx=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!hx.test(t)&&"0"!==t||t.startsWith("url("))),Qx=new Set(["brightness","contrast","saturate","opacity"]);function $x(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Xg)||[];if(!r)return e;const i=n.replace(r,"");let a=Qx.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Jx=/([a-z-]*)\(.*?\)/g,Zx=Me(Me({},hx),{},{getAnimatableNone:e=>{const t=e.match(Jx);return t?t.map($x).join(" "):e}}),eb=Me(Me({},sv),{},{color:$y,backgroundColor:$y,outlineColor:$y,fill:$y,stroke:$y,borderColor:$y,borderTopColor:$y,borderRightColor:$y,borderBottomColor:$y,borderLeftColor:$y,filter:Zx,WebkitFilter:Zx}),tb=e=>eb[e];function nb(e,t){let n=tb(e);return n!==Zx&&(n=hx),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rb=e=>/^0[^.\s]+$/.test(e);function ib(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||rb(e):void 0}const ab=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function ob(e,t){return e[t]||e.default||e}const sb=!1,lb=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const a=ob(r,e)||{},o=a.delay||r.delay||0;let{elapsed:s=0}=r;s-=Sy(o);const l=function(e,t,n,r){const i=Xx(t,n);let a;a=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let s;const l=[];for(let c=0;c<a.length;c++)null===a[c]&&(a[c]=0===c?o:a[c-1]),ib(a[c])&&l.push(c),"string"===typeof a[c]&&"none"!==a[c]&&"0"!==a[c]&&(s=a[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++)a[l[c]]=nb(t,s);return a}(t,e,n,a),c=l[0],u=l[l.length-1],d=Xx(e,c),h=Xx(e,u);by(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let p=Me(Me({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-s,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:s,repeatDelay:l,from:c,elapsed:u}=e,d=vv(e,ab);return!!Object.keys(d).length}(a)||(p=Me(Me({},p),Yx(e,p))),p.duration&&(p.duration=Sy(p.duration)),p.repeatDelay&&(p.repeatDelay=Sy(p.repeatDelay)),!d||!h||Ey||!1===a.type||sb)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const a=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:zv,pause:zv,stop:zv,then:e=>(e(),Promise.resolve()),cancel:zv,complete:zv});return n?zx({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}(Ey?Me(Me({},p),{},{delay:0}):p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=qx(t,e,p);if(n)return n}return zx(p)}};function cb(e){return Boolean(Lg(e)&&e.add)}const ub=e=>/^\-?\d*\.?\d+$/.test(e);function db(e,t){-1===e.indexOf(t)&&e.push(t)}function hb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class pb{constructor(){this.subscriptions=[]}add(e){return db(this.subscriptions,e),()=>hb(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fb={current:void 0};class mb{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Wv;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Hv.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Hv.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pb);const n=this.events[e].add(t);return"change"===e?()=>{n(),Hv.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return fb.current&&fb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ex(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gb(e,t){return new mb(e,t)}const vb=e=>t=>t.test(e),yb=[Wg,nv,tv,ev,iv,rv,{test:e=>"auto"===e,parse:e=>e}],xb=e=>yb.find(vb(e)),bb=[...yb,$y,hx],wb=e=>bb.find(vb(e)),Sb=["transitionEnd","transition"];function kb(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gb(n))}function Eb(e,t){const n=xy(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:a={}}=r,o=vv(r,Sb);o=Me(Me({},o),i);for(const s in o){kb(e,s,Mv(o[s]))}}function Nb(e,t){if(!t)return;return(t[e]||t.default||t).from}const _b=["transition","transitionEnd"];function Cb(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Tb(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function jb(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.makeTargetAnimatable(t),{transition:o=e.getDefaultTransition(),transitionEnd:s}=a,l=vv(a,_b);const c=e.getValue("willChange");r&&(o=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&Cb(d,h))continue;const i=Me({delay:n,elapsed:0},ob(o||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[pg];if(n){const e=window.HandoffAppearAnimations(n,h,t,Hv);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let a=!i.isHandoff&&!Tb(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(lb(h,t,r,e.shouldReduceMotion&&Mg.has(h)?{type:!1}:i));const s=t.animation;cb(c)&&(c.add(h),s.then(()=>c.remove(h))),u.push(s)}return s&&Promise.all(u).then(()=>{s&&Eb(e,s)}),u}function Ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=xy(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(jb(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const o=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Ab).forEach((e,r)=>{e.notify("AnimationStart",t),o.push(Ib(e,t,Me(Me({},a),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,a+r,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}function Ab(e,t){return e.sortNodePosition(t)}const Pb=["transition","transitionEnd"],Db=[...vg].reverse(),Rb=vg.length;function Mb(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Ib(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=Ib(e,t,r);else{const i="function"===typeof t?xy(e,t,r.custom):t;n=Promise.all(jb(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function Ob(e){let t=Mb(e);const n={animate:Fb(!0),whileInView:Fb(),whileHover:Fb(),whileTap:Fb(),whileDrag:Fb(),whileFocus:Fb(),exit:Fb()};let r=!0;const i=(t,n)=>{const r=xy(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=vv(r,Pb);t=Me(Me(Me({},t),i),n)}return t};function a(a,o){const s=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<Rb;t++){const p=Db[t],f=n[p],m=void 0!==s[p]?s[p]:l[p],g=mg(m),v=p===o?f.isActive:null;!1===v&&(h=t);let y=m===l[p]&&m!==s[p]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=Me({},d),!f.isActive&&null===v||!m&&!f.prevProp||gg(m)||"boolean"===typeof m)continue;let x=Lb(f.prevProp,m)||p===o&&f.isActive&&!y&&g||t>h&&g,b=!1;const w=Array.isArray(m)?m:[m];let S=w.reduce(i,{});!1===v&&(S={});const{prevResolvedValues:k={}}=f,E=Me(Me({},k),S),N=e=>{x=!0,u.has(e)&&(b=!0,u.delete(e)),f.needsAnimating[e]=!0};for(const e in E){const t=S[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Rv(t)&&Rv(n)?!yy(t,n):t!==n,r?void 0!==t?N(e):u.add(e):void 0!==t&&u.has(e)?N(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=S,f.isActive&&(d=Me(Me({},d),S)),r&&e.blockInitialAnimation&&(x=!1),!x||y&&!b||c.push(...w.map(e=>({animation:e,options:Me({type:p},a)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let p=Boolean(c.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=a(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Lb(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!yy(t,e)}function Fb(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Vb=0;const zb={animation:{Feature:class extends oy{constructor(e){super(e),e.animationState||(e.animationState=Ob(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),gg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends oy{constructor(){super(...arguments),this.id=Vb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ub=(e,t)=>Math.abs(e-t);class Bb{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Wb(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ub(e.x,t.x),r=Ub(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Wv;this.history.push(Me(Me({},r),{},{timestamp:i}));const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Hb(t,this.transformPagePoint),Hv.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Wb("pointercancel"===e.type?this.lastMoveEventInfo:Hb(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!Qv(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=Hb($v(e),this.transformPagePoint),{point:o}=a,{timestamp:s}=Wv;this.history=[Me(Me({},o),{},{timestamp:s})];const{onSessionStart:l}=t;l&&l(e,Wb(a,this.history)),this.removeListeners=ey(Jv(this.contextWindow,"pointermove",this.handlePointerMove),Jv(this.contextWindow,"pointerup",this.handlePointerUp),Jv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qv(this.updatePoint)}}function Hb(e,t){return t?{point:t(e.point)}:e}function qb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wb(e,t){let{point:n}=e;return{point:n,delta:qb(n,Gb(t)),offset:qb(n,Kb(t)),velocity:Yb(t,.1)}}function Kb(e){return e[0]}function Gb(e){return e[e.length-1]}function Yb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Gb(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Sy(t)));)n--;if(!r)return{x:0,y:0};const a=ky(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xb(e){return e.max-e.min}function Qb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function $b(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Jy(t.min,t.max,e.origin),e.scale=Xb(n)/Xb(t),(Qb(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Jy(n.min,n.max,e.origin)-e.originPoint,(Qb(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Jb(e,t,n,r){$b(e.x,t.x,n.x,r?r.originX:void 0),$b(e.y,t.y,n.y,r?r.originY:void 0)}function Zb(e,t,n){e.min=n.min+t.min,e.max=e.min+Xb(t)}function ew(e,t,n){e.min=t.min-n.min,e.max=e.min+Xb(t)}function tw(e,t,n){ew(e.x,t.x,n.x),ew(e.y,t.y,n.y)}function nw(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function rw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const iw=.35;function aw(e,t,n){return{min:ow(e,t),max:ow(e,n)}}function ow(e,t){return"number"===typeof e?e:e[t]||0}const sw=()=>({x:{min:0,max:0},y:{min:0,max:0}});function lw(e){return[e("x"),e("y")]}function cw(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function uw(e){return void 0===e||1===e}function dw(e){let{scale:t,scaleX:n,scaleY:r}=e;return!uw(t)||!uw(n)||!uw(r)}function hw(e){return dw(e)||pw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function pw(e){return fw(e.x)||fw(e.y)}function fw(e){return e&&"0%"!==e}function mw(e,t,n){return n+t*(e-n)}function gw(e,t,n,r,i){return void 0!==i&&(e=mw(e,i,r)),mw(e,n,r)+t}function vw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=gw(e.min,t,n,r,i),e.max=gw(e.max,t,n,r,i)}function yw(e,t){let{x:n,y:r}=t;vw(e.x,n.translate,n.scale,n.originPoint),vw(e.y,r.translate,r.scale,r.originPoint)}function xw(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function bw(e,t){e.min=e.min+t,e.max=e.max+t}function ww(e,t,n){let[r,i,a]=n;const o=void 0!==t[a]?t[a]:.5,s=Jy(e.min,e.max,o);vw(e,t[r],t[i],s,t.scale)}const Sw=["x","scaleX","originX"],kw=["y","scaleY","originY"];function Ew(e,t){ww(e.x,t,Sw),ww(e.y,t,kw)}function Nw(e,t){return cw(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const _w=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Cw=new WeakMap;class Tw{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Bb(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($v(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iy(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lw(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tv.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Xb(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Hv.update(()=>i(e,t),!1,!0);const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>lw(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:_w(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Hv.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!jw(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Jy(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Jy(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&fg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:a}=t;return{x:nw(e.x,r,a),y:nw(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iw;return!1===e?e=0:!0===e&&(e=iw),{x:aw(e,"left","right"),y:aw(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&lw(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fg(e))return!1;const n=e.current;wy(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Nw(e,n),{scroll:i}=t;return i&&(bw(r.x,i.offset.x),bw(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:rw(e.x,t.x),y:rw(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=cw(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=lw(o=>{if(!jw(o,t,this.currentDirection))return;let l=s&&s[o]||{};a&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=Me(Me({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(lb(e,n,0,t))}stopAnimation(){lw(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lw(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){lw(t=>{const{drag:n}=this.getProps();if(!jw(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-Jy(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!fg(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};lw(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Xb(e),i=Xb(t);return i>r?n=yx(t.min,t.max-r,e.min):r>i&&(n=yx(e.min,e.max-i,t.min)),qg(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),lw(t=>{if(!jw(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(Jy(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Cw.set(this.visualElement,this);const e=Jv(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();fg(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Xv(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(lw(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=iw,dragMomentum:o=!0}=e;return Me(Me({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o})}}function jw(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Iw=e=>(t,n)=>{e&&Hv.update(()=>e(t,n))};const Aw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dw={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!nv.test(e))return e;e=parseFloat(e)}const n=Pw(e,t.target.x),r=Pw(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Rw={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,a=hx.parse(e);if(a.length>5)return i;const o=hx.createTransformer(e),s="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=l,a[1+s]/=c;const u=Jy(l,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=u),"number"===typeof a[3+s]&&(a[3+s]/=u),o(a)}};class Mw extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var a;a=Lw,Object.assign(Dg,a),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(Me(Me({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Aw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,r||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Hv.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ow(e){const[n,r]=function(){const e=(0,t.useContext)(lg);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=(0,t.useId)();return(0,t.useEffect)(()=>i(a),[]),!n&&r?[!1,()=>r&&r(a)]:[!0]}(),i=(0,t.useContext)(Ng);return t.createElement(Mw,Me(Me({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(_g),isPresent:n,safeToRemove:r}))}const Lw={borderRadius:Me(Me({},Dw),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Dw,borderTopRightRadius:Dw,borderBottomLeftRadius:Dw,borderBottomRightRadius:Dw,boxShadow:Rw},Fw=["TopLeft","TopRight","BottomLeft","BottomRight"],Vw=Fw.length,zw=e=>"string"===typeof e?parseFloat(e):e,Uw=e=>"number"===typeof e||nv.test(e);function Bw(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Hw=Ww(0,.5,Fy),qw=Ww(.5,.95,zv);function Ww(e,t,n){return r=>r<e?0:r>t?1:n(yx(e,t,r))}function Kw(e,t){e.min=t.min,e.max=t.max}function Gw(e,t){Kw(e.x,t.x),Kw(e.y,t.y)}function Yw(e,t,n,r,i){return e=mw(e-=t,1/n,r),void 0!==i&&(e=mw(e,1/i,r)),e}function Xw(e,t,n,r,i){let[a,o,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;tv.test(t)&&(t=parseFloat(t),t=Jy(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let s=Jy(a.min,a.max,r);e===a&&(s-=t),e.min=Yw(e.min,t,n,s,i),e.max=Yw(e.max,t,n,s,i)}(e,t[a],t[o],t[s],t.scale,r,i)}const Qw=["x","scaleX","originX"],$w=["y","scaleY","originY"];function Jw(e,t,n,r){Xw(e.x,t,Qw,n?n.x:void 0,r?r.x:void 0),Xw(e.y,t,$w,n?n.y:void 0,r?r.y:void 0)}function Zw(e){return 0===e.translate&&1===e.scale}function eS(e){return Zw(e.x)&&Zw(e.y)}function tS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function nS(e){return Xb(e.x)/Xb(e.y)}class rS{constructor(){this.members=[]}add(e){db(this.members,e),e.scheduleRender()}remove(e){if(hb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iS(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const o=e.x.scale*t.x,s=e.y.scale*t.y;return 1===o&&1===s||(r+="scale(".concat(o,", ").concat(s,")")),r||"none"}const aS=(e,t)=>e.depth-t.depth;class oS{constructor(){this.children=[],this.isDirty=!1}add(e){db(this.children,e),this.isDirty=!0}remove(e){hb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aS),this.isDirty=!1,this.children.forEach(e)}}const sS=["","X","Y","Z"],lS={visibility:"hidden"};let cS=0;const uS={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dS(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=cS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uS.totalNodes=uS.resolvedTargetDeltas=uS.recalculatedProjection=0,this.nodes.forEach(fS),this.nodes.forEach(wS),this.nodes.forEach(SS),this.nodes.forEach(mS),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(uS)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new oS)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new pb),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:a,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:a}=i;const o=a-n;o>=t&&(qv(r),e(o-t))};return Hv.read(r,!0),()=>qv(r)}(r,250),Aw.hasAnimatedSinceResize&&(Aw.hasAnimatedSinceResize=!1,this.nodes.forEach(bS))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||o.getDefaultTransition()||TS,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!tS(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Me(Me({},ob(a,"layout")),{},{onPlay:s,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||bS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qv(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kS),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vS);this.isUpdating||this.nodes.forEach(yS),this.isUpdating=!1,this.nodes.forEach(xS),this.nodes.forEach(hS),this.nodes.forEach(pS),this.clearAllSnapshots();const e=performance.now();Wv.delta=qg(0,1e3/60,e-Wv.timestamp),Wv.timestamp=e,Wv.isProcessing=!0,Kv.update.process(Wv),Kv.preRender.process(Wv),Kv.render.process(Wv),Wv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(gS),this.sharedNodes.forEach(ES)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hv.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hv.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!eS(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||hw(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),AS((r=n).x),AS(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(bw(t.x,n.offset.x),bw(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Gw(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:a}=r;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){Gw(t,e);const{scroll:n}=this.root;n&&(bw(t.x,-n.offset.x),bw(t.y,-n.offset.y))}bw(t.x,i.offset.x),bw(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Gw(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Ew(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),hw(e.latestValues)&&Ew(n,e.latestValues)}return hw(this.latestValues)&&Ew(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Gw(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!hw(e.latestValues))continue;dw(e.latestValues)&&e.updateSnapshot();const r=sw();Gw(r,e.measurePageBox()),Jw(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return hw(this.latestValues)&&Jw(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Me(Me(Me({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=Wv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tw(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Gw(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,l=this.relativeParent.target,Zb(o.x,s.x,l.x),Zb(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Gw(this.target,this.layout.layoutBox),yw(this.target,this.targetDelta)):Gw(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tw(this.relativeTargetOrigin,this.target,e.target),Gw(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uS.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!dw(this.parent.latestValues)&&!pw(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Wv.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;Gw(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let a,o;t.x=t.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const i=a.instance;i&&i.style&&"contents"===i.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ew(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,yw(e,o)),r&&hw(a.latestValues)&&Ew(e,a.latestValues))}t.x=xw(t.x),t.y=xw(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Jb(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=iS(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),uS.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=Me({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(CS));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;NS(a.x,e.x,n),NS(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tw(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){_S(e.x,t.x,n.x,r),_S(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Gw(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,a){i?(e.opacity=Jy(0,void 0!==n.opacity?n.opacity:1,Hw(r)),e.opacityExit=Jy(void 0!==t.opacity?t.opacity:1,0,qw(r))):a&&(e.opacity=Jy(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<Vw;o++){const i="border".concat(Fw[o],"Radius");let a=Bw(t,i),s=Bw(n,i);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||Uw(a)===Uw(s)?(e[i]=Math.max(Jy(zw(a),zw(s),r),0),(tv.test(s)||tv.test(a))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Jy(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qv(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hv.update(()=>{Aw.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Lg(e)?e:gb(e);return r.start(lb("",r,t,n)),r.animation}(0,1e3,Me(Me({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&PS(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Xb(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Xb(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Gw(t,n),Ew(t,i),Jb(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rS);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<sS.length;i++){const t="rotate"+sS[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lS;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ov(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ov(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!hw(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=iS(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=a===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in Dg){if(void 0===o[c])continue;const{correct:e,applyTo:t}=Dg[c],n="none"===r.transform?o[c]:e(o[c],a);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=a===this?Ov(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(vS),this.root.sharedNodes.clear()}}}function hS(e){e.updateLayout()}function pS(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?lw(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=Xb(r);r.min=t[e].min,r.max=r.min+i}):PS(i,n.layoutBox,t)&&lw(r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],o=Xb(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Jb(o,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Jb(s,e.applyTransform(r,!0),n.measuredBox):Jb(s,t,n.layoutBox);const l=!eS(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};tw(o,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};tw(s,t,a.layoutBox),tS(o,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function fS(e){uS.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mS(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gS(e){e.clearSnapshot()}function vS(e){e.clearMeasurements()}function yS(e){e.isLayoutDirty=!1}function xS(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wS(e){e.resolveTargetDelta()}function SS(e){e.calcProjection()}function kS(e){e.resetRotation()}function ES(e){e.removeLeadSnapshot()}function NS(e,t,n){e.translate=Jy(t.translate,0,n),e.scale=Jy(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _S(e,t,n,r){e.min=Jy(t.min,n.min,r),e.max=Jy(t.max,n.max,r)}function CS(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const TS={duration:.45,ease:[.4,0,.1,1]},jS=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),IS=jS("applewebkit/")&&!jS("chrome/")?Math.round:zv;function AS(e){e.min=IS(e.min),e.max=IS(e.max)}function PS(e,t,n){return"position"===e||"preserve-aspect"===e&&!Qb(nS(t),nS(n),.2)}const DS=dS({attachResizeListener:(e,t)=>Xv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RS={current:void 0},MS=dS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!RS.current){const e=new DS({});e.mount(window),e.setOptions({layoutScroll:!0}),RS.current=e}return RS.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),OS={pan:{Feature:class extends oy{constructor(){super(...arguments),this.removePointerDownListener=zv}onPointerDown(e){this.session=new Bb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_w(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Iw(e),onStart:Iw(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Hv.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=Jv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends oy{constructor(e){super(e),this.removeGroupControls=zv,this.removeListeners=zv,this.controls=new Tw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zv}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:MS,MeasureLayout:Ow}};const LS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function FS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;wy(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=LS.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return ub(e)?parseFloat(e):e}return Bg(i)?FS(i,t,n+1):i}function VS(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=Me({},n)),e.values.forEach(e=>{const t=e.get();if(!Bg(t))return;const n=FS(t,i);n&&e.set(n)});for(const a in r){const e=r[a];if(!Bg(e))continue;const t=FS(e,i);t&&(r[a]=t,n||(n={}),void 0===n[a]&&(n[a]=e))}return{target:r,transitionEnd:n}}const zS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),US=e=>zS.has(e),BS=e=>e===Wg||e===nv,HS=(e,t)=>parseFloat(e.split(", ")[t]),qS=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/);if(a)return HS(a[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?HS(t[1],e):0}},WS=new Set(["x","y","z"]),KS=Rg.filter(e=>!WS.has(e));const GS={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:qS(4,13),y:qS(5,14)};GS.translateX=GS.x,GS.translateY=GS.y;const YS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Me({},t),r=Me({},r);const i=Object.keys(t).filter(US);let a=[],o=!1;const s=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=xb(c);const d=t[i];let h;if(Rv(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=xb(c);for(let n=t;n<e&&null!==d[n];n++)h?wy(xb(d[n])===h,"All keyframes must be of the same type"):(h=xb(d[n]),wy(h===u||BS(u)&&BS(h),"Keyframes must be of the same dimension as the current value"))}else h=xb(d);if(u!==h)if(BS(u)&&BS(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===nv&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(o||(a=function(e){const t=[];return KS.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))}),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{s[e]=GS[e](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=GS[n](l,a)}),e})(t,e,s);return a.length&&a.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),cg&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function XS(e,t,n,r){return(e=>Object.keys(e).some(US))(t)?YS(e,t,n,r):{target:t,transitionEnd:r}}const QS={current:null},$S={current:!1};const JS=new WeakMap,ZS=["willChange"],ek=["children"],tk=Object.keys(Eg),nk=tk.length,rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ik=yg.length;class ak{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Hv.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget=Me({},s),this.initialValues=n.initial?Me({},s):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=xg(n),this.isVariantNode=bg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=vv(c,ZS);for(const h in d){const e=d[h];void 0!==s[h]&&Lg(e)&&(e.set(s[h],!1),cb(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,JS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),$S.current||function(){if($S.current=!0,cg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>QS.current=e.matches;e.addListener(t),t()}else QS.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||QS.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JS.delete(this.current),this.projection&&this.projection.unmount(),qv(this.notifyUpdate),qv(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Mg.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Hv.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,a,{children:o}=e,s=vv(e,ek);for(let l=0;l<nk;l++){const e=tk[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=Eg[e];r&&(i=r),t(s)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(a=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:a,layoutScroll:o,layoutRoot:l}=s;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||a&&fg(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<rk.length;n++){const t=rk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(Lg(a))e.addValue(i,a),cb(r)&&r.add(i);else if(Lg(o))e.addValue(i,gb(a,{owner:e})),cb(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(i);e.addValue(i,gb(void 0!==t?t:a,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<ik;t++){const n=yg[t],r=this.props[n];(mg(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=gb(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Pv(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Lg(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new pb),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const ok=["transition","transitionEnd"];class sk extends ak{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,a=vv(e,ok),{transformValues:o}=t,s=function(e,t,n){const r={};for(const i in e){const e=Nb(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i;const a=Object.keys(t).filter(t=>!e.hasValue(t)),o=a.length;if(o)for(let s=0;s<o;s++){const o=a[s],l=t[o];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==c&&null!==c&&("string"===typeof c&&(ub(c)||rb(c))?c=parseFloat(c):!wb(c)&&hx.test(l)&&(c=nb(o,l)),e.addValue(o,gb(c,{owner:e})),void 0===n[o]&&(n[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,a,s);const e=((e,t,n,r)=>{const i=VS(e,t,r);return XS(e,t=i.target,n,r=i.transitionEnd)})(this,a,s,i);i=e.transitionEnd,a=e.target}return Me({transition:r,transitionEnd:i},a)}}class lk extends sk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Mg.has(t)){const e=tb(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Ug(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Nw(e,n)}build(e,t,n,r){lv(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Iv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lg(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){Cv(e,t,n,r)}}class ck extends sk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mg.has(t)){const e=tb(t);return e&&e.default||0}return t=Tv.has(t)?t:hg(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Av(e,t)}build(e,t,n,r){Sv(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){jv(e,t,0,r)}mount(e){this.isSVGTag=Ev(e.tagName),super.mount(e)}}const uk=(e,t)=>Pg(e)?new ck(t,{enableHardwareAcceleration:!1}):new lk(t,{enableHardwareAcceleration:!0}),dk={layout:{ProjectionNode:MS,MeasureLayout:Ow}},hk=Me(Me(Me(Me({},zb),vy),OS),dk),pk=Ig((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return Me(Me({},Pg(e)?Gv:Yv),{},{preloadedFeatures:n,useRender:_v(i),createVisualElement:r,Component:e})}(e,t,hk,uk));function fk(){const e=(0,t.useRef)(!1);return ug(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class mk extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gk(e){let{children:n,isPresent:r}=e;const i=(0,t.useId)(),a=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:s}=o.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[r]),t.createElement(mk,{isPresent:r,childRef:a,sizeRef:o},t.cloneElement(n,{ref:a}))}const vk=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:s,mode:l}=e;const c=Dv(yk),u=(0,t.useId)(),d=(0,t.useMemo)(()=>({id:u,initial:r,isPresent:i,custom:o,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;a&&a()},register:e=>(c.set(e,!1),()=>c.delete(e))}),s?void 0:[i]);return(0,t.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[i]),t.useEffect(()=>{!i&&!c.size&&a&&a()},[i]),"popLayout"===l&&(n=t.createElement(gk,{isPresent:i},n)),t.createElement(lg.Provider,{value:d},n)};function yk(){return new Map}const xk=e=>e.key||"";const bk=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:a,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:l="sync"}=e;wy(!o,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useContext)(Ng).forceRender||function(){const e=fk(),[n,r]=(0,t.useState)(0),i=(0,t.useCallback)(()=>{e.current&&r(n+1)},[n]);return[(0,t.useCallback)(()=>Hv.postRender(i),[i]),n]}()[0],u=fk(),d=function(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}(n);let h=d;const p=(0,t.useRef)(new Map).current,f=(0,t.useRef)(h),m=(0,t.useRef)(new Map).current,g=(0,t.useRef)(!0);if(ug(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=xk(e);t.set(n,e)})}(d,m),f.current=h}),function(e){(0,t.useEffect)(()=>()=>e(),[])}(()=>{g.current=!0,m.clear(),p.clear()}),g.current)return t.createElement(t.Fragment,null,h.map(e=>t.createElement(vk,{key:xk(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:s,mode:l},e)));h=[...h];const v=f.current.map(xk),y=d.map(xk),x=v.length;for(let t=0;t<x;t++){const e=v[t];-1!==y.indexOf(e)||p.has(e)||p.set(e,void 0)}return"wait"===l&&p.size&&(h=[]),p.forEach((e,n)=>{if(-1!==y.indexOf(n))return;const i=m.get(n);if(!i)return;const o=v.indexOf(n);let g=e;if(!g){const e=()=>{p.delete(n);const e=Array.from(m.keys()).filter(e=>!y.includes(e));if(e.forEach(e=>m.delete(e)),f.current=d.filter(t=>{const r=xk(t);return r===n||e.includes(r)}),!p.size){if(!1===u.current)return;c(),a&&a()}};g=t.createElement(vk,{key:xk(i),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:s,mode:l},i),p.set(n,g)}h.splice(o,0,g)}),h=h.map(e=>{const n=e.key;return p.has(n)?e:t.createElement(vk,{key:xk(e),isPresent:!0,presenceAffectsLayout:s,mode:l},e)}),t.createElement(t.Fragment,null,p.size?h:h.map(e=>(0,t.cloneElement)(e)))};var wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sk=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],kk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ek=(e,n)=>{const r=(0,t.forwardRef)((r,i)=>{let{color:a="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u}=r,d=vv(r,Sk);return(0,t.createElement)("svg",Me(Me({ref:i},wk),{},{width:o,height:o,stroke:a,strokeWidth:l?24*Number(s)/Number(o):s,className:["lucide","lucide-".concat(kk(e)),c].join(" ")},d),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(u)?u:[u]])});return r.displayName="".concat(e),r},Nk=Ek("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),_k=Ek("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ck=Ek("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Tk=Ek("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jk=Ek("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ik=Ek("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ak=Ek("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Pk=Ek("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dk=Ek("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Rk=Ek("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Mk=Ek("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ok=Ek("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Lk=Ek("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Fk=Ek("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Vk=Ek("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),zk=Ek("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Uk={};function Bk(){return Uk}function Hk(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qk(e){Hk(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ae(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Wk(e,t){Hk(2,arguments);var n=qk(e),r=qk(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Kk(e){Hk(1,arguments);var t=qk(e);return function(e){Hk(1,arguments);var t=qk(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){Hk(1,arguments);var t=qk(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function Gk(e,t){Hk(2,arguments);var n,r=qk(e),i=qk(t),a=Wk(r,i),o=Math.abs(function(e,t){Hk(2,arguments);var n=qk(e),r=qk(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(o<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);var s=Wk(r,i)===-a;Kk(qk(e))&&1===o&&1===Wk(e,i)&&(s=!1),n=a*(o-Number(s))}return 0===n?0:n}var Yk={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Xk(e,t,n){Hk(2,arguments);var r,i=function(e,t){return Hk(2,arguments),qk(e).getTime()-qk(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?Yk[r]:Yk.trunc)(i)}var Qk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const $k=function(e,t,n){var r,i=Qk[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jk(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Zk={date:Jk({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Jk({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Jk({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var eE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const tE=function(e,t,n,r){return eE[e]};function nE(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var rE={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:nE({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:nE({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:nE({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:nE({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:nE({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const iE=rE;function aE(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(s)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(s)});return o=e.valueCallback?e.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(s.length)}}}var oE,sE={ordinalNumber:(oE={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(oE.matchPattern);if(!n)return null;var r=n[0],i=e.match(oE.parsePattern);if(!i)return null;var a=oE.valueCallback?oE.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:aE({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:aE({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:aE({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:aE({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:aE({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const lE={code:"en-US",formatDistance:$k,formatLong:Zk,formatRelative:tE,localize:iE,match:sE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cE(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function uE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var dE=43200;function hE(e,t,n){var r,i;Hk(2,arguments);var a=Bk(),o=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:a.locale)&&void 0!==r?r:lE;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=Wk(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l,c,u=cE(cE({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:s});s>0?(l=qk(t),c=qk(e)):(l=qk(e),c=qk(t));var d,h=Xk(c,l),p=(uE(c)-uE(l))/1e3,f=Math.round((h-p)/60);if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,u):h<10?o.formatDistance("lessThanXSeconds",10,u):h<20?o.formatDistance("lessThanXSeconds",20,u):h<40?o.formatDistance("halfAMinute",0,u):h<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):0===f?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",f,u);if(f<45)return o.formatDistance("xMinutes",f,u);if(f<90)return o.formatDistance("aboutXHours",1,u);if(f<1440){var m=Math.round(f/60);return o.formatDistance("aboutXHours",m,u)}if(f<2520)return o.formatDistance("xDays",1,u);if(f<dE){var g=Math.round(f/1440);return o.formatDistance("xDays",g,u)}if(f<86400)return d=Math.round(f/dE),o.formatDistance("aboutXMonths",d,u);if((d=Gk(c,l))<12){var v=Math.round(f/dE);return o.formatDistance("xMonths",v,u)}var y=d%12,x=Math.floor(d/12);return y<3?o.formatDistance("aboutXYears",x,u):y<9?o.formatDistance("overXYears",x,u):o.formatDistance("almostXYears",x+1,u)}function pE(e,t){return Hk(1,arguments),hE(e,Date.now(),t)}const fE=e=>{let{isOpen:n,onClose:r}=e;const[i,a]=(0,t.useState)([]),[o,s]=(0,t.useState)("all"),[l,c]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=[{id:"1",userId:"user1",type:"invitation",title:"Family Tree Invitation",message:"Sarah Johnson invited you to collaborate on the Smith Family Tree",data:{treeId:"1",inviterId:"user2"},isRead:!1,createdAt:new Date(Date.now()-72e5)},{id:"2",userId:"user1",type:"photo",title:"New Photo Added",message:"Michael Smith added 3 new photos to the family gallery",data:{photoIds:["p1","p2","p3"],uploaderId:"user3"},isRead:!1,createdAt:new Date(Date.now()-18e6)},{id:"3",userId:"user1",type:"event",title:"Upcoming Event Reminder",message:"Grandma's 85th Birthday Party is tomorrow at 2:00 PM",data:{eventId:"e1"},isRead:!0,createdAt:new Date(Date.now()-864e5)},{id:"4",userId:"user1",type:"story",title:"New Family Story",message:'Emily shared a story: "How Grandpa and Grandma Met"',data:{storyId:"s1",authorId:"user4"},isRead:!0,createdAt:new Date(Date.now()-1728e5)},{id:"5",userId:"user1",type:"relationship",title:"New Family Connection",message:"A new family member was added: Emma Smith (daughter of Michael & Emily)",data:{memberId:"m5",addedBy:"user3"},isRead:!0,createdAt:new Date(Date.now()-2592e5)},{id:"6",userId:"user1",type:"event",title:"Event RSVP Update",message:"5 family members have RSVP'd to the Family Reunion 2024",data:{eventId:"e2"},isRead:!1,createdAt:new Date(Date.now()-216e5)}];a(e)},[]);const u=i.filter(e=>{switch(o){case"unread":return!e.isRead;case"mentions":return e.message.includes("you")||e.message.includes("your");case"events":return"event"===e.type;default:return!0}}),d=i.filter(e=>!e.isRead).length,h=e=>{switch(e){case"invitation":return(0,ng.jsx)(Rk,{className:"h-5 w-5"});case"event":return(0,ng.jsx)(Mk,{className:"h-5 w-5"});case"story":return(0,ng.jsx)(Ok,{className:"h-5 w-5"});case"photo":return(0,ng.jsx)(Lk,{className:"h-5 w-5"});case"relationship":return(0,ng.jsx)(Fk,{className:"h-5 w-5"});default:return(0,ng.jsx)(Ck,{className:"h-5 w-5"})}},p=e=>{switch(e){case"invitation":return"from-blue-500 to-indigo-500";case"event":return"from-purple-500 to-pink-500";case"story":return"from-yellow-500 to-orange-500";case"photo":return"from-green-500 to-teal-500";case"relationship":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},f=e=>{a(i.map(t=>t.id===e?Me(Me({},t),{},{isRead:!0}):t))};return(0,ng.jsx)(bk,{children:n&&(0,ng.jsxs)(ng.Fragment,{children:[(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:r}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:400},animate:{opacity:1,x:0},exit:{opacity:0,x:400},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-96 bg-white shadow-2xl z-50 flex flex-col",children:[(0,ng.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)(Ck,{className:"h-6 w-6 text-gray-700"}),d>0&&(0,ng.jsx)("span",{className:"absolute -top-2 -right-2 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:d})]}),(0,ng.jsx)("h2",{className:"text-xl font-display font-bold text-gray-900",children:"Notifications"})]}),(0,ng.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(Pk,{className:"h-5 w-5 text-gray-500"})})]}),(0,ng.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All",count:i.length},{key:"unread",label:"Unread",count:d},{key:"mentions",label:"Mentions",count:0},{key:"events",label:"Events",count:i.filter(e=>"event"===e.type).length}].map(e=>(0,ng.jsxs)("button",{onClick:()=>s(e.key),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all ".concat(o===e.key?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.label,e.count>0&&(0,ng.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-xs rounded-full ".concat(o===e.key?"bg-primary-100 text-primary-600":"bg-gray-200 text-gray-600"),children:e.count})]},e.key))}),(0,ng.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ng.jsx)("div",{className:"flex items-center space-x-2",children:l.length>0&&(0,ng.jsxs)("button",{onClick:()=>{a(i.filter(e=>!l.includes(e.id))),c([])},className:"text-sm text-red-600 hover:text-red-700 font-medium",children:["Delete Selected (",l.length,")"]})}),d>0&&(0,ng.jsx)("button",{onClick:()=>{a(i.map(e=>Me(Me({},e),{},{isRead:!0})))},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Mark All Read"})]})]}),(0,ng.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===u.length?(0,ng.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[(0,ng.jsx)("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,ng.jsx)(Ck,{className:"h-8 w-8 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"all"===o?"No notifications":"No ".concat(o," notifications")}),(0,ng.jsx)("p",{className:"text-gray-500 text-sm",children:"You're all caught up! Check back later for updates."})]}):(0,ng.jsx)("div",{className:"divide-y divide-gray-100",children:u.map((e,t)=>(0,ng.jsx)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer ".concat(e.isRead?"":"bg-blue-50/50"," ").concat(l.includes(e.id)?"bg-primary-50":""),onClick:()=>f(e.id),children:(0,ng.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ng.jsx)("div",{className:"flex items-center pt-1",children:(0,ng.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:()=>{return t=e.id,void c(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},onClick:e=>e.stopPropagation(),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,ng.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r ".concat(p(e.type)," text-white flex-shrink-0"),children:h(e.type)}),(0,ng.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ng.jsx)("h4",{className:"text-sm font-semibold ".concat(e.isRead?"text-gray-700":"text-gray-900"),children:e.title}),!e.isRead&&(0,ng.jsx)("div",{className:"h-2 w-2 bg-primary-500 rounded-full flex-shrink-0"})]}),(0,ng.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,ng.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,ng.jsx)("span",{className:"text-xs text-gray-500",children:pE(e.createdAt,{addSuffix:!0})}),(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[!e.isRead&&(0,ng.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Mark as read",children:(0,ng.jsx)(Vk,{className:"h-3 w-3 text-gray-500"})}),(0,ng.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,a(i.filter(e=>e.id!==n))},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Delete",children:(0,ng.jsx)(zk,{className:"h-3 w-3 text-gray-500"})})]})]})]})]})},e.id))})}),(0,ng.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,ng.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ng.jsx)("button",{className:"text-sm text-gray-600 hover:text-gray-900 font-medium",children:"Notification Settings"}),(0,ng.jsxs)("span",{className:"text-xs text-gray-500",children:[u.length," notifications"]})]})})]})]})})},mE=Ek("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),gE=Ek("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),vE=Ek("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),yE=Ek("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),xE=Ek("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),bE=e=>{let{isOpen:n,onClose:r,initialQuery:i=""}=e;const[a,o]=(0,t.useState)(i),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)("all"),[m,g]=(0,t.useState)(0),v=(0,t.useRef)(null),y={people:[{id:"1",firstName:"John",lastName:"Smith",birthDate:new Date("1950-01-15"),location:"Springfield, IL"},{id:"2",firstName:"Sarah",lastName:"Johnson",birthDate:new Date("1952-03-20"),location:"Springfield, IL"},{id:"3",firstName:"Michael",lastName:"Smith",birthDate:new Date("1980-07-10"),location:"San Francisco, CA"}],events:[{id:"1",title:"Grandma's 85th Birthday",date:new Date("2024-02-15"),location:"Family Home"},{id:"2",title:"Family Reunion 2024",date:new Date("2024-07-20"),location:"Riverside Park"}],stories:[{id:"1",title:"How Grandpa and Grandma Met",content:"A beautiful love story from 1952...",tags:["love","history"]},{id:"2",title:"The Great Recipe Adventure",content:"Our quest to recreate Aunt Maria's lasagna...",tags:["recipes","family"]}],photos:[{id:"1",caption:"Family vacation at the beach",location:"Malibu Beach, CA",date:new Date("2023-07-15")},{id:"2",caption:"Wedding day memories",location:"Central Park, NY",date:new Date("2005-06-12")}]};(0,t.useEffect)(()=>{n&&v.current&&v.current.focus()},[n]),(0,t.useEffect)(()=>{const e=localStorage.getItem("treehouse-recent-searches");e&&u(JSON.parse(e))},[]),(0,t.useEffect)(()=>{if(!a.trim())return void l([]);h(!0);const e=setTimeout(()=>{const e=[],t=a.toLowerCase().split(" ");"all"!==p&&"people"!==p||y.people.forEach(n=>{const r="".concat(n.firstName," ").concat(n.lastName," ").concat(n.location).toLowerCase(),i=[];let a=0;t.forEach(e=>{r.includes(e)&&(i.push(e),a+=e.length)}),i.length>0&&e.push({id:n.id,type:"person",title:"".concat(n.firstName," ").concat(n.lastName),subtitle:"Born ".concat(n.birthDate.getFullYear()),description:n.location,relevanceScore:a,matchedTerms:i})}),"all"!==p&&"events"!==p||y.events.forEach(n=>{const r="".concat(n.title," ").concat(n.location).toLowerCase(),i=[];let a=0;t.forEach(e=>{r.includes(e)&&(i.push(e),a+=e.length)}),i.length>0&&e.push({id:n.id,type:"event",title:n.title,subtitle:n.date.toLocaleDateString(),description:n.location,date:n.date,location:n.location,relevanceScore:a,matchedTerms:i})}),"all"!==p&&"stories"!==p||y.stories.forEach(n=>{const r="".concat(n.title," ").concat(n.content," ").concat(n.tags.join(" ")).toLowerCase(),i=[];let a=0;t.forEach(e=>{r.includes(e)&&(i.push(e),a+=e.length)}),i.length>0&&e.push({id:n.id,type:"story",title:n.title,description:n.content.substring(0,100)+"...",relevanceScore:a,matchedTerms:i})}),"all"!==p&&"photos"!==p||y.photos.forEach(n=>{const r="".concat(n.caption," ").concat(n.location).toLowerCase(),i=[];let a=0;var o;(t.forEach(e=>{r.includes(e)&&(i.push(e),a+=e.length)}),i.length>0)&&e.push({id:n.id,type:"photo",title:n.caption,subtitle:null===(o=n.date)||void 0===o?void 0:o.toLocaleDateString(),description:n.location,date:n.date,location:n.location,relevanceScore:a,matchedTerms:i})}),e.sort((e,t)=>t.relevanceScore-e.relevanceScore),l(e),h(!1)},300);return()=>clearTimeout(e)},[a,p]);const x=e=>{if(!e.trim())return;const t=[e,...c.filter(t=>t!==e)].slice(0,5);u(t),localStorage.setItem("treehouse-recent-searches",JSON.stringify(t)),o(e)},b=e=>{console.log("Navigate to:",e),r()},w=e=>{switch(e){case"person":return(0,ng.jsx)(jk,{className:"h-5 w-5"});case"event":return(0,ng.jsx)(Mk,{className:"h-5 w-5"});case"story":return(0,ng.jsx)(Ok,{className:"h-5 w-5"});case"photo":return(0,ng.jsx)(Lk,{className:"h-5 w-5"});case"location":return(0,ng.jsx)(mE,{className:"h-5 w-5"});default:return(0,ng.jsx)(_k,{className:"h-5 w-5"})}},S=e=>{switch(e){case"person":return"from-blue-500 to-indigo-500";case"event":return"from-purple-500 to-pink-500";case"story":return"from-yellow-500 to-orange-500";case"photo":return"from-green-500 to-teal-500";case"location":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},k=(e,t)=>{if(!t.length)return e;let n=e;return t.forEach(e=>{const t=new RegExp("(".concat(e,")"),"gi");n=n.replace(t,'<mark class="bg-yellow-200 px-1 rounded">$1</mark>')}),(0,ng.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})};return(0,ng.jsx)(bk,{children:n&&(0,ng.jsxs)(ng.Fragment,{children:[(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:r}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"fixed top-20 left-1/2 transform -translate-x-1/2 w-full max-w-2xl mx-4 bg-white rounded-3xl shadow-2xl z-50 overflow-hidden",children:[(0,ng.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)(_k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400"}),(0,ng.jsx)("input",{ref:v,type:"text",value:a,onChange:e=>o(e.target.value),onKeyDown:e=>{"ArrowDown"===e.key?(e.preventDefault(),g(e=>Math.min(e+1,s.length-1))):"ArrowUp"===e.key?(e.preventDefault(),g(e=>Math.max(e-1,0))):"Enter"===e.key?(e.preventDefault(),s[m]&&b(s[m])):"Escape"===e.key&&r()},placeholder:"Search family members, events, stories, photos...",className:"w-full pl-14 pr-12 py-4 text-lg border-0 focus:ring-0 focus:outline-none bg-transparent"}),(0,ng.jsx)("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(Pk,{className:"h-5 w-5 text-gray-400"})})]}),(0,ng.jsx)("div",{className:"flex space-x-2 mt-4",children:[{key:"all",label:"All",icon:_k},{key:"people",label:"People",icon:jk},{key:"events",label:"Events",icon:Mk},{key:"stories",label:"Stories",icon:Ok},{key:"photos",label:"Photos",icon:Lk}].map(e=>(0,ng.jsxs)("button",{onClick:()=>f(e.key),className:"flex items-center space-x-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ".concat(p===e.key?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,ng.jsx)(e.icon,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:e.label})]},e.key))})]}),(0,ng.jsx)("div",{className:"max-h-96 overflow-y-auto",children:d?(0,ng.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ng.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.length>0?(0,ng.jsx)("div",{className:"py-2",children:s.map((e,t)=>(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"flex items-center space-x-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors ".concat(t===m?"bg-primary-50":""),onClick:()=>b(e),children:[(0,ng.jsx)("div",{className:"p-3 rounded-2xl bg-gradient-to-r ".concat(S(e.type)," text-white"),children:w(e.type)}),(0,ng.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ng.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:k(e.title,e.matchedTerms)}),e.subtitle&&(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:k(e.subtitle,e.matchedTerms)}),e.description&&(0,ng.jsx)("p",{className:"text-sm text-gray-600 line-clamp-1",children:k(e.description,e.matchedTerms)})]}),(0,ng.jsx)(gE,{className:"h-5 w-5 text-gray-400"})]},e.id))}):a.trim()?(0,ng.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[(0,ng.jsx)("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,ng.jsx)(_k,{className:"h-8 w-8 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No results found"}),(0,ng.jsx)("p",{className:"text-gray-600",children:"Try searching with different keywords or check your spelling."})]}):(0,ng.jsxs)("div",{className:"py-6 px-6",children:[c.length>0&&(0,ng.jsxs)("div",{className:"mb-6",children:[(0,ng.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,ng.jsx)(vE,{className:"h-4 w-4 mr-2"}),"Recent Searches"]}),(0,ng.jsx)("div",{className:"space-y-2",children:c.map((e,t)=>(0,ng.jsxs)("button",{onClick:()=>x(e),className:"flex items-center space-x-3 w-full text-left px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,ng.jsx)(yE,{className:"h-4 w-4 text-gray-400"}),(0,ng.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,ng.jsx)(xE,{className:"h-4 w-4 mr-2"}),"Quick Actions"]}),(0,ng.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Find birthdays",query:"birthday",icon:Mk},{label:"Search photos",query:"photos",icon:Lk},{label:"Family stories",query:"story",icon:Ok},{label:"Recent events",query:"events",icon:yE}].map(e=>(0,ng.jsxs)("button",{onClick:()=>x(e.query),className:"flex items-center space-x-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-sm",children:[(0,ng.jsx)(e.icon,{className:"h-4 w-4 text-gray-500"}),(0,ng.jsx)("span",{className:"text-gray-700",children:e.label})]},e.label))})]})]})}),(0,ng.jsx)("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-100",children:(0,ng.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsx)("span",{children:"\u2191\u2193 Navigate"}),(0,ng.jsx)("span",{children:"\u21b5 Select"}),(0,ng.jsx)("span",{children:"ESC Close"})]}),s.length>0&&(0,ng.jsxs)("span",{children:[s.length," result",1!==s.length?"s":""]})]})})]})]})})},wE=()=>{var e;const{currentUser:n,logout:r}=ig(),i=J(),[a,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1);t.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),h(!0))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);return(0,ng.jsxs)("header",{className:"sticky top-0 z-50 glass-effect border-b border-white/20",children:[(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ng.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,ng.jsxs)(Ce,{to:"/",className:"flex items-center space-x-2",children:[(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)(Nk,{className:"h-8 w-8 text-primary-600"}),(0,ng.jsx)(pk.div,{className:"absolute -top-1 -right-1 h-3 w-3 bg-accent-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),(0,ng.jsx)("span",{className:"text-2xl font-display font-bold gradient-text",children:"Treehouse"})]}),(0,ng.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,ng.jsx)(Ce,{to:"/dashboard",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Dashboard"}),(0,ng.jsx)(Ce,{to:"/tree",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Family Tree"}),(0,ng.jsx)(Ce,{to:"/perspectives",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Perspectives"}),(0,ng.jsx)(Ce,{to:"/photos",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Photos"}),(0,ng.jsx)(Ce,{to:"/stories",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Stories"}),(0,ng.jsx)(Ce,{to:"/events",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Events"}),(0,ng.jsx)(Ce,{to:"/timeline",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Timeline"})]}),(0,ng.jsx)("div",{className:"hidden lg:flex items-center space-x-4 flex-1 max-w-md mx-8",children:(0,ng.jsxs)("div",{className:"relative w-full",children:[(0,ng.jsx)(_k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ng.jsx)("input",{type:"text",placeholder:"Search family members, trees...",className:"w-full pl-10 pr-20 py-2 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all cursor-pointer",onClick:()=>h(!0),readOnly:!0}),(0,ng.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1 text-xs text-gray-400",children:[(0,ng.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"\u2318"}),(0,ng.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"K"})]})]})}),(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsxs)("button",{onClick:()=>u(!c),className:"relative p-2 text-gray-600 hover:text-primary-600 transition-colors",children:[(0,ng.jsx)(Ck,{className:"h-5 w-5"}),(0,ng.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-accent-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),(0,ng.jsxs)("button",{className:"btn-primary flex items-center space-x-2",children:[(0,ng.jsx)(Tk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Create"})]}),(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsxs)("button",{onClick:()=>l(!s),className:"flex items-center space-x-2 p-2 rounded-xl hover:bg-white/50 transition-colors",children:[(0,ng.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-primary-500 to-secondary-500 flex items-center justify-center text-white font-medium",children:(null===n||void 0===n||null===(e=n.displayName)||void 0===e?void 0:e.charAt(0))||"U"}),(0,ng.jsx)("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:null===n||void 0===n?void 0:n.displayName})]}),(0,ng.jsx)(bk,{children:s&&(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2",children:[(0,ng.jsxs)(Ce,{to:"/profile",className:"flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,ng.jsx)(jk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Profile"})]}),(0,ng.jsxs)(Ce,{to:"/settings",className:"flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,ng.jsx)(Ik,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Settings"})]}),(0,ng.jsx)("hr",{className:"my-2"}),(0,ng.jsxs)("button",{onClick:async()=>{try{await r(),i("/login")}catch(e){console.error("Failed to log out:",e)}},className:"flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors w-full",children:[(0,ng.jsx)(Ak,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Sign Out"})]})]})})]}),(0,ng.jsx)("button",{onClick:()=>o(!a),className:"md:hidden p-2 text-gray-600 hover:text-primary-600 transition-colors",children:a?(0,ng.jsx)(Pk,{className:"h-6 w-6"}):(0,ng.jsx)(Dk,{className:"h-6 w-6"})})]})]}),(0,ng.jsx)(bk,{children:a&&(0,ng.jsx)(pk.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 py-4",children:(0,ng.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,ng.jsx)(Ce,{to:"/dashboard",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Dashboard"}),(0,ng.jsx)(Ce,{to:"/tree",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Family Tree"}),(0,ng.jsx)(Ce,{to:"/perspectives",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Perspectives"}),(0,ng.jsx)(Ce,{to:"/photos",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Photos"}),(0,ng.jsx)(Ce,{to:"/stories",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Stories"}),(0,ng.jsx)(Ce,{to:"/events",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Events"}),(0,ng.jsx)(Ce,{to:"/timeline",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",onClick:()=>o(!1),children:"Timeline"})]})})})]}),(0,ng.jsx)(fE,{isOpen:c,onClose:()=>u(!1)}),(0,ng.jsx)(bE,{isOpen:d,onClose:()=>h(!1)})]})},SE=Ek("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),kE=Ek("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),EE=Ek("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),NE=Ek("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_E=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),{signIn:c}=ig(),u=J();return(0,ng.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[(0,ng.jsxs)("div",{className:"text-center",children:[(0,ng.jsx)(pk.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto h-16 w-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center",children:(0,ng.jsx)(Nk,{className:"h-8 w-8 text-white"})}),(0,ng.jsx)(pk.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-3xl font-display font-bold text-gray-900",children:"Welcome back"}),(0,ng.jsx)(pk.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-2 text-sm text-gray-600",children:"Sign in to your Treehouse account"})]}),(0,ng.jsxs)(pk.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),l(!0);try{await c(e,r),Qt.success("Welcome back!"),u("/dashboard")}catch(n){Qt.error(n.message||"Failed to sign in")}finally{l(!1)}},children:[(0,ng.jsxs)("div",{className:"space-y-4",children:[(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)(SE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>n(e.target.value),className:"input-field pl-10",placeholder:"Enter your email"})]})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)(kE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>i(e.target.value),className:"input-field pl-10 pr-10",placeholder:"Enter your password"}),(0,ng.jsx)("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?(0,ng.jsx)(EE,{className:"h-5 w-5"}):(0,ng.jsx)(NE,{className:"h-5 w-5"})})]})]})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ng.jsxs)("div",{className:"flex items-center",children:[(0,ng.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,ng.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,ng.jsx)("div",{className:"text-sm",children:(0,ng.jsx)(Ce,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),(0,ng.jsx)("div",{children:(0,ng.jsx)("button",{type:"submit",disabled:s,className:"btn-primary w-full flex justify-center items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,ng.jsx)(pk.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):(0,ng.jsx)(ng.Fragment,{children:(0,ng.jsx)("span",{children:"Sign in"})})})}),(0,ng.jsx)("div",{className:"text-center",children:(0,ng.jsxs)("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,ng.jsx)(Ce,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6",children:[(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ng.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,ng.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ng.jsx)("span",{className:"px-2 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 text-gray-500",children:"Or continue with"})})]}),(0,ng.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,ng.jsxs)("button",{className:"btn-secondary flex items-center justify-center space-x-2",children:[(0,ng.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[(0,ng.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ng.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ng.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ng.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,ng.jsx)("span",{children:"Google"})]}),(0,ng.jsxs)("button",{className:"btn-secondary flex items-center justify-center space-x-2",children:[(0,ng.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,ng.jsx)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),(0,ng.jsx)("span",{children:"Twitter"})]})]})]})]})})},CE=Ek("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),TE=Ek("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),jE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]);(0,t.useEffect)(()=>{n([{id:"1",name:"Smith Family Tree",description:"Our family history from 1800s to present",members:[],relationships:[],settings:{privacy:"private",allowCollaboration:!0,allowPhotoUploads:!0},collaborators:[],createdAt:new Date,updatedAt:new Date,createdBy:"user1"},{id:"2",name:"Johnson Family",description:"Extended family connections",members:[],relationships:[],settings:{privacy:"invite-only",allowCollaboration:!0,allowPhotoUploads:!0},collaborators:[],createdAt:new Date,updatedAt:new Date,createdBy:"user1"}]),i([{id:"1",title:"Grandma's 80th Birthday",date:new Date(Date.now()+6048e5),type:"birthday",attendees:[],treeId:"1",createdBy:"user1",createdAt:new Date,updatedAt:new Date},{id:"2",title:"Family Reunion 2024",date:new Date(Date.now()+2592e6),type:"reunion",attendees:[],treeId:"1",createdBy:"user1",createdAt:new Date,updatedAt:new Date}])},[]);const c=[{label:"Family Trees",value:"3",icon:Nk,color:"text-primary-600"},{label:"Family Members",value:"127",icon:Fk,color:"text-secondary-600"},{label:"Upcoming Events",value:"5",icon:Mk,color:"text-accent-600"},{label:"Family Stories",value:"23",icon:Ok,color:"text-green-600"}];return(0,ng.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,ng.jsxs)("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:["Welcome back, ",(0,ng.jsx)("span",{className:"gradient-text",children:"Family!"})]}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"Discover, connect, and preserve your family's story together."})]}),(0,ng.jsx)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map((e,t)=>(0,ng.jsx)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+.1*t},className:"card p-6 hover:scale-105 transition-transform",children:(0,ng.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,ng.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),(0,ng.jsx)("div",{className:"p-3 rounded-xl bg-gray-50 ".concat(e.color),children:(0,ng.jsx)(e.icon,{className:"h-6 w-6"})})]})},e.label))}),(0,ng.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ng.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card p-6",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Your Family Trees"}),(0,ng.jsxs)("button",{className:"btn-primary flex items-center space-x-2",children:[(0,ng.jsx)(Tk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"New Tree"})]})]}),(0,ng.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,ng.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsx)("div",{className:"h-12 w-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl flex items-center justify-center",children:(0,ng.jsx)(Nk,{className:"h-6 w-6 text-white"})}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,ng.jsx)("div",{className:"flex items-center space-x-2",children:(0,ng.jsx)("span",{className:"text-xs bg-primary-100 text-primary-800 px-2 py-1 rounded-full",children:e.settings.privacy})})]},e.id))})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"card p-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Recent Activity"}),(0,ng.jsxs)("div",{className:"space-y-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-blue-50 rounded-xl",children:[(0,ng.jsx)("div",{className:"h-10 w-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,ng.jsx)(Fk,{className:"h-5 w-5 text-white"})}),(0,ng.jsxs)("div",{className:"flex-1",children:[(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:"New family member added"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:"Sarah Johnson was added to Smith Family Tree"})]}),(0,ng.jsx)("span",{className:"text-xs text-gray-500",children:"2 hours ago"})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-green-50 rounded-xl",children:[(0,ng.jsx)("div",{className:"h-10 w-10 bg-green-500 rounded-full flex items-center justify-center",children:(0,ng.jsx)(Lk,{className:"h-5 w-5 text-white"})}),(0,ng.jsxs)("div",{className:"flex-1",children:[(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:"Photo uploaded"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:"Family vacation photo from 1985"})]}),(0,ng.jsx)("span",{className:"text-xs text-gray-500",children:"1 day ago"})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-purple-50 rounded-xl",children:[(0,ng.jsx)("div",{className:"h-10 w-10 bg-purple-500 rounded-full flex items-center justify-center",children:(0,ng.jsx)(Ok,{className:"h-5 w-5 text-white"})}),(0,ng.jsxs)("div",{className:"flex-1",children:[(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:"Story shared"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:'"How Grandpa met Grandma" story published'})]}),(0,ng.jsx)("span",{className:"text-xs text-gray-500",children:"3 days ago"})]})]})]})]}),(0,ng.jsxs)("div",{className:"space-y-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"card p-6",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Upcoming Events"}),(0,ng.jsxs)("button",{className:"btn-secondary flex items-center space-x-2",children:[(0,ng.jsx)(Tk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Add Event"})]})]}),(0,ng.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,ng.jsx)("div",{className:"p-4 bg-gradient-to-r from-accent-50 to-orange-50 rounded-xl border border-accent-100",children:(0,ng.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ng.jsxs)("div",{className:"flex-1",children:[(0,ng.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,ng.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,ng.jsx)(Mk,{className:"h-4 w-4 text-accent-600"}),(0,ng.jsx)("span",{className:"text-sm text-gray-600",children:e.date.toLocaleDateString()})]})]}),(0,ng.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("birthday"===e.type?"bg-pink-100 text-pink-800":"reunion"===e.type?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.type})]})},e.id))})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"card p-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Quick Actions"}),(0,ng.jsxs)("div",{className:"space-y-3",children:[(0,ng.jsxs)("button",{className:"w-full btn-primary flex items-center justify-center space-x-3",children:[(0,ng.jsx)(Fk,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Add Family Member"})]}),(0,ng.jsxs)("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3",children:[(0,ng.jsx)(Lk,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Upload Photos"})]}),(0,ng.jsxs)("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3",children:[(0,ng.jsx)(Ok,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Write Story"})]}),(0,ng.jsxs)("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3",children:[(0,ng.jsx)(Mk,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Plan Event"})]})]})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"card p-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-6",children:"Family Insights"}),(0,ng.jsxs)("div",{className:"space-y-4",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-primary-50 to-blue-50 rounded-xl",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(xE,{className:"h-5 w-5 text-primary-600"}),(0,ng.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Tree Growth"})]}),(0,ng.jsx)("span",{className:"text-lg font-bold text-primary-600",children:"+12%"})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-secondary-50 to-purple-50 rounded-xl",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(CE,{className:"h-5 w-5 text-secondary-600"}),(0,ng.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Connections"})]}),(0,ng.jsx)("span",{className:"text-lg font-bold text-secondary-600",children:"89"})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-accent-50 to-orange-50 rounded-xl",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(TE,{className:"h-5 w-5 text-accent-600"}),(0,ng.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Memories"})]}),(0,ng.jsx)("span",{className:"text-lg font-bold text-accent-600",children:"156"})]})]})]})]})]})]})})},IE=Ek("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),AE=Ek("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),PE=Ek("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),DE=()=>{var e;const[n,r]=(0,t.useState)(null),[i,a]=(0,t.useState)([]),[o,s]=(0,t.useState)("all"),[l,c]=(0,t.useState)("");(0,t.useEffect)(()=>{const e=[{id:"1",firstName:"John",lastName:"Smith",gender:"male",isAlive:!0,createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]},{id:"2",firstName:"Sarah",lastName:"Smith",gender:"female",isAlive:!0,createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]},{id:"3",firstName:"Michael",lastName:"Johnson",gender:"male",isAlive:!0,createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]}];r(e[0]);a([{id:"1",personId:"1",targetPersonId:"2",relationship:"Spouse",distance:1,path:["1","2"]},{id:"2",personId:"1",targetPersonId:"3",relationship:"Brother-in-law",distance:2,path:["1","2","3"]},{id:"3",personId:"2",targetPersonId:"1",relationship:"Spouse",distance:1,path:["2","1"]},{id:"4",personId:"3",targetPersonId:"1",relationship:"Brother-in-law",distance:2,path:["3","2","1"]}])},[]);const u=e=>{switch(e){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},d=i.filter(e=>{const t="all"===o||"close"===o&&e.distance<=2||"distant"===o&&e.distance>2,n=e.relationship.toLowerCase().includes(l.toLowerCase());return t&&n});return(0,ng.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,ng.jsxs)("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:["Family ",(0,ng.jsx)("span",{className:"gradient-text",children:"Perspectives"})]}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"See your family relationships from different viewpoints and discover connections you never knew existed."})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6 mb-8",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4",children:"Choose Your Perspective"}),(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)("div",{className:"h-12 w-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-white font-bold",children:null===n||void 0===n||null===(e=n.firstName)||void 0===e?void 0:e.charAt(0)}),(0,ng.jsxs)("div",{children:[(0,ng.jsxs)("p",{className:"font-semibold text-gray-900",children:[null===n||void 0===n?void 0:n.firstName," ",null===n||void 0===n?void 0:n.lastName]}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:"Your perspective"})]})]}),(0,ng.jsx)(gE,{className:"h-6 w-6 text-gray-400"}),(0,ng.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ng.jsx)(NE,{className:"h-5 w-5 text-primary-600"}),(0,ng.jsx)("span",{className:"text-gray-700",children:"Viewing relationships from this person's perspective"})]})]})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,ng.jsxs)("div",{className:"relative flex-1",children:[(0,ng.jsx)(_k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{type:"text",placeholder:"Search relationships...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,ng.jsxs)("select",{value:o,onChange:e=>s(e.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,ng.jsx)("option",{value:"all",children:"All Relationships"}),(0,ng.jsx)("option",{value:"close",children:"Close Family (\u22642 steps)"}),(0,ng.jsx)("option",{value:"distant",children:"Distant Family (>2 steps)"})]}),(0,ng.jsxs)("div",{className:"flex space-x-2",children:[(0,ng.jsxs)("button",{className:"btn-secondary flex items-center space-x-2",children:[(0,ng.jsx)(IE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Share"})]}),(0,ng.jsxs)("button",{className:"btn-secondary flex items-center space-x-2",children:[(0,ng.jsx)(AE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Export"})]})]})]}),(0,ng.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,ng.jsx)(bk,{children:d.map((e,n)=>{return(0,ng.jsxs)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.1*n},className:"card p-6 hover:scale-105 transition-transform cursor-pointer group",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)("div",{className:"p-2 rounded-lg ".concat(u(e.distance)),children:(r=e.relationship,r.includes("Spouse")?(0,ng.jsx)(CE,{className:"h-4 w-4"}):(r.includes("Parent")||r.includes("Child"),(0,ng.jsx)(Fk,{className:"h-4 w-4"})))}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h3",{className:"font-semibold text-gray-900",children:e.relationship}),(0,ng.jsxs)("p",{className:"text-sm text-gray-600",children:[e.distance," step",1!==e.distance?"s":""," away"]})]})]}),(0,ng.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(u(e.distance)),children:e.distance})]}),(0,ng.jsxs)("div",{className:"mb-4",children:[(0,ng.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Connection path:"}),(0,ng.jsx)("div",{className:"flex items-center space-x-2",children:e.path.map((n,r)=>(0,ng.jsxs)(t.Fragment,{children:[(0,ng.jsx)("div",{className:"h-8 w-8 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:n}),r<e.path.length-1&&(0,ng.jsx)(gE,{className:"h-4 w-4 text-gray-400"})]},n))})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,ng.jsx)("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View Details"}),(0,ng.jsx)("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:(0,ng.jsx)(IE,{className:"h-4 w-4"})})]})]},e.id);var r})})}),0===d.length&&(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,ng.jsx)("div",{className:"h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ng.jsx)(Fk,{className:"h-12 w-12 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No relationships found"}),(0,ng.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filter criteria to find family connections."}),(0,ng.jsxs)("button",{onClick:()=>{c(""),s("all")},className:"btn-primary flex items-center space-x-2 mx-auto",children:[(0,ng.jsx)(PE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Reset Filters"})]})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6 mt-8",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4",children:"Relationship Insights"}),(0,ng.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ng.jsxs)("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:[(0,ng.jsx)("div",{className:"h-12 w-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ng.jsx)(CE,{className:"h-6 w-6 text-white"})}),(0,ng.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Direct Family"}),(0,ng.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"12"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:"Spouses, parents, children"})]}),(0,ng.jsxs)("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl",children:[(0,ng.jsx)("div",{className:"h-12 w-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ng.jsx)(Fk,{className:"h-6 w-6 text-white"})}),(0,ng.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Extended Family"}),(0,ng.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"34"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:"Siblings, in-laws, cousins"})]}),(0,ng.jsxs)("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[(0,ng.jsx)("div",{className:"h-12 w-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ng.jsx)(NE,{className:"h-6 w-6 text-white"})}),(0,ng.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Distant Relatives"}),(0,ng.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"67"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:"3+ steps away"})]})]})]})]})})};function RE(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=RE(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ME=n(443);const OE=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=t=e(r,i,a);return a},LE=e=>e?OE(e):OE;const{useDebugValue:FE}=t,{useSyncExternalStoreWithSelector:VE}=ME,zE=e=>e;function UE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zE,n=arguments.length>2?arguments[2]:void 0;const r=VE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return FE(r),r}const BE=(e,t)=>{const n=LE(e),r=function(e){return UE(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function HE(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var qE={value:()=>{}};function WE(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new KE(r)}function KE(e){this._=e}function GE(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function YE(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=qE,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}KE.prototype=WE.prototype={constructor:KE,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=YE(r[n],e.name,t);else if(null==t)for(n in r)r[n]=YE(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=GE(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new KE(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};const XE=WE;function QE(){}function $E(e){return null==e?QE:function(){return this.querySelector(e)}}function JE(){return[]}function ZE(e){return null==e?JE:function(){return this.querySelectorAll(e)}}function eN(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function tN(e){return function(){return this.matches(e)}}function nN(e){return function(t){return t.matches(e)}}var rN=Array.prototype.find;function iN(){return this.firstElementChild}var aN=Array.prototype.filter;function oN(){return Array.from(this.children)}function sN(e){return new Array(e.length)}function lN(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function cN(e,t,n,r,i,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new lN(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function uN(e,t,n,r,i,a,o){var s,l,c,u=new Map,d=t.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=o.call(e,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new lN(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function dN(e){return e.__data__}function hN(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function pN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}lN.prototype={constructor:lN,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var fN="http://www.w3.org/1999/xhtml";const mN={svg:"http://www.w3.org/2000/svg",xhtml:fN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gN(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),mN.hasOwnProperty(t)?{space:mN[t],local:e}:e}function vN(e){return function(){this.removeAttribute(e)}}function yN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xN(e,t){return function(){this.setAttribute(e,t)}}function bN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wN(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function SN(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function kN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function EN(e){return function(){this.style.removeProperty(e)}}function NN(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _N(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function CN(e,t){return e.style.getPropertyValue(t)||kN(e).getComputedStyle(e,null).getPropertyValue(t)}function TN(e){return function(){delete this[e]}}function jN(e,t){return function(){this[e]=t}}function IN(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function AN(e){return e.trim().split(/^|\s+/)}function PN(e){return e.classList||new DN(e)}function DN(e){this._node=e,this._names=AN(e.getAttribute("class")||"")}function RN(e,t){for(var n=PN(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function MN(e,t){for(var n=PN(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function ON(e){return function(){RN(this,e)}}function LN(e){return function(){MN(this,e)}}function FN(e,t){return function(){(t.apply(this,arguments)?RN:MN)(this,e)}}function VN(){this.textContent=""}function zN(e){return function(){this.textContent=e}}function UN(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function BN(){this.innerHTML=""}function HN(e){return function(){this.innerHTML=e}}function qN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function WN(){this.nextSibling&&this.parentNode.appendChild(this)}function KN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GN(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fN&&t.documentElement.namespaceURI===fN?t.createElement(e):t.createElementNS(n,e)}}function YN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function XN(e){var t=gN(e);return(t.local?YN:GN)(t)}function QN(){return null}function $N(){var e=this.parentNode;e&&e.removeChild(this)}function JN(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function e_(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function t_(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function n_(e,t,n){var r=kN(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function r_(e,t){return function(){return n_(this,e,t)}}function i_(e,t){return function(){return n_(this,e,t.apply(this,arguments))}}DN.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var a_=[null];function o_(e,t){this._groups=e,this._parents=t}function s_(){return new o_([[document.documentElement]],a_)}o_.prototype=s_.prototype={constructor:o_,select:function(e){"function"!==typeof e&&(e=$E(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new o_(r,this._parents)},selectAll:function(e){e="function"===typeof e?eN(e):ZE(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),i.push(o));return new o_(r,i)},selectChild:function(e){return this.select(null==e?iN:function(e){return function(){return rN.call(this.children,e)}}("function"===typeof e?e:nN(e)))},selectChildren:function(e){return this.selectAll(null==e?oN:function(e){return function(){return aN.call(this.children,e)}}("function"===typeof e?e:nN(e)))},filter:function(e){"function"!==typeof e&&(e=tN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new o_(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,dN);var n=t?uN:cN,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=hN(e.call(u,u&&u.__data__,c,r)),f=p.length,m=s[c]=new Array(f),g=o[c]=new Array(f);n(u,d,m,g,l[c]=new Array(h),p,t);for(var v,y,x=0,b=0;x<f;++x)if(v=m[x]){for(x>=b&&(b=x+1);!(y=g[b])&&++b<f;);v._next=y||null}}return(o=new o_(o,r))._enter=s,o._exit=l,o},enter:function(){return new o_(this._enter||this._groups.map(sN),this._parents)},exit:function(){return new o_(this._exit||this._groups.map(sN),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c,u=n[l],d=r[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<i;++l)s[l]=n[l];return new o_(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=pN);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new o_(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=gN(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?yN:vN:"function"===typeof t?n.local?SN:wN:n.local?bN:xN)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?EN:"function"===typeof t?_N:NN)(e,t,null==n?"":n)):CN(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?TN:"function"===typeof t?IN:jN)(e,t)):this.node()[e]},classed:function(e,t){var n=AN(e+"");if(arguments.length<2){for(var r=PN(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?FN:t?ON:LN)(n,t))},text:function(e){return arguments.length?this.each(null==e?VN:("function"===typeof e?UN:zN)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?BN:("function"===typeof e?qN:HN)(e)):this.node().innerHTML},raise:function(){return this.each(WN)},lower:function(){return this.each(KN)},append:function(e){var t="function"===typeof e?e:XN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:XN(e),r=null==t?QN:"function"===typeof t?t:$E(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each($N)},clone:function(e){return this.select(e?ZN:JN)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?t_:e_,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?i_:r_)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const l_=s_;function c_(e){return"string"===typeof e?new o_([[document.querySelector(e)]],[document.documentElement]):new o_([[e]],a_)}const u_={passive:!1},d_={capture:!0,passive:!1};function h_(e){e.stopImmediatePropagation()}function p_(e){e.preventDefault(),e.stopImmediatePropagation()}function f_(e){var t=e.document.documentElement,n=c_(e).on("dragstart.drag",p_,d_);"onselectstart"in t?n.on("selectstart.drag",p_,d_):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function m_(e,t){var n=e.document.documentElement,r=c_(e).on("dragstart.drag",null);t&&(r.on("click.drag",p_,d_),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function g_(e){return((e=Math.exp(e))+1/e)/2}const v_=function e(t,n,r){function i(e,i){var a,o,s=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],p=u-s,f=d-l,m=p*p+f*f;if(m<1e-12)o=Math.log(h/c)/t,a=function(e){return[s+e*p,l+e*f,c*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),y=(h*h-c*c-r*m)/(2*h*n*g),x=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);o=(b-x)/t,a=function(e){var r=e*o,i=g_(x),a=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+x)-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[s+a*p,l+a*f,c*i/g_(t*r+x)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function y_(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var x_,b_,w_=0,S_=0,k_=0,E_=0,N_=0,__=0,C_="object"===typeof performance&&performance.now?performance:Date,T_="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function j_(){return N_||(T_(I_),N_=C_.now()+__)}function I_(){N_=0}function A_(){this._call=this._time=this._next=null}function P_(e,t,n){var r=new A_;return r.restart(e,t,n),r}function D_(){N_=(E_=C_.now())+__,w_=S_=0;try{!function(){j_(),++w_;for(var e,t=x_;t;)(e=N_-t._time)>=0&&t._call.call(void 0,e),t=t._next;--w_}()}finally{w_=0,function(){var e,t,n=x_,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:x_=t);b_=e,M_(r)}(),N_=0}}function R_(){var e=C_.now(),t=e-E_;t>1e3&&(__-=t,E_=e)}function M_(e){w_||(S_&&(S_=clearTimeout(S_)),e-N_>24?(e<1/0&&(S_=setTimeout(D_,e-C_.now()-__)),k_&&(k_=clearInterval(k_))):(k_||(E_=C_.now(),k_=setInterval(R_,1e3)),w_=1,T_(D_)))}function O_(e,t,n){var r=new A_;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}A_.prototype=P_.prototype={constructor:A_,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?j_():+n)+(null==t?0:+t),this._next||b_===this||(b_?b_._next=this:x_=this,b_=this),this._call=e,this._time=n,M_()},stop:function(){this._call&&(this._call=null,this._time=1/0,M_())}};var L_=XE("start","end","cancel","interrupt"),F_=[];function V_(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return O_(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(O_(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=P_(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:L_,tween:F_,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function z_(e,t){var n=B_(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function U_(e,t){var n=B_(e,t);if(n.state>3)throw new Error("too late; already running");return n}function B_(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function H_(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function q_(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var W_,K_=180/Math.PI,G_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Y_(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*K_,skewX:Math.atan(l)*K_,scaleX:o,scaleY:s}}function X_(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:q_(e,i)},{i:l-2,x:q_(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:q_(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:q_(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,l),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:q_(e,n)},{i:s-2,x:q_(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Q_=X_(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?G_:Y_(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),$_=X_(function(e){return null==e?G_:(W_||(W_=document.createElementNS("http://www.w3.org/2000/svg","g")),W_.setAttribute("transform",e),(e=W_.transform.baseVal.consolidate())?Y_((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):G_)},", ",")",")");function J_(e,t){var n,r;return function(){var i=U_(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Z_(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=U_(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function eC(e,t,n){var r=e._id;return e.each(function(){var e=U_(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return B_(e,r).value[t]}}function tC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rC(){}var iC=.7,aC=1/iC,oC="\\s*([+-]?\\d+)\\s*",sC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cC=/^#([0-9a-f]{3,8})$/,uC=new RegExp("^rgb\\(".concat(oC,",").concat(oC,",").concat(oC,"\\)$")),dC=new RegExp("^rgb\\(".concat(lC,",").concat(lC,",").concat(lC,"\\)$")),hC=new RegExp("^rgba\\(".concat(oC,",").concat(oC,",").concat(oC,",").concat(sC,"\\)$")),pC=new RegExp("^rgba\\(".concat(lC,",").concat(lC,",").concat(lC,",").concat(sC,"\\)$")),fC=new RegExp("^hsl\\(".concat(sC,",").concat(lC,",").concat(lC,"\\)$")),mC=new RegExp("^hsla\\(".concat(sC,",").concat(lC,",").concat(lC,",").concat(sC,"\\)$")),gC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vC(){return this.rgb().formatHex()}function yC(){return this.rgb().formatRgb()}function xC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?bC(t):3===n?new kC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?wC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?wC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=uC.exec(e))?new kC(t[1],t[2],t[3],1):(t=dC.exec(e))?new kC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=hC.exec(e))?wC(t[1],t[2],t[3],t[4]):(t=pC.exec(e))?wC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=fC.exec(e))?jC(t[1],t[2]/100,t[3]/100,1):(t=mC.exec(e))?jC(t[1],t[2]/100,t[3]/100,t[4]):gC.hasOwnProperty(e)?bC(gC[e]):"transparent"===e?new kC(NaN,NaN,NaN,0):null}function bC(e){return new kC(e>>16&255,e>>8&255,255&e,1)}function wC(e,t,n,r){return r<=0&&(e=t=n=NaN),new kC(e,t,n,r)}function SC(e,t,n,r){return 1===arguments.length?function(e){return e instanceof rC||(e=xC(e)),e?new kC((e=e.rgb()).r,e.g,e.b,e.opacity):new kC}(e):new kC(e,t,n,null==r?1:r)}function kC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function EC(){return"#".concat(TC(this.r)).concat(TC(this.g)).concat(TC(this.b))}function NC(){const e=_C(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(CC(this.r),", ").concat(CC(this.g),", ").concat(CC(this.b)).concat(1===e?")":", ".concat(e,")"))}function _C(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function CC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function TC(e){return((e=CC(e))<16?"0":"")+e.toString(16)}function jC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new AC(e,t,n,r)}function IC(e){if(e instanceof AC)return new AC(e.h,e.s,e.l,e.opacity);if(e instanceof rC||(e=xC(e)),!e)return new AC;if(e instanceof AC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new AC(o,s,l,e.opacity)}function AC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function PC(e){return(e=(e||0)%360)<0?e+360:e}function DC(e){return Math.max(0,Math.min(1,e||0))}function RC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function MC(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}tC(rC,xC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vC,formatHex:vC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return IC(this).formatHsl()},formatRgb:yC,toString:yC}),tC(kC,SC,nC(rC,{brighter(e){return e=null==e?aC:Math.pow(aC,e),new kC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?iC:Math.pow(iC,e),new kC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kC(CC(this.r),CC(this.g),CC(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EC,formatHex:EC,formatHex8:function(){return"#".concat(TC(this.r)).concat(TC(this.g)).concat(TC(this.b)).concat(TC(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:NC,toString:NC})),tC(AC,function(e,t,n,r){return 1===arguments.length?IC(e):new AC(e,t,n,null==r?1:r)},nC(rC,{brighter(e){return e=null==e?aC:Math.pow(aC,e),new AC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?iC:Math.pow(iC,e),new AC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new kC(RC(e>=240?e-240:e+120,i,r),RC(e,i,r),RC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new AC(PC(this.h),DC(this.s),DC(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_C(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(PC(this.h),", ").concat(100*DC(this.s),"%, ").concat(100*DC(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const OC=e=>()=>e;function LC(e,t){return function(n){return e+n*t}}function FC(e){return 1===(e=+e)?VC:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):OC(isNaN(t)?n:t)}}function VC(e,t){var n=t-e;return n?LC(e,n):OC(isNaN(e)?t:e)}const zC=function e(t){var n=FC(t);function r(e,t){var r=n((e=SC(e)).r,(t=SC(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=VC(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function UC(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=SC(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}UC(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return MC((n-r/t)*t,o,i,a,s)}}),UC(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return MC((n-r/t)*t,i,a,o,s)}});var BC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HC=new RegExp(BC.source,"g");function qC(e,t){var n,r,i,a=BC.lastIndex=HC.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=BC.exec(e))&&(r=HC.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:q_(n,r)})),a=HC.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function WC(e,t){var n;return("number"===typeof t?q_:t instanceof xC?zC:(n=xC(t))?(t=n,zC):qC)(e,t)}function KC(e){return function(){this.removeAttribute(e)}}function GC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function YC(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function XC(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function QC(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttribute(e)}}function $C(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function JC(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function ZC(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function eT(e,t){return function(){z_(this,e).delay=+t.apply(this,arguments)}}function tT(e,t){return t=+t,function(){z_(this,e).delay=t}}function nT(e,t){return function(){U_(this,e).duration=+t.apply(this,arguments)}}function rT(e,t){return t=+t,function(){U_(this,e).duration=t}}var iT=l_.prototype.constructor;function aT(e){return function(){this.style.removeProperty(e)}}var oT=0;function sT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function lT(){return++oT}var cT=l_.prototype;sT.prototype=function(e){return l_().transition(e)}.prototype={constructor:sT,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=$E(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,V_(d[h],t,n,h,d,B_(s,n)));return new sT(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=ZE(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=B_(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&V_(h,t,n,m,p,f);a.push(p),o.push(l)}return new sT(a,o,t,n)},selectChild:cT.selectChild,selectChildren:cT.selectChildren,filter:function(e){"function"!==typeof e&&(e=tN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new sT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<r;++s)o[s]=t[s];return new sT(o,this._parents,this._name,this._id)},selection:function(){return new iT(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=lT(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=B_(o,t);V_(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new sT(r,this._parents,e,n)},call:cT.call,nodes:cT.nodes,node:cT.node,size:cT.size,empty:cT.empty,each:cT.each,on:function(e,t){var n=this._id;return arguments.length<2?B_(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?z_:U_;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=gN(e),r="transform"===n?$_:WC;return this.attrTween(e,"function"===typeof t?(n.local?$C:QC)(n,r,eC(this,"attr."+e,t)):null==t?(n.local?GC:KC)(n):(n.local?XC:YC)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=gN(e);return this.tween(n,(r.local?JC:ZC)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Q_:WC;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=CN(this,e),o=(this.style.removeProperty(e),CN(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,aT(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=CN(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=CN(this,e)),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}(e,r,eC(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var l=U_(this,e),c=l.on,u=null==l.value[o]?a||(a=aT(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=CN(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(eC(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=B_(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?J_:Z_)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?eT:tT)(t,e)):B_(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?nT:rT)(t,e)):B_(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){U_(this,e).ease=t}}(t,e)):B_(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;U_(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){0===--i&&a()}};n.each(function(){var n=U_(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===i&&a()})},[Symbol.iterator]:cT[Symbol.iterator]};var uT={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function dT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}l_.prototype.interrupt=function(e){return this.each(function(){H_(this,e)})},l_.prototype.transition=function(e){var t,n;e instanceof sT?(t=e._id,e=e._name):(t=lT(),(n=uT).time=j_(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&V_(o,e,t,c,s,n||dT(o,t));return new sT(r,this._parents,e,t)};const hT=e=>()=>e;function pT(e,t){let{sourceEvent:n,target:r,transform:i,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function fT(e,t,n){this.k=e,this.x=t,this.y=n}fT.prototype={constructor:fT,scale:function(e){return 1===e?this:new fT(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new fT(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mT=new fT(1,0,0);function gT(e){e.stopImmediatePropagation()}function vT(e){e.preventDefault(),e.stopImmediatePropagation()}function yT(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function xT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function bT(){return this.__zoom||mT}function wT(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ST(){return navigator.maxTouchPoints||"ontouchstart"in this}function kT(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function ET(){var e,t,n,r=yT,i=xT,a=kT,o=wT,s=ST,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=v_,h=XE("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",bT).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",N).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new fT(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new fT(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,a=arguments,o=b(e,a).event(r),s=i.apply(e,a),l=null==n?y(s):"function"===typeof n?n.apply(e,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,a):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new fT(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=b(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,o.apply(this,arguments)))),h=y_(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],H_(this),s.start()}vT(e),s.wheel=setTimeout(function(){s.wheel=null,s.end()},150),s.zoom("mouse",a(v(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function k(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=b(this,i,!0).event(e),u=c_(e.view).on("mousemove.zoom",function(e){if(vT(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",a(v(l.that.__zoom,l.mouse[0]=y_(e,s),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){u.on("mousemove.zoom mouseup.zoom",null),m_(e.view,l.moved),vT(e),l.event(e).end()},!0),d=y_(e,s),h=e.clientX,f=e.clientY;f_(e.view),gT(e),l.mouse=[d,this.__zoom.invert(d)],H_(this),l.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=this.__zoom,l=y_(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),p=a(v(g(s,h),l,d),i.apply(this,n),c);vT(e),u>0?c_(this).transition().duration(u).call(x,p,l,e):c_(this).call(m.transform,p,l,e)}}function N(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,p=b(this,a,n.changedTouches.length===h).event(n);for(gT(n),l=0;l<h;++l)u=[u=y_(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),H_(this),p.start())}}function _(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s,l,u=b(this,n).event(e),d=e.changedTouches,h=d.length;for(vT(e),i=0;i<h;++i)s=y_(o=d[i],this),u.touch0&&u.touch0[2]===o.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===o.identifier&&(u.touch1[0]=s);if(o=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],m=u.touch1[0],y=u.touch1[1],x=(x=m[0]-p[0])*x+(x=m[1]-p[1])*x,w=(w=y[0]-f[0])*w+(w=y[1]-f[1])*w;o=g(o,Math.sqrt(x/w)),s=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+y[0])/2,(f[1]+y[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",a(v(o,s,l),u.extent,c))}}function C(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,s,l=b(this,i).event(e),c=e.changedTouches,u=c.length;for(gT(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<u;++o)s=c[o],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=y_(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<f)){var d=c_(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",bT),e!==i?x(e,t,n,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(o),l="function"===typeof t?t.apply(this,arguments):t;return a(v(g(r,l),o,s),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==r?y(e):"function"===typeof r?r.apply(this,arguments):r;return a(mT.translate(s[0],s[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},r,o)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=c_(this.that).datum();h.call(e,this.that,new pT(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:hT(+e),m):o},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:hT(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:hT(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:hT([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}fT.prototype;const NT=e=>()=>e;function _T(e,t){let{sourceEvent:n,subject:r,target:i,identifier:a,active:o,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function CT(e){return!e.ctrlKey&&!e.button}function TT(){return this.parentNode}function jT(e,t){return null==t?{x:e.x,y:e.y}:t}function IT(){return navigator.maxTouchPoints||"ontouchstart"in this}_T.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const AT=["position","children","className","style"],PT=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],DT=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],RT=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],MT=(0,t.createContext)(null),OT=MT.Provider,LT=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),FT=()=>"The React Flow parent container needs a width and a height to render the graph.",VT=()=>"Only child nodes can use a parent extent.",zT=()=>"Can't create edge. An edge needs a source and a target.",UT=e=>'Marker type "'.concat(e,"\" doesn't exist."),BT=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),HT=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",qT=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),WT=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),KT=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function GT(e,n){const r=(0,t.useContext)(MT);if(null===r)throw new Error(KT);return UE(r,e,n)}const YT=()=>{const e=(0,t.useContext)(MT);if(null===e)throw new Error(KT);return(0,t.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},XT=e=>e.userSelectionActive?"none":"all";function QT(e){let{position:n,children:r,className:i,style:a}=e,o=vv(e,AT);const s=GT(XT),l="".concat(n).split("-");return t.createElement("div",Me({className:RE(["react-flow__panel",i,...l]),style:Me(Me({},a),{},{pointerEvents:s})},o),r)}function $T(e){let{proOptions:n,position:r="bottom-right"}=e;return null!==n&&void 0!==n&&n.hideAttribution?null:t.createElement(QT,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},t.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var JT=(0,t.memo)(e=>{let{x:n,y:r,label:i,labelStyle:a={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:d}=e,h=vv(e,PT);const p=(0,t.useRef)(null),[f,m]=(0,t.useState)({x:0,y:0,width:0,height:0}),g=RE(["react-flow__edge-textwrapper",d]);return(0,t.useEffect)(()=>{if(p.current){const e=p.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[i]),"undefined"!==typeof i&&i?t.createElement("g",Me({transform:"translate(".concat(n-f.width/2," ").concat(r-f.height/2,")"),className:g,visibility:f.width?"visible":"hidden"},h),o&&t.createElement("rect",{width:f.width+2*l[0],x:-l[0],y:-l[1],height:f.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),t.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:a},i),u):null});const ZT=e=>({width:e.offsetWidth,height:e.offsetHeight}),ej=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},tj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:ej(e.x,t[0][0],t[1][0]),y:ej(e.y,t[0][1],t[1][1])}},nj=(e,t,n)=>e<t?ej(Math.abs(e-t),1,50)/50:e>n?-ej(Math.abs(e-n),1,50)/50:0,rj=(e,t)=>[20*nj(e.x,35,t.width-35),20*nj(e.y,35,t.height-35)],ij=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},aj=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),oj=e=>{let{x:t,y:n,width:r,height:i}=e;return{x:t,y:n,x2:t+r,y2:n+i}},sj=e=>{let{x:t,y:n,x2:r,y2:i}=e;return{x:t,y:n,width:r-t,height:i-n}},lj=e=>Me(Me({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),cj=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},uj=e=>!isNaN(e)&&isFinite(e),dj=Symbol.for("internals"),hj=["Enter"," ","Escape"],pj=(e,t)=>{0};function fj(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const mj=e=>"clientX"in e,gj=(e,t)=>{var n,r,i,a;const o=mj(e),s=o?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=o?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:s-(null!==(i=null===t||void 0===t?void 0:t.left)&&void 0!==i?i:0),y:l-(null!==(a=null===t||void 0===t?void 0:t.top)&&void 0!==a?a:0)}},vj=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},yj=e=>{let{id:n,path:r,labelX:i,labelY:a,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:m=20}=e;return t.createElement(t.Fragment,null,t.createElement("path",{id:n,style:h,d:r,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:f}),m&&t.createElement("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&uj(i)&&uj(a)?t.createElement(JT,{x:i,y:a,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};yj.displayName="BaseEdge";function xj(e,t,n){return void 0===n?n:r=>{const i=t().edges.find(t=>t.id===e);i&&n(r,Me({},i))}}function bj(e){let{sourceX:t,sourceY:n,targetX:r,targetY:i}=e;const a=Math.abs(r-t)/2,o=r<t?r+a:r-a,s=Math.abs(i-n)/2;return[o,i<n?i+s:i-s,a,s]}function wj(e){let{sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*a+.375*s+.125*r,u=.125*n+.375*o+.375*l+.125*i;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var Sj,kj,Ej,Nj,_j,Cj;function Tj(e){let{pos:t,x1:n,y1:r,x2:i,y2:a}=e;return t===Cj.Left||t===Cj.Right?[.5*(n+i),r]:[n,.5*(r+a)]}function jj(e){let{sourceX:t,sourceY:n,sourcePosition:r=Cj.Bottom,targetX:i,targetY:a,targetPosition:o=Cj.Top}=e;const[s,l]=Tj({pos:r,x1:t,y1:n,x2:i,y2:a}),[c,u]=Tj({pos:o,x1:i,y1:a,x2:t,y2:n}),[d,h,p,f]=wj({sourceX:t,sourceY:n,targetX:i,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(s,",").concat(l," ").concat(c,",").concat(u," ").concat(i,",").concat(a),d,h,p,f]}!function(e){e.Strict="strict",e.Loose="loose"}(Sj||(Sj={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(kj||(kj={})),function(e){e.Partial="partial",e.Full="full"}(Ej||(Ej={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Nj||(Nj={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(_j||(_j={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Cj||(Cj={}));const Ij=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:o=Cj.Bottom,targetPosition:s=Cj.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:v}=e;const[y,x,b]=jj({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:a,targetPosition:s});return t.createElement(yj,{path:y,labelX:x,labelY:b,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:v})});Ij.displayName="SimpleBezierEdge";const Aj={[Cj.Left]:{x:-1,y:0},[Cj.Right]:{x:1,y:0},[Cj.Top]:{x:0,y:-1},[Cj.Bottom]:{x:0,y:1}},Pj=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Dj(e){let{source:t,sourcePosition:n=Cj.Bottom,target:r,targetPosition:i=Cj.Top,center:a,offset:o}=e;const s=Aj[n],l=Aj[i],c={x:t.x+s.x*o,y:t.y+s.y*o},u={x:r.x+l.x*o,y:r.y+l.y*o},d=(e=>{let{source:t,sourcePosition:n=Cj.Bottom,target:r}=e;return n===Cj.Left||n===Cj.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),h=0!==d.x?"x":"y",p=d[h];let f,m,g=[];const v={x:0,y:0},y={x:0,y:0},[x,b,w,S]=bj({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(s[h]*l[h]===-1){var k,E;f=null!==(k=a.x)&&void 0!==k?k:x,m=null!==(E=a.y)&&void 0!==E?E:b;const e=[{x:f,y:c.y},{x:f,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=s[h]===p?"x"===h?e:t:"x"===h?t:e}else{const e=[{x:c.x,y:u.y}],a=[{x:u.x,y:c.y}];if(g="x"===h?s.x===p?a:e:s.y===p?e:a,n===i){const e=Math.abs(t[h]-r[h]);if(e<=o){const n=Math.min(o-1,o-e);s[h]===p?v[h]=(c[h]>t[h]?-1:1)*n:y[h]=(u[h]>r[h]?-1:1)*n}}if(n!==i){const t="x"===h?"y":"x",n=s[h]===l[t],r=c[t]>u[t],i=c[t]<u[t];(1===s[h]&&(!n&&r||n&&i)||1!==s[h]&&(!n&&i||n&&r))&&(g="x"===h?e:a)}const d={x:c.x+v.x,y:c.y+v.y},x={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(x.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(x.y-g[0].y))?(f=(d.x+x.x)/2,m=g[0].y):(f=g[0].x,m=(d.y+x.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},r],f,m,w,S]}function Rj(e){let{sourceX:t,sourceY:n,sourcePosition:r=Cj.Bottom,targetX:i,targetY:a,targetPosition:o=Cj.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=e;const[d,h,p,f,m]=Dj({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:a},targetPosition:o,center:{x:l,y:c},offset:u}),g=d.reduce((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const i=Math.min(Pj(e,t)/2,Pj(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return"L".concat(a," ").concat(o);if(e.y===o){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(a+i*t,",").concat(o,"Q ").concat(a,",").concat(o," ").concat(a,",").concat(o+i*r)}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(a,",").concat(o+i*l,"Q ").concat(a,",").concat(o," ").concat(a+i*s,",").concat(o)}(d[n-1],t,d[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r},"");return[g,h,p,f,m]}const Mj=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:i,targetY:a,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:p=Cj.Bottom,targetPosition:f=Cj.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[x,b,w]=Rj({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:a,targetPosition:f,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return t.createElement(yj,{path:x,labelX:b,labelY:w,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:g,interactionWidth:y})});Mj.displayName="SmoothStepEdge";const Oj=(0,t.memo)(e=>{var n;return t.createElement(Mj,Me(Me({},e),{},{pathOptions:(0,t.useMemo)(()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}},[null===(n=e.pathOptions)||void 0===n?void 0:n.offset])}))});Oj.displayName="StepEdge";const Lj=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:i,targetY:a,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:m}=e;const[g,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:i}=e;const[a,o,s,l]=bj({sourceX:t,sourceY:n,targetX:r,targetY:i});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(i),a,o,s,l]}({sourceX:n,sourceY:r,targetX:i,targetY:a});return t.createElement(yj,{path:g,labelX:v,labelY:y,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:m})});function Fj(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Vj(e){let{pos:t,x1:n,y1:r,x2:i,y2:a,c:o}=e;switch(t){case Cj.Left:return[n-Fj(n-i,o),r];case Cj.Right:return[n+Fj(i-n,o),r];case Cj.Top:return[n,r-Fj(r-a,o)];case Cj.Bottom:return[n,r+Fj(a-r,o)]}}function zj(e){let{sourceX:t,sourceY:n,sourcePosition:r=Cj.Bottom,targetX:i,targetY:a,targetPosition:o=Cj.Top,curvature:s=.25}=e;const[l,c]=Vj({pos:r,x1:t,y1:n,x2:i,y2:a,c:s}),[u,d]=Vj({pos:o,x1:i,y1:a,x2:t,y2:n,c:s}),[h,p,f,m]=wj({sourceX:t,sourceY:n,targetX:i,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(u,",").concat(d," ").concat(i,",").concat(a),h,p,f,m]}Lj.displayName="StraightEdge";const Uj=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:o=Cj.Bottom,targetPosition:s=Cj.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[x,b,w]=zj({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:a,targetPosition:s,curvature:null===v||void 0===v?void 0:v.curvature});return t.createElement(yj,{path:x,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:y})});Uj.displayName="BezierEdge";const Bj=(0,t.createContext)(null),Hj=Bj.Provider;Bj.Consumer;const qj=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:i}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(i||"")},Wj=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},Kj=(e,t)=>{if(!e.source||!e.target)return pj(0,zT()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?Me({},e):Me(Me({},e),{},{id:qj(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)},Gj=(e,t,n,r)=>{let{x:i,y:a}=e,[o,s,l]=t,[c,u]=r;const d={x:(i-o)/l,y:(a-s)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},Yj=(e,t)=>{let{x:n,y:r}=e,[i,a,o]=t;return{x:n*o+i,y:r*o+a}},Xj=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],a=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],o={x:e.position.x-i,y:e.position.y-a};return Me(Me({},o),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-i,y:e.positionAbsolute.y-a}:o})},Qj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:i}=Xj(n,t).positionAbsolute;return aj(e,oj({x:r,y:i,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return sj(n)},$j=function(e,t){let[n,r,i]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:i=!1}=e;if(o&&!r||i)return!1;const{positionAbsolute:u}=Xj(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},h=cj(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||a&&h>0||h>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},Jj=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},Zj=function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const o=t/(e.width*(1+a)),s=n/(e.height*(1+a)),l=Math.min(o,s),c=ej(l,r,i);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},eI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function tI(e,t,n,r){return(t[n]||[]).reduce((t,i)=>{var a,o,s,l;"".concat(e.id,"-").concat(i.id,"-").concat(n)!==r&&t.push({id:i.id||null,type:n,nodeId:e.id,x:(null!==(a=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==a?a:0)+i.x+i.width/2,y:(null!==(s=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+i.y+i.height/2});return t},[])}const nI={source:null,target:null,sourceHandle:null,targetHandle:null},rI=()=>({handleDomNode:null,isValid:!1,connection:nI,endHandle:null});function iI(e,t,n,r,i,a,o){const s="target"===i,l=o.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c=Me(Me({},rI()),{},{handleDomNode:l});if(l){const e=aI(void 0,l),i=l.getAttribute("data-nodeid"),o=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),h={source:s?i:n,sourceHandle:s?o:r,target:s?n:i,targetHandle:s?r:o};c.connection=h;u&&d&&(t===Sj.Strict?s&&"source"===e||!s&&"target"===e:i!==n||o!==r)&&(c.endHandle={nodeId:i,handleId:o,type:e},c.isValid=a(h))}return c}function aI(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function oI(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function sI(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function lI(e){let{event:t,handleId:n,nodeId:r,onConnect:i,isTarget:a,getState:o,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=ij(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:f,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:x}=o();let b,w=0;const{x:S,y:k}=gj(t),E=null===d||void 0===d?void 0:d.elementFromPoint(S,k),N=aI(c,E),_=null===p||void 0===p?void 0:p.getBoundingClientRect();if(!_||!N)return;let C,T=gj(t,_),j=!1,I=null,A=!1,P=null;const D=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:i}=e;return t.reduce((e,t)=>{if(t[dj]){const{handleBounds:a}=t[dj];let o=[],s=[];a&&(o=tI(t,a,"source","".concat(n,"-").concat(r,"-").concat(i)),s=tI(t,a,"target","".concat(n,"-").concat(r,"-").concat(i))),e.push(...o,...s)}return e},[])}({nodes:y(),nodeId:r,handleId:n,handleType:N}),R=()=>{if(!f)return;const[e,t]=rj(T,_);v({x:e,y:t}),w=requestAnimationFrame(R)};function M(e){const{transform:t}=o();T=gj(e,_);const{handle:i,validHandleResult:c}=function(e,t,n,r,i,a){const{x:o,y:s}=gj(e),l=t.elementsFromPoint(o,s).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=aI(void 0,l),r=l.getAttribute("data-handleid"),o=a({nodeId:e,id:r,type:t});if(o){const a=i.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null===a||void 0===a?void 0:a.x)||n.x,y:(null===a||void 0===a?void 0:a.y)||n.y},validHandleResult:o}}}}let c=[],u=1/0;if(i.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=a(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:rI()};if(1===c.length)return c[0];const d=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),h=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return h?"target"===t.type:!d||n.isValid})||c[0]}(e,d,Gj(T,t,!1,[1,1]),m,D,e=>iI(e,h,r,n,a?"target":"source",l,d));if(b=i,j||(R(),j=!0),P=c.handleDomNode,I=c.connection,A=c.isValid,s({connectionPosition:b&&A?Yj({x:b.x,y:b.y},t):T,connectionStatus:sI(!!b,A),connectionEndHandle:c.endHandle}),!b&&!A&&!P)return oI(C);I.source!==I.target&&P&&(oI(C),C=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",A),P.classList.toggle("react-flow__handle-valid",A))}function O(e){var t,n;(b||P)&&I&&A&&(null===i||void 0===i||i(I)),null===(t=(n=o()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),oI(C),x(),cancelAnimationFrame(w),j=!1,A=!1,I=null,P=null,d.removeEventListener("mousemove",M),d.removeEventListener("mouseup",O),d.removeEventListener("touchmove",M),d.removeEventListener("touchend",O)}s({connectionPosition:T,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:N,connectionStartHandle:{nodeId:r,handleId:n,type:N},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:r,handleId:n,handleType:N}),d.addEventListener("mousemove",M),d.addEventListener("mouseup",O),d.addEventListener("touchmove",M),d.addEventListener("touchend",O)}const cI=()=>!0,uI=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),dI=(0,t.forwardRef)((e,n)=>{let{type:r="source",position:i=Cj.Top,isValidConnection:a,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:h,onMouseDown:p,onTouchStart:f}=e,m=vv(e,DT);const g=c||null,v="target"===r,y=YT(),x=(0,t.useContext)(Bj),{connectOnClick:b,noPanClassName:w}=GT(uI,HE),{connecting:S,clickConnecting:k}=GT(((e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n||(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n,clickConnecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n}})(x,g,r),HE);var E,N;x||(null===(E=(N=y.getState()).onError)||void 0===E||E.call(N,"010",HT()));const _=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=y.getState(),i=Me(Me({},t),e);if(r){const{edges:e,setEdges:t}=y.getState();t(Kj(i,e))}null===n||void 0===n||n(i),null===u||void 0===u||u(i)},C=e=>{if(!x)return;const t=mj(e);s&&(t&&0===e.button||!t)&&lI({event:e,handleId:g,nodeId:x,onConnect:_,isTarget:v,getState:y.getState,setState:y.setState,isValidConnection:a||y.getState().isValidConnection||cI}),t?null===p||void 0===p||p(e):null===f||void 0===f||f(e)};return t.createElement("div",Me({"data-handleid":g,"data-nodeid":x,"data-handlepos":i,"data-id":"".concat(x,"-").concat(g,"-").concat(r),className:RE(["react-flow__handle","react-flow__handle-".concat(i),"nodrag",w,h,{source:!v,target:v,connectable:o,connectablestart:s,connectableend:l,connecting:k,connectionindicator:o&&(s&&!S||l&&S)}]),onMouseDown:C,onTouchStart:C,onClick:b?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:i,connectionMode:o,isValidConnection:l}=y.getState();if(!x||!i&&!s)return;if(!i)return null===t||void 0===t||t(e,{nodeId:x,handleId:g,handleType:r}),void y.setState({connectionClickStartHandle:{nodeId:x,type:r,handleId:g}});const c=ij(e.target),u=a||l||cI,{connection:d,isValid:h}=iI({nodeId:x,id:g,type:r},o,i.nodeId,i.handleId||null,i.type,u,c);h&&_(d),null===n||void 0===n||n(e),y.setState({connectionClickStartHandle:null})}:void 0,ref:n},m),d)});dI.displayName="Handle";var hI=(0,t.memo)(dI);const pI=e=>{let{data:n,isConnectable:r,targetPosition:i=Cj.Top,sourcePosition:a=Cj.Bottom}=e;return t.createElement(t.Fragment,null,t.createElement(hI,{type:"target",position:i,isConnectable:r}),null===n||void 0===n?void 0:n.label,t.createElement(hI,{type:"source",position:a,isConnectable:r}))};pI.displayName="DefaultNode";var fI=(0,t.memo)(pI);const mI=e=>{let{data:n,isConnectable:r,sourcePosition:i=Cj.Bottom}=e;return t.createElement(t.Fragment,null,null===n||void 0===n?void 0:n.label,t.createElement(hI,{type:"source",position:i,isConnectable:r}))};mI.displayName="InputNode";var gI=(0,t.memo)(mI);const vI=e=>{let{data:n,isConnectable:r,targetPosition:i=Cj.Top}=e;return t.createElement(t.Fragment,null,t.createElement(hI,{type:"target",position:i,isConnectable:r}),null===n||void 0===n?void 0:n.label)};vI.displayName="OutputNode";var yI=(0,t.memo)(vI);const xI=()=>null;xI.displayName="GroupNode";const bI=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>Me({},e))}),wI=e=>e.id;function SI(e,t){return HE(e.selectedNodes.map(wI),t.selectedNodes.map(wI))&&HE(e.selectedEdges.map(wI),t.selectedEdges.map(wI))}const kI=(0,t.memo)(e=>{let{onSelectionChange:n}=e;const r=YT(),{selectedNodes:i,selectedEdges:a}=GT(bI,SI);return(0,t.useEffect)(()=>{const e={nodes:i,edges:a};null===n||void 0===n||n(e),r.getState().onSelectionChange.forEach(t=>t(e))},[i,a,n]),null});kI.displayName="SelectionListener";const EI=e=>!!e.onSelectionChange;function NI(e){let{onSelectionChange:n}=e;const r=GT(EI);return n||r?t.createElement(kI,{onSelectionChange:n}):null}const _I=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function CI(e,n){(0,t.useEffect)(()=>{"undefined"!==typeof e&&n(e)},[e])}function TI(e,n,r){(0,t.useEffect)(()=>{"undefined"!==typeof n&&r({[e]:n})},[n])}const jI=e=>{let{nodes:n,edges:r,defaultNodes:i,defaultEdges:a,onConnect:o,onConnectStart:s,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:h,nodesFocusable:p,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:v,maxZoom:y,nodeExtent:x,onNodesChange:b,onEdgesChange:w,elementsSelectable:S,connectionMode:k,snapGrid:E,snapToGrid:N,translateExtent:_,connectOnClick:C,defaultEdgeOptions:T,fitView:j,fitViewOptions:I,onNodesDelete:A,onEdgesDelete:P,onNodeDrag:D,onNodeDragStart:R,onNodeDragStop:M,onSelectionDrag:O,onSelectionDragStart:L,onSelectionDragStop:F,noPanClassName:V,nodeOrigin:z,rfId:U,autoPanOnConnect:B,autoPanOnNodeDrag:H,onError:q,connectionRadius:W,isValidConnection:K,nodeDragThreshold:G}=e;const{setNodes:Y,setEdges:X,setDefaultNodesAndEdges:Q,setMinZoom:$,setMaxZoom:J,setTranslateExtent:Z,setNodeExtent:ee,reset:te}=GT(_I,HE),ne=YT();return(0,t.useEffect)(()=>{const e=null===a||void 0===a?void 0:a.map(e=>Me(Me({},e),T));return Q(i,e),()=>{te()}},[]),TI("defaultEdgeOptions",T,ne.setState),TI("connectionMode",k,ne.setState),TI("onConnect",o,ne.setState),TI("onConnectStart",s,ne.setState),TI("onConnectEnd",l,ne.setState),TI("onClickConnectStart",c,ne.setState),TI("onClickConnectEnd",u,ne.setState),TI("nodesDraggable",d,ne.setState),TI("nodesConnectable",h,ne.setState),TI("nodesFocusable",p,ne.setState),TI("edgesFocusable",f,ne.setState),TI("edgesUpdatable",m,ne.setState),TI("elementsSelectable",S,ne.setState),TI("elevateNodesOnSelect",g,ne.setState),TI("snapToGrid",N,ne.setState),TI("snapGrid",E,ne.setState),TI("onNodesChange",b,ne.setState),TI("onEdgesChange",w,ne.setState),TI("connectOnClick",C,ne.setState),TI("fitViewOnInit",j,ne.setState),TI("fitViewOnInitOptions",I,ne.setState),TI("onNodesDelete",A,ne.setState),TI("onEdgesDelete",P,ne.setState),TI("onNodeDrag",D,ne.setState),TI("onNodeDragStart",R,ne.setState),TI("onNodeDragStop",M,ne.setState),TI("onSelectionDrag",O,ne.setState),TI("onSelectionDragStart",L,ne.setState),TI("onSelectionDragStop",F,ne.setState),TI("noPanClassName",V,ne.setState),TI("nodeOrigin",z,ne.setState),TI("rfId",U,ne.setState),TI("autoPanOnConnect",B,ne.setState),TI("autoPanOnNodeDrag",H,ne.setState),TI("onError",q,ne.setState),TI("connectionRadius",W,ne.setState),TI("isValidConnection",K,ne.setState),TI("nodeDragThreshold",G,ne.setState),CI(n,Y),CI(r,X),CI(v,$),CI(y,J),CI(_,Z),CI(x,ee),null},II={display:"none"},AI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},PI="react-flow__node-desc",DI="react-flow__edge-desc",RI=e=>e.ariaLiveMessage;function MI(e){let{rfId:n}=e;const r=GT(RI);return t.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:AI},r)}function OI(e){let{rfId:n,disableKeyboardA11y:r}=e;return t.createElement(t.Fragment,null,t.createElement("div",{id:"".concat(PI,"-").concat(n),style:II},"Press enter or space to select a node.",!r&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),t.createElement("div",{id:"".concat(DI,"-").concat(n),style:II},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!r&&t.createElement(MI,{rfId:n}))}var LI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[r,i]=(0,t.useState)(!1),a=(0,t.useRef)(!1),o=(0,t.useRef)(new Set([])),[s,l]=(0,t.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,t.useEffect)(()=>{const t="undefined"!==typeof document?document:null,r=(null===n||void 0===n?void 0:n.target)||t;if(null!==e){const e=e=>{a.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!a.current||a.current&&!n.actInsideInputWithModifier)&&fj(e))return!1;const t=VI(e.code,l);o.current.add(e[t]),FI(s,o.current,!1)&&(e.preventDefault(),i(!0))},t=e=>{if((!a.current||a.current&&!n.actInsideInputWithModifier)&&fj(e))return!1;const t=VI(e.code,l);FI(s,o.current,!0)?(i(!1),o.current.clear()):o.current.delete(e[t]),"Meta"===e.key&&o.current.clear(),a.current=!1},c=()=>{o.current.clear(),i(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}},[e,i]),r};function FI(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function VI(e,t){return t.includes(e)?"code":"key"}function zI(e,t,n,r){var i,a,o,s,l,c,u,d;const h=e.parentNode||e.parentId;if(!h)return n;const p=t.get(h),f=Xj(p,r);return zI(p,t,{x:(null!==(i=n.x)&&void 0!==i?i:0)+f.x,y:(null!==(a=n.y)&&void 0!==a?a:0)+f.y,z:(null!==(o=null===(s=p[dj])||void 0===s?void 0:s.z)&&void 0!==o?o:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(u=p[dj])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},r)}function UI(e,t,n){e.forEach(r=>{const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error("Parent node ".concat(i," not found"));if(i||null!==n&&void 0!==n&&n[r.id]){var a,o;const{x:i,y:s,z:l}=zI(r,e,Me(Me({},r.position),{},{z:null!==(a=null===(o=r[dj])||void 0===o?void 0:o.z)&&void 0!==a?a:0}),t);r.positionAbsolute={x:i,y:s},r[dj].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[dj].isParent=!0)}})}function BI(e,t,n,r){const i=new Map,a={},o=r?1e3:0;return e.forEach(e=>{var n;const r=(uj(e.zIndex)?e.zIndex:0)+(e.selected?o:0),s=t.get(e.id),l=Me(Me({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),c=e.parentNode||e.parentId;c&&(a[c]=!0);const u=(null===s||void 0===s?void 0:s.type)&&(null===s||void 0===s?void 0:s.type)!==e.type;Object.defineProperty(l,dj,{enumerable:!1,value:{handleBounds:u||null===s||void 0===s||null===(n=s[dj])||void 0===n?void 0:n.handleBounds,z:r}}),i.set(e.id,l)}),UI(i,n,a),i}function HI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:o,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),h=t.initial&&!c&&u;if(s&&l&&(h||!t.initial)){const e=n().filter(e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some(t=>t.id===e.id):r}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var p,f,m;const n=Qj(e,d),{x:c,y:u,zoom:h}=Zj(n,r,i,null!==(p=t.minZoom)&&void 0!==p?p:a,null!==(f=t.maxZoom)&&void 0!==f?f:o,null!==(m=t.padding)&&void 0!==m?m:.1),g=mT.translate(c,u).scale(h);return"number"===typeof t.duration&&t.duration>0?s.transform(eI(l,t.duration),g):s.transform(l,g),!0}}return!1}function qI(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,Me(Me({},n),{},{[dj]:n[dj],selected:e.selected}))}),new Map(t)}function WI(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function KI(e){let{changedNodes:t,changedEdges:n,get:r,set:i}=e;const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();null!==t&&void 0!==t&&t.length&&(c&&i({nodeInternals:qI(t,a)}),null===s||void 0===s||s(t)),null!==n&&void 0!==n&&n.length&&(u&&i({edges:WI(n,o)}),null===l||void 0===l||l(n))}const GI=()=>{},YI={zoomIn:GI,zoomOut:GI,zoomTo:GI,getZoom:()=>1,setViewport:GI,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:GI,fitBounds:GI,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},XI=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function QI(){const e=(()=>{const e=YT(),{d3Zoom:n,d3Selection:r}=GT(XI,HE),i=(0,t.useMemo)(()=>r&&n?{zoomIn:e=>n.scaleBy(eI(r,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(eI(r,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(eI(r,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(t,i)=>{var a,o,s;const[l,c,u]=e.getState().transform,d=mT.translate(null!==(a=t.x)&&void 0!==a?a:l,null!==(o=t.y)&&void 0!==o?o:c).scale(null!==(s=t.zoom)&&void 0!==s?s:u);n.transform(eI(r,null===i||void 0===i?void 0:i.duration),d)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>HI(e.getState,t),setCenter:(t,i,a)=>{const{width:o,height:s,maxZoom:l}=e.getState(),c="undefined"!==typeof(null===a||void 0===a?void 0:a.zoom)?a.zoom:l,u=o/2-t*c,d=s/2-i*c,h=mT.translate(u,d).scale(c);n.transform(eI(r,null===a||void 0===a?void 0:a.duration),h)},fitBounds:(t,i)=>{var a;const{width:o,height:s,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:h}=Zj(t,o,s,l,c,null!==(a=null===i||void 0===i?void 0:i.padding)&&void 0!==a?a:.1),p=mT.translate(u,d).scale(h);n.transform(eI(r,null===i||void 0===i?void 0:i.duration),p)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Gj(t,n,r,i)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:i,domNode:a}=e.getState();if(!a)return t;const{x:o,y:s}=a.getBoundingClientRect(),l={x:t.x-o,y:t.y-s};return Gj(l,n,r,i)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:a}=r.getBoundingClientRect(),o=Yj(t,n);return{x:o.x+i,y:o.y+a}},viewportInitialized:!0}:YI,[n,r]);return i})(),n=YT(),r=(0,t.useCallback)(()=>n.getState().getNodes().map(e=>Me({},e)),[]),i=(0,t.useCallback)(e=>n.getState().nodeInternals.get(e),[]),a=(0,t.useCallback)(()=>{const{edges:e=[]}=n.getState();return e.map(e=>Me({},e))},[]),o=(0,t.useCallback)(e=>{const{edges:t=[]}=n.getState();return t.find(t=>t.id===e)},[]),s=(0,t.useCallback)(e=>{const{getNodes:t,setNodes:r,hasDefaultNodes:i,onNodesChange:a}=n.getState(),o=t(),s="function"===typeof e?e(o):e;if(i)r(s);else if(a){const e=0===s.length?o.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"}));a(e)}},[]),l=(0,t.useCallback)(e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:a}=n.getState(),o="function"===typeof e?e(t):e;if(i)r(o);else if(a){a(0===o.length?t.map(e=>({type:"remove",id:e.id})):o.map(e=>({item:e,type:"reset"})))}},[]),c=(0,t.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{getNodes:r,setNodes:i,hasDefaultNodes:a,onNodesChange:o}=n.getState();if(a){i([...r(),...t])}else if(o){const e=t.map(e=>({item:e,type:"add"}));o(e)}},[]),u=(0,t.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{edges:r=[],setEdges:i,hasDefaultEdges:a,onEdgesChange:o}=n.getState();if(a)i([...r,...t]);else if(o){o(t.map(e=>({item:e,type:"add"})))}},[]),d=(0,t.useCallback)(()=>{const{getNodes:e,edges:t=[],transform:r}=n.getState(),[i,a,o]=r;return{nodes:e().map(e=>Me({},e)),edges:t.map(e=>Me({},e)),viewport:{x:i,y:a,zoom:o}}},[]),h=(0,t.useCallback)(e=>{let{nodes:t,edges:r}=e;const{nodeInternals:i,getNodes:a,edges:o,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:h}=n.getState(),p=(t||[]).map(e=>e.id),f=(r||[]).map(e=>e.id),m=a().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!p.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(p.includes(t.id)||r)&&e.push(t),e},[]),g=o.filter(e=>"boolean"!==typeof e.deletable||e.deletable),v=g.filter(e=>f.includes(e.id));if(m||v){const e=Jj(m,g),t=[...v,...e],r=t.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||s)&&(l&&n.setState({edges:o.filter(e=>!r.includes(e.id))}),s&&(m.forEach(e=>{i.delete(e.id)}),n.setState({nodeInternals:new Map(i)}))),r.length>0&&(null===u||void 0===u||u(t),h&&h(r.map(e=>({id:e,type:"remove"})))),m.length>0&&(null===c||void 0===c||c(m),d)){const e=m.map(e=>({id:e.id,type:"remove"}));d(e)}}},[]),p=(0,t.useCallback)(e=>{const t=uj((r=e).width)&&uj(r.height)&&uj(r.x)&&uj(r.y);var r;const i=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!i)return[null,null,t];return[t?e:lj(i),i,t]},[]),f=(0,t.useCallback)(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[i,a,o]=p(e);return i?(r||n.getState().getNodes()).filter(e=>{if(!o&&(e.id===a.id||!e.positionAbsolute))return!1;const n=lj(e),r=cj(n,i);return t&&r>0||r>=i.width*i.height}):[]},[]),m=(0,t.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=p(e);if(!r)return!1;const i=cj(r,t);return n&&i>0||i>=r.width*r.height},[]);return(0,t.useMemo)(()=>Me(Me({},e),{},{getNodes:r,getNode:i,getEdges:a,getEdge:o,setNodes:s,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:f,isNodeIntersecting:m}),[e,r,i,a,o,s,l,c,u,d,h,f,m])}const $I={actInsideInputWithModifier:!1};const JI={position:"absolute",width:"100%",height:"100%",top:0,left:0},ZI=e=>({x:e.x,y:e.y,zoom:e.k}),eA=(e,t)=>e.target.closest(".".concat(t)),tA=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),nA=e=>{const t=e.ctrlKey&&vj()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},rA=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),iA=e=>{let{onMove:n,onMoveStart:r,onMoveEnd:i,onPaneContextMenu:a,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=kj.Free,zoomOnDoubleClick:d=!0,elementsSelectable:h,panOnDrag:p=!0,defaultViewport:f,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:x=!0,children:b,noWheelClassName:w,noPanClassName:S}=e;const k=(0,t.useRef)(),E=YT(),N=(0,t.useRef)(!1),_=(0,t.useRef)(!1),C=(0,t.useRef)(null),T=(0,t.useRef)({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:I,d3ZoomHandler:A,userSelectionActive:P}=GT(rA,HE),D=LI(y),R=(0,t.useRef)(0),M=(0,t.useRef)(!1),O=(0,t.useRef)();return function(e){const n=YT();(0,t.useEffect)(()=>{let t;const r=()=>{if(!e.current)return;const t=ZT(e.current);var r,i;0!==t.height&&0!==t.width||null===(r=(i=n.getState()).onError)||void 0===r||r.call(i,"004",FT()),n.setState({width:t.width||500,height:t.height||500})};return r(),window.addEventListener("resize",r),e.current&&(t=new ResizeObserver(()=>r()),t.observe(e.current)),()=>{window.removeEventListener("resize",r),t&&e.current&&t.unobserve(e.current)}},[])}(C),(0,t.useEffect)(()=>{if(C.current){const e=C.current.getBoundingClientRect(),t=ET().scaleExtent([g,v]).translateExtent(m),n=c_(C.current).call(t),r=mT.translate(f.x,f.y).scale(ej(f.zoom,g,v)),i=[[0,0],[e.width,e.height]],a=t.constrain()(r,i,m);t.transform(n,a),t.wheelDelta(nA),E.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:C.current.closest(".react-flow")})}},[]),(0,t.useEffect)(()=>{I&&j&&(!l||D||P?"undefined"!==typeof A&&I.on("wheel.zoom",function(e,t){if(!x&&"wheel"===e.type&&!e.ctrlKey||eA(e,w))return null;e.preventDefault(),A.call(this,e,t)},{passive:!1}):I.on("wheel.zoom",e=>{if(eA(e,w))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=I.property("__zoom").k||1;if(e.ctrlKey&&s){const n=y_(e),r=nA(e),i=t*Math.pow(2,r);return void j.scaleTo(I,i,n,e)}const a=1===e.deltaMode?20:1;let o=u===kj.Vertical?0:e.deltaX*a,l=u===kj.Horizontal?0:e.deltaY*a;!vj()&&e.shiftKey&&u!==kj.Vertical&&(o=e.deltaY*a,l=0),j.translateBy(I,-o/t*c,-l/t*c,{internal:!0});const d=ZI(I.property("__zoom")),{onViewportChangeStart:h,onViewportChange:p,onViewportChangeEnd:f}=E.getState();clearTimeout(O.current),M.current||(M.current=!0,null===r||void 0===r||r(e,d),null===h||void 0===h||h(d)),M.current&&(null===n||void 0===n||n(e,d),null===p||void 0===p||p(d),O.current=setTimeout(()=>{null===i||void 0===i||i(e,d),null===f||void 0===f||f(d),M.current=!1},150))},{passive:!1}))},[P,l,u,I,j,A,D,s,x,w,r,n,i]),(0,t.useEffect)(()=>{j&&j.on("start",e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;R.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:i}=E.getState(),a=ZI(e.transform);N.current=!0,T.current=a,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&E.setState({paneDragging:!0}),null===i||void 0===i||i(a),null===r||void 0===r||r(e.sourceEvent,a)})},[j,r]),(0,t.useEffect)(()=>{j&&(P&&!N.current?j.on("zoom",null):P||j.on("zoom",e=>{var t,r;const{onViewportChange:i}=E.getState();if(E.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),_.current=!(!a||!tA(p,null!==(t=R.current)&&void 0!==t?t:0)),(n||i)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const t=ZI(e.transform);null===i||void 0===i||i(t),null===n||void 0===n||n(e.sourceEvent,t)}}))},[P,j,n,p,a]),(0,t.useEffect)(()=>{j&&j.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),a&&tA(p,null!==(t=R.current)&&void 0!==t?t:0)&&!_.current&&a(e.sourceEvent),_.current=!1,(i||n)&&(r=T.current,o=e.transform,r.x!==o.x||r.y!==o.y||r.zoom!==o.k)){const t=ZI(e.transform);T.current=t,clearTimeout(k.current),k.current=setTimeout(()=>{null===n||void 0===n||n(t),null===i||void 0===i||i(e.sourceEvent,t)},l?150:0)}var r,o})},[j,l,p,i,a]),(0,t.useEffect)(()=>{j&&j.filter(e=>{const t=D||o,n=s&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(eA(e,"react-flow__node")||eA(e,"react-flow__edge")))return!0;if(!p&&!t&&!l&&!d&&!s)return!1;if(P)return!1;if(!d&&"dblclick"===e.type)return!1;if(eA(e,w)&&"wheel"===e.type)return!1;if(eA(e,S)&&("wheel"!==e.type||l&&"wheel"===e.type&&!D))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!p&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[P,j,o,s,l,d,p,h,D]),t.createElement("div",{className:"react-flow__renderer",ref:C,style:JI},b)},aA=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oA(){const{userSelectionActive:e,userSelectionRect:n}=GT(aA,HE);return e&&n?t.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function sA(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var i,a;if(r.style=Me({},r.style)||{},r.style.width=null!==(i=r.style.width)&&void 0!==i?i:r.width,r.style.height=null!==(a=r.style.height)&&void 0!==a?a:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function lA(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const i=Me({},n);for(const e of r)if(e)switch(e.type){case"select":i.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(i.position=e.position),"undefined"!==typeof e.positionAbsolute&&(i.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(i.dragging=e.dragging),i.expandParent&&sA(t,i);break;case"dimensions":"undefined"!==typeof e.dimensions&&(i.width=e.dimensions.width,i.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(i.style=Me(Me({},i.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(i.resizing=e.resizing),i.expandParent&&sA(t,i);break;case"remove":return t}return t.push(i),t},n)}function cA(e,t){return lA(e,t)}const uA=(e,t)=>({id:e,type:"select",selected:t});function dA(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(uA(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(uA(n.id,!1))),e},[])}const hA=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},pA=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),fA=(0,t.memo)(e=>{let{isSelecting:n,selectionMode:r=Ej.Full,panOnDrag:i,onSelectionStart:a,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}=e;const f=(0,t.useRef)(null),m=YT(),g=(0,t.useRef)(0),v=(0,t.useRef)(0),y=(0,t.useRef)(),{userSelectionActive:x,elementsSelectable:b,dragging:w}=GT(pA,HE),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,v.current=0},k=e=>{null===s||void 0===s||s(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},E=c?e=>c(e):void 0,N=b&&(n||x);return t.createElement("div",{className:RE(["react-flow__pane",{dragging:w,selection:n}]),onClick:N?void 0:hA(k,f),onContextMenu:hA(e=>{Array.isArray(i)&&null!==i&&void 0!==i&&i.includes(2)?e.preventDefault():null===l||void 0===l||l(e)},f),onWheel:hA(E,f),onMouseEnter:N?void 0:u,onMouseDown:N?e=>{const{resetSelectedElements:t,domNode:r}=m.getState();if(y.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!b||!n||0!==e.button||e.target!==f.current||!y.current)return;const{x:i,y:o}=gj(e,y.current);t(),m.setState({userSelectionRect:{width:0,height:0,startX:i,startY:o,x:i,y:o}}),null===a||void 0===a||a(e)}:void 0,onMouseMove:N?e=>{var t,i;const{userSelectionRect:a,nodeInternals:o,edges:s,transform:l,onNodesChange:c,onEdgesChange:u,nodeOrigin:d,getNodes:h}=m.getState();if(!n||!y.current||!a)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const p=gj(e,y.current),f=null!==(t=a.startX)&&void 0!==t?t:0,x=null!==(i=a.startY)&&void 0!==i?i:0,b=Me(Me({},a),{},{x:p.x<f?p.x:f,y:p.y<x?p.y:x,width:Math.abs(p.x-f),height:Math.abs(p.y-x)}),w=h(),S=$j(o,b,l,r===Ej.Partial,!0,d),k=Jj(S,s).map(e=>e.id),E=S.map(e=>e.id);if(g.current!==E.length){g.current=E.length;const e=dA(w,E);e.length&&(null===c||void 0===c||c(e))}if(v.current!==k.length){v.current=k.length;const e=dA(s,k);e.length&&(null===u||void 0===u||u(e))}m.setState({userSelectionRect:b})}:d,onMouseUp:N?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!x&&t&&e.target===f.current&&(null===k||void 0===k||k(e)),m.setState({nodesSelectionActive:g.current>0}),S(),null===o||void 0===o||o(e)}:void 0,onMouseLeave:N?e=>{x&&(m.setState({nodesSelectionActive:g.current>0}),null===o||void 0===o||o(e)),S()}:h,ref:f,style:JI},p,t.createElement(oA,null))});function mA(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||mA(r,t))}function gA(e,t,n){let r=e;do{var i;if(null!==(i=r)&&void 0!==i&&i.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function vA(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!mA(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,r,i,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(i=null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)&&void 0!==i?i:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function yA(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],a=arguments.length>5?arguments[5]:void 0;const o=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let s=o;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:a}=Xj(t,i).positionAbsolute;s=[[e.extent[0][0]+r,e.extent[0][1]+a],[e.extent[1][0]+r,e.extent[1][1]+a]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:a}=Xj(t,i).positionAbsolute;s=t&&uj(r)&&uj(a)&&uj(t.width)&&uj(t.height)?[[r+e.width*i[0],a+e.height*i[1]],[r+t.width-e.width+e.width*i[0],a+t.height-e.height+e.height*i[1]]]:s}else null===a||void 0===a||a("005",VT()),s=o;let c={x:0,y:0};if(l){const e=n.get(l);c=Xj(e,i).positionAbsolute}const u=s&&"parent"!==s?tj(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function xA(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const i=n.map(e=>Me(Me({},r.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute}));return[t?i.find(e=>e.id===t):i[0],i]}fA.displayName="Pane";const bA=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),o=t.getBoundingClientRect(),s=o.width*r[0],l=o.height*r[1];return a.map(e=>{const t=e.getBoundingClientRect();return Me({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-o.left-s)/n,y:(t.top-o.top-l)/n},ZT(e))})};function wA(e,t,n){return void 0===n?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,Me({},i))}}function SA(e){let{id:t,store:n,unselect:r=!1,nodeRef:i}=e;const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.blur()})):a([t])):null===c||void 0===c||c("012",WT(t))}function kA(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function EA(e){let{nodeRef:n,disabled:r=!1,noDragClassName:i,handleSelector:a,nodeId:o,isSelectable:s,selectNodesOnDrag:l}=e;const c=YT(),[u,d]=(0,t.useState)(!1),h=(0,t.useRef)([]),p=(0,t.useRef)({x:null,y:null}),f=(0,t.useRef)(0),m=(0,t.useRef)(null),g=(0,t.useRef)({x:0,y:0}),v=(0,t.useRef)(null),y=(0,t.useRef)(!1),x=(0,t.useRef)(!1),b=(0,t.useRef)(!1),w=function(){const e=YT(),n=(0,t.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:i,snapToGrid:a}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(s-r[1])/r[2]};return Me({xSnapped:a?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:a?i[1]*Math.round(l.y/i[1]):l.y},l)},[]);return n}();return(0,t.useEffect)(()=>{if(null!==n&&void 0!==n&&n.current){const e=c_(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:i,onSelectionDrag:a,updateNodePositions:s,nodeExtent:l,snapGrid:u,snapToGrid:f,nodeOrigin:m,onError:g}=c.getState();p.current={x:t,y:n};let y=!1,x={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=Qj(h.current,m);x=oj(e)}if(h.current=h.current.map(e=>{const i={x:t-e.distance.x,y:n-e.distance.y};f&&(i.x=u[0]*Math.round(i.x/u[0]),i.y=u[1]*Math.round(i.y/u[1]));const a=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var o,s;h.current.length>1&&l&&!e.extent&&(a[0][0]=e.positionAbsolute.x-x.x+l[0][0],a[1][0]=e.positionAbsolute.x+(null!==(o=e.width)&&void 0!==o?o:0)-x.x2+l[1][0],a[0][1]=e.positionAbsolute.y-x.y+l[0][1],a[1][1]=e.positionAbsolute.y+(null!==(s=e.height)&&void 0!==s?s:0)-x.y2+l[1][1]);const c=yA(e,i,r,a,m,g);return y=y||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e}),!y)return;s(h.current,!0,!0),d(!0);const b=o?i:kA(a);if(b&&v.current){const[e,t]=xA({nodeId:o,dragItems:h.current,nodeInternals:r});b(v.current,e,t)}},u=()=>{if(!m.current)return;const[e,n]=rj(g.current,m.current);if(0!==e||0!==n){var r,i;const{transform:a,panBy:o}=c.getState();p.current.x=(null!==(r=p.current.x)&&void 0!==r?r:0)-e/a[2],p.current.y=(null!==(i=p.current.y)&&void 0!==i?i:0)-n/a[2],o({x:e,y:n})&&t(p.current)}f.current=requestAnimationFrame(u)},S=e=>{const{nodeInternals:t,multiSelectionActive:r,nodesDraggable:i,unselectNodesAndEdges:a,onNodeDragStart:u,onSelectionDragStart:d}=c.getState();x.current=!0;const f=o?u:kA(d);var m;l&&s||r||!o||(null!==(m=t.get(o))&&void 0!==m&&m.selected||a());o&&s&&l&&SA({id:o,store:c,nodeRef:n});const g=w(e);if(p.current=g,h.current=vA(t,i,g,o),f&&h.current){const[n,r]=xA({nodeId:o,dragItems:h.current,nodeInternals:t});f(e.sourceEvent,n,r)}};if(!r){const r=function(){var e,t,n,r,i=CT,a=TT,o=jT,s=IT,l={},c=XE("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,u_).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(o,s){if(!r&&i.call(this,o,s)){var l=x(this,a.call(this,o,s),o,s,"mouse");l&&(c_(o.view).on("mousemove.drag",f,d_).on("mouseup.drag",m,d_),f_(o.view),h_(o),n=!1,e=o.clientX,t=o.clientY,l("start",o))}}function f(r){if(p_(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>d}l.mouse("drag",r)}function m(e){c_(e.view).on("mousemove.drag mouseup.drag",null),m_(e.view,n),p_(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,s=a.call(this,e,t),l=o.length;for(n=0;n<l;++n)(r=x(this,s,e,t,o[n].identifier,o[n]))&&(h_(e),r("start",e,o[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(p_(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<a;++t)(n=l[i[t].identifier])&&(h_(e),n("end",e,i[t]))}function x(e,t,n,r,i,a){var s,d,p,f=c.copy(),m=y_(a||n,t);if(null!=(p=o.call(e,new _T("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return s=p.x-m[0]||0,d=p.y-m[1]||0,function n(a,o,c){var g,v=m;switch(a){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":m=y_(c||o,t),g=u}f.call(a,e,new _T(a,{sourceEvent:o,subject:p,target:h,identifier:i,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:f}),r)}}return h.filter=function(e){return arguments.length?(i="function"===typeof e?e:NT(!!e),h):i},h.container=function(e){return arguments.length?(a="function"===typeof e?e:NT(e),h):a},h.subject=function(e){return arguments.length?(o="function"===typeof e?e:NT(e),h):o},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:NT(!!e),h):s},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&S(e),b.current=!1;const r=w(e);p.current=r,m.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,g.current=gj(e.sourceEvent,m.current)}).on("drag",e=>{const n=w(e),{autoPanOnNodeDrag:r,nodeDragThreshold:i}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!y.current&&x.current&&r&&(y.current=!0,u()),!x.current){var a,o,s,l;const t=n.xSnapped-(null!==(a=null===p||void 0===p||null===(o=p.current)||void 0===o?void 0:o.x)&&void 0!==a?a:0),r=n.ySnapped-(null!==(s=null===p||void 0===p||null===(l=p.current)||void 0===l?void 0:l.y)&&void 0!==s?s:0);Math.sqrt(t*t+r*r)>i&&S(e)}(p.current.x!==n.xSnapped||p.current.y!==n.ySnapped)&&h.current&&x.current&&(v.current=e.sourceEvent,g.current=gj(e.sourceEvent,m.current),t(n))}}).on("end",e=>{if(x.current&&!b.current&&(d(!1),y.current=!1,x.current=!1,cancelAnimationFrame(f.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:i}=c.getState(),a=o?r:kA(i);if(t(h.current,!1,!1),a){const[t,r]=xA({nodeId:o,dragItems:h.current,nodeInternals:n});a(e.sourceEvent,t,r)}}}).filter(e=>{const t=e.target;return!e.button&&(!i||!gA(t,".".concat(i),n))&&(!a||gA(t,a,n))});return e.call(r),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[n,r,i,a,s,c,o,l,w]),u}function NA(){const e=YT(),n=(0,t.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:i,getNodes:a,snapToGrid:o,snapGrid:s,onError:l,nodesDraggable:c}=e.getState(),u=a().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),d=o?s[0]:5,h=o?s[1]:5,p=t.isShiftPressed?4:1,f=t.x*d*p,m=t.y*h*p,g=u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+f,y:e.positionAbsolute.y+m};o&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:i,position:a}=yA(e,t,n,r,void 0,l);e.position=a,e.positionAbsolute=i}return e});i(g,!0,!1)},[]);return n}const _A={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var CA=e=>{const n=n=>{let{id:r,type:i,data:a,xPos:o,yPos:s,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:f,onContextMenu:m,onDoubleClick:g,style:v,className:y,isDraggable:x,isSelectable:b,isConnectable:w,isFocusable:S,selectNodesOnDrag:k,sourcePosition:E,targetPosition:N,hidden:_,resizeObserver:C,dragHandle:T,zIndex:j,isParent:I,noDragClassName:A,noPanClassName:P,initialized:D,disableKeyboardA11y:R,ariaLabel:M,rfId:O,hasHandleBounds:L}=n;const F=YT(),V=(0,t.useRef)(null),z=(0,t.useRef)(null),U=(0,t.useRef)(E),B=(0,t.useRef)(N),H=(0,t.useRef)(i),q=b||x||d||h||p||f,W=NA(),K=wA(r,F.getState,h),G=wA(r,F.getState,p),Y=wA(r,F.getState,f),X=wA(r,F.getState,m),Q=wA(r,F.getState,g);(0,t.useEffect)(()=>()=>{z.current&&(null===C||void 0===C||C.unobserve(z.current),z.current=null)},[]),(0,t.useEffect)(()=>{if(V.current&&!_){const e=V.current;D&&L&&z.current===e||(z.current&&(null===C||void 0===C||C.unobserve(z.current)),null===C||void 0===C||C.observe(e),z.current=e)}},[_,D,L]),(0,t.useEffect)(()=>{const e=H.current!==i,t=U.current!==E,n=B.current!==N;V.current&&(e||t||n)&&(e&&(H.current=i),t&&(U.current=E),n&&(B.current=N),F.getState().updateNodeDimensions([{id:r,nodeElement:V.current,forceUpdate:!0}]))},[r,i,E,N]);const $=EA({nodeRef:V,disabled:_||!x,noDragClassName:A,handleSelector:T,nodeId:r,isSelectable:b,selectNodesOnDrag:k});return _?null:t.createElement("div",{className:RE(["react-flow__node","react-flow__node-".concat(i),{[P]:x},y,{selected:u,selectable:b,parent:I,dragging:$}]),ref:V,style:Me({zIndex:j,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:q?"all":"none",visibility:D?"visible":"hidden"},v),"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:K,onMouseMove:G,onMouseLeave:Y,onContextMenu:X,onClick:e=>{const{nodeDragThreshold:t}=F.getState();if(b&&(!k||!x||t>0)&&SA({id:r,store:F,nodeRef:V}),d){const t=F.getState().nodeInternals.get(r);t&&d(e,Me({},t))}},onDoubleClick:Q,onKeyDown:S?e=>{if(!fj(e)&&!R)if(hj.includes(e.key)&&b){const t="Escape"===e.key;SA({id:r,store:F,unselect:t,nodeRef:V})}else x&&u&&Object.prototype.hasOwnProperty.call(_A,e.key)&&(F.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~o,", y: ").concat(~~s)}),W({x:_A[e.key].x,y:_A[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":R?void 0:"".concat(PI,"-").concat(O),"aria-label":M},t.createElement(Hj,{value:r},t.createElement(e,{id:r,data:a,type:i,xPos:o,yPos:s,selected:u,isConnectable:w,sourcePosition:E,targetPosition:N,dragging:$,dragHandle:T,zIndex:j})))};return n.displayName="NodeWrapper",(0,t.memo)(n)};const TA=e=>{const t=e.getNodes().filter(e=>e.selected);return Me(Me({},Qj(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var jA=(0,t.memo)(function(e){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:i}=e;const a=YT(),{width:o,height:s,x:l,y:c,transformString:u,userSelectionActive:d}=GT(TA,HE),h=NA(),p=(0,t.useRef)(null);if((0,t.useEffect)(()=>{var e;i||(null===(e=p.current)||void 0===e||e.focus({preventScroll:!0}))},[i]),EA({nodeRef:p}),d||!o||!s)return null;const f=n?e=>{const t=a.getState().getNodes().filter(e=>e.selected);n(e,t)}:void 0;return t.createElement("div",{className:RE(["react-flow__nodesselection","react-flow__container",r]),style:{transform:u}},t.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:i?void 0:-1,onKeyDown:i?void 0:e=>{Object.prototype.hasOwnProperty.call(_A,e.key)&&h({x:_A[e.key].x,y:_A[e.key].y,isShiftPressed:e.shiftKey})},style:{width:o,height:s,top:c,left:l}}))});const IA=e=>e.nodesSelectionActive,AA=e=>{let{children:n,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:h,selectionKeyCode:p,selectionOnDrag:f,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:T,defaultViewport:j,translateExtent:I,minZoom:A,maxZoom:P,preventScrolling:D,onSelectionContextMenu:R,noWheelClassName:M,noPanClassName:O,disableKeyboardA11y:L}=e;const F=GT(IA),V=LI(p),z=LI(x),U=z||T,B=z||E,H=V||f&&!0!==U;return(e=>{let{deleteKeyCode:n,multiSelectionKeyCode:r}=e;const i=YT(),{deleteElements:a}=QI(),o=LI(n,$I),s=LI(r);(0,t.useEffect)(()=>{if(o){const{edges:e,getNodes:t}=i.getState(),n=t().filter(e=>e.selected),r=e.filter(e=>e.selected);a({nodes:n,edges:r}),i.setState({nodesSelectionActive:!1})}},[o]),(0,t.useEffect)(()=>{i.setState({multiSelectionActive:s})},[s])})({deleteKeyCode:c,multiSelectionKeyCode:y}),t.createElement(iA,{onMove:u,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:B,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:!V&&U,defaultViewport:j,translateExtent:I,minZoom:A,maxZoom:P,zoomActivationKeyCode:b,preventScrolling:D,noWheelClassName:M,noPanClassName:O},t.createElement(fA,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:U,isSelecting:!!H,selectionMode:m},n,F&&t.createElement(jA,{onSelectionContextMenu:R,noPanClassName:O,disableKeyboardA11y:L})))};AA.displayName="FlowRenderer";var PA=(0,t.memo)(AA);function DA(e){const t={input:CA(e.input||gI),default:CA(e.default||fI),output:CA(e.output||yI),group:CA(e.group||xI)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=CA(e[n]||fI),t),{});return Me(Me({},t),n)}const RA=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),MA=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:i,elementsSelectable:a,updateNodeDimensions:o,onError:s}=GT(RA,HE),l=function(e){const n=GT((0,t.useCallback)(t=>e?$j(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]));return n}(e.onlyRenderVisibleElements),c=(0,t.useRef)(),u=(0,t.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));o(t)});return c.current=e,e},[]);return(0,t.useEffect)(()=>()=>{var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.disconnect()},[]),t.createElement("div",{className:"react-flow__nodes",style:JI},l.map(o=>{var l,c,d,h,p,f,m,g;let v=o.type||"default";e.nodeTypes[v]||(null===s||void 0===s||s("003",LT(v)),v="default");const y=e.nodeTypes[v]||e.nodeTypes.default,x=!!(o.draggable||n&&"undefined"===typeof o.draggable),b=!!(o.selectable||a&&"undefined"===typeof o.selectable),w=!!(o.connectable||r&&"undefined"===typeof o.connectable),S=!!(o.focusable||i&&"undefined"===typeof o.focusable),k=e.nodeExtent?tj(o.positionAbsolute,e.nodeExtent):o.positionAbsolute,E=null!==(l=null===k||void 0===k?void 0:k.x)&&void 0!==l?l:0,N=null!==(c=null===k||void 0===k?void 0:k.y)&&void 0!==c?c:0,_=(e=>{let{x:t,y:n,width:r,height:i,origin:a}=e;return r&&i?a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:n}:{x:t-r*a[0],y:n-i*a[1]}:{x:t,y:n}})({x:E,y:N,width:null!==(d=o.width)&&void 0!==d?d:0,height:null!==(h=o.height)&&void 0!==h?h:0,origin:e.nodeOrigin});return t.createElement(y,{key:o.id,id:o.id,className:o.className,style:o.style,type:v,data:o.data,sourcePosition:o.sourcePosition||Cj.Bottom,targetPosition:o.targetPosition||Cj.Top,hidden:o.hidden,xPos:E,yPos:N,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!o.selected,isDraggable:x,isSelectable:b,isConnectable:w,isFocusable:S,resizeObserver:u,dragHandle:o.dragHandle,zIndex:null!==(p=null===(f=o[dj])||void 0===f?void 0:f.z)&&void 0!==p?p:0,isParent:!(null===(m=o[dj])||void 0===m||!m.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!o.width&&!!o.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:o.ariaLabel,hasHandleBounds:!(null===(g=o[dj])||void 0===g||!g.handleBounds)})}))};MA.displayName="NodeRenderer";var OA=(0,t.memo)(MA);const LA=(e,t,n)=>n===Cj.Left?e-t:n===Cj.Right?e+t:e,FA=(e,t,n)=>n===Cj.Top?e-t:n===Cj.Bottom?e+t:e,VA="react-flow__edgeupdater",zA=e=>{let{position:n,centerX:r,centerY:i,radius:a=10,onMouseDown:o,onMouseEnter:s,onMouseOut:l,type:c}=e;return t.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:l,className:RE([VA,"".concat(VA,"-").concat(c)]),cx:LA(r,a,n),cy:FA(i,a,n),r:a,stroke:"transparent",fill:"transparent"})},UA=()=>!0;var BA=e=>{const n=n=>{let{id:r,className:i,type:a,data:o,onClick:s,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,style:v,source:y,target:x,sourceX:b,sourceY:w,targetX:S,targetY:k,sourcePosition:E,targetPosition:N,elementsSelectable:_,hidden:C,sourceHandleId:T,targetHandleId:j,onContextMenu:I,onMouseEnter:A,onMouseMove:P,onMouseLeave:D,reconnectRadius:R,onReconnect:M,onReconnectStart:O,onReconnectEnd:L,markerEnd:F,markerStart:V,rfId:z,ariaLabel:U,isFocusable:B,isReconnectable:H,pathOptions:q,interactionWidth:W,disableKeyboardA11y:K}=n;const G=(0,t.useRef)(null),[Y,X]=(0,t.useState)(!1),[Q,$]=(0,t.useState)(!1),J=YT(),Z=(0,t.useMemo)(()=>"url('#".concat(Wj(V,z),"')"),[V,z]),ee=(0,t.useMemo)(()=>"url('#".concat(Wj(F,z),"')"),[F,z]);if(C)return null;const te=xj(r,J.getState,l),ne=xj(r,J.getState,I),re=xj(r,J.getState,A),ie=xj(r,J.getState,P),ae=xj(r,J.getState,D),oe=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:i}=J.getState(),a=t?x:y,o=(t?j:T)||null,s=t?"target":"source",l=i||UA,c=t,u=n.find(e=>e.id===r);$(!0),null===O||void 0===O||O(e,u,s);lI({event:e,handleId:o,nodeId:a,onConnect:e=>null===M||void 0===M?void 0:M(u,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{$(!1),null===L||void 0===L||L(e,u,s)}})},se=()=>X(!0),le=()=>X(!1),ce=!_&&!s;return t.createElement("g",{className:RE(["react-flow__edge","react-flow__edge-".concat(a),i,{selected:c,animated:u,inactive:ce,updating:Y}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:i,multiSelectionActive:a}=J.getState(),o=t.find(e=>e.id===r);if(o){var l;if(_)if(J.setState({nodesSelectionActive:!1}),o.selected&&a)i({nodes:[],edges:[o]}),null===(l=G.current)||void 0===l||l.blur();else n([r]);s&&s(e,o)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ae,onKeyDown:B?e=>{if(!K&&hj.includes(e.key)&&_){const{unselectNodesAndEdges:n,addSelectedEdges:i,edges:a}=J.getState();var t;if("Escape"===e.key)null===(t=G.current)||void 0===t||t.blur(),n({edges:[a.find(e=>e.id===r)]});else i([r])}}:void 0,tabIndex:B?0:void 0,role:B?"button":"img","data-testid":"rf__edge-".concat(r),"aria-label":null===U?void 0:U||"Edge from ".concat(y," to ").concat(x),"aria-describedby":B?"".concat(DI,"-").concat(z):void 0,ref:G},!Q&&t.createElement(e,{id:r,source:y,target:x,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,data:o,style:v,sourceX:b,sourceY:w,targetX:S,targetY:k,sourcePosition:E,targetPosition:N,sourceHandleId:T,targetHandleId:j,markerStart:Z,markerEnd:ee,pathOptions:q,interactionWidth:W}),H&&t.createElement(t.Fragment,null,("source"===H||!0===H)&&t.createElement(zA,{position:E,centerX:b,centerY:w,radius:R,onMouseDown:e=>oe(e,!0),onMouseEnter:se,onMouseOut:le,type:"source"}),("target"===H||!0===H)&&t.createElement(zA,{position:N,centerX:S,centerY:k,radius:R,onMouseDown:e=>oe(e,!1),onMouseEnter:se,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,t.memo)(n)};function HA(e){const t={default:BA(e.default||Uj),straight:BA(e.bezier||Lj),step:BA(e.step||Oj),smoothstep:BA(e.step||Mj),simplebezier:BA(e.simplebezier||Ij)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=BA(e[n]||Uj),t),{});return Me(Me({},t),n)}function qA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,i=((null===n||void 0===n?void 0:n.y)||0)+t.y,a=(null===n||void 0===n?void 0:n.width)||t.width,o=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case Cj.Top:return{x:r+a/2,y:i};case Cj.Right:return{x:r+a,y:i+o/2};case Cj.Bottom:return{x:r+a/2,y:i+o};case Cj.Left:return{x:r,y:i+o/2}}}function WA(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function KA(e){var t,n,r,i,a;const o=(null===e||void 0===e||null===(t=e[dj])||void 0===t?void 0:t.handleBounds)||null,s=o&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.x)||0,y:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},o,!!s]}const GA=[{level:0,isMaxLevel:!0,edges:[]}];function YA(e,n,r){const i=GT((0,t.useCallback)(t=>e?t.edges.filter(e=>{const r=n.get(e.source),i=n.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===i||void 0===i?void 0:i.width)&&(null===i||void 0===i?void 0:i.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:i,targetWidth:a,targetHeight:o,width:s,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+a),y2:Math.max(t.y+i,n.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=oj({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),p=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*p)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:i.width,targetHeight:i.height,width:t.width,height:t.height,transform:t.transform})}):t.edges,[e,n]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const i=e.reduce((e,i)=>{const a=uj(i.zIndex);let o=a?i.zIndex:0;if(n){var s,l;const e=t.get(i.target),n=t.get(i.source),r=i.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(s=n[dj])||void 0===s?void 0:s.z)||0,(null===e||void 0===e||null===(l=e[dj])||void 0===l?void 0:l.z)||0,1e3);o=(a?i.zIndex:0)+(r?c:0)}return e[o]?e[o].push(i):e[o]=[i],r=o>r?o:r,e},{}),a=Object.entries(i).map(e=>{let[t,n]=e;const i=+t;return{edges:n,level:i,isMaxLevel:i===r}});return 0===a.length?GA:a}(i,n,r)}const XA={[_j.Arrow]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[_j.ArrowClosed]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const QA=e=>{let{id:n,type:r,color:i,width:a=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const u=function(e){const n=YT();return(0,t.useMemo)(()=>{var t,r;return Object.prototype.hasOwnProperty.call(XA,e)?XA[e]:(null===(t=(r=n.getState()).onError)||void 0===t||t.call(r,"009",UT(e)),null)},[e])}(r);return u?t.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(a),markerHeight:"".concat(o),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},t.createElement(u,{color:i,strokeWidth:l})):null},$A=e=>{let{defaultColor:n,rfId:r}=e;const i=GT((0,t.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce((e,i)=>([i.markerStart,i.markerEnd].forEach(i=>{if(i&&"object"===typeof i){const a=Wj(i,n);r.includes(a)||(e.push(Me({id:a,color:i.color||t},i)),r.push(a))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:n,rfId:r}),[n,r]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return t.createElement("defs",null,i.map(e=>t.createElement(QA,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};$A.displayName="MarkerDefinitions";var JA=(0,t.memo)($A);const ZA=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),eP=e=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:r,elevateEdgesOnSelect:i,rfId:a,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,children:y,disableKeyboardA11y:x}=e;const{edgesFocusable:b,edgesUpdatable:w,elementsSelectable:S,width:k,height:E,connectionMode:N,nodeInternals:_,onError:C}=GT(ZA,HE),T=YA(r,_,i);return k?t.createElement(t.Fragment,null,T.map(e=>{let{level:r,edges:i,isMaxLevel:y}=e;return t.createElement("svg",{key:r,style:{zIndex:r},width:k,height:E,className:"react-flow__edges react-flow__container"},y&&t.createElement(JA,{defaultColor:n,rfId:a}),t.createElement("g",null,i.map(e=>{var n,r;const[i,y,k]=KA(_.get(e.source)),[E,T,j]=KA(_.get(e.target));if(!k||!j)return null;let I=e.type||"default";o[I]||(null===C||void 0===C||C("011",qT(I)),I="default");const A=o[I]||o.default,P=N===Sj.Strict?T.target:(null!==(n=T.target)&&void 0!==n?n:[]).concat(null!==(r=T.source)&&void 0!==r?r:[]),D=WA(y.source,e.sourceHandle),R=WA(P,e.targetHandle),M=(null===D||void 0===D?void 0:D.position)||Cj.Bottom,O=(null===R||void 0===R?void 0:R.position)||Cj.Top,L=!!(e.focusable||b&&"undefined"===typeof e.focusable),F=e.reconnectable||e.updatable,V="undefined"!==typeof f&&(F||w&&"undefined"===typeof F);if(!D||!R)return null===C||void 0===C||C("008",BT(D,e)),null;const{sourceX:z,sourceY:U,targetX:B,targetY:H}=((e,t,n,r,i,a)=>{const o=qA(n,e,t),s=qA(a,r,i);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}})(i,D,M,E,R,O);return t.createElement(A,{key:e.id,id:e.id,className:RE([e.className,s]),type:I,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:z,sourceY:U,targetX:B,targetY:H,sourcePosition:M,targetPosition:O,elementsSelectable:S,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:h,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,rfId:a,ariaLabel:e.ariaLabel,isFocusable:L,isReconnectable:V,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})})))}),y):null};eP.displayName="EdgeRenderer";var tP=(0,t.memo)(eP);const nP=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function rP(e){let{children:n}=e;const r=GT(nP);return t.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:r}},n)}const iP={[Cj.Left]:Cj.Right,[Cj.Right]:Cj.Left,[Cj.Top]:Cj.Bottom,[Cj.Bottom]:Cj.Top},aP=e=>{var n,r,i,a,o,s,l;let{nodeId:c,handleType:u,style:d,type:h=Nj.Bezier,CustomComponent:p,connectionStatus:f}=e;const{fromNode:m,handleId:g,toX:v,toY:y,connectionMode:x}=GT((0,t.useCallback)(e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[c]),HE),b=null===m||void 0===m||null===(n=m[dj])||void 0===n?void 0:n.handleBounds;let w=null===b||void 0===b?void 0:b[u];if(x===Sj.Loose&&(w=w||(null===b||void 0===b?void 0:b["source"===u?"target":"source"])),!m||!w)return null;const S=g?w.find(e=>e.id===g):w[0],k=S?S.x+S.width/2:(null!==(r=m.width)&&void 0!==r?r:0)/2,E=S?S.y+S.height/2:null!==(i=m.height)&&void 0!==i?i:0,N=(null!==(a=null===(o=m.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==a?a:0)+k,_=(null!==(s=null===(l=m.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+E,C=null===S||void 0===S?void 0:S.position,T=C?iP[C]:null;if(!C||!T)return null;if(p)return t.createElement(p,{connectionLineType:h,connectionLineStyle:d,fromNode:m,fromHandle:S,fromX:N,fromY:_,toX:v,toY:y,fromPosition:C,toPosition:T,connectionStatus:f});let j="";const I={sourceX:N,sourceY:_,sourcePosition:C,targetX:v,targetY:y,targetPosition:T};return h===Nj.Bezier?[j]=zj(I):h===Nj.Step?[j]=Rj(Me(Me({},I),{},{borderRadius:0})):h===Nj.SmoothStep?[j]=Rj(I):h===Nj.SimpleBezier?[j]=jj(I):j="M".concat(N,",").concat(_," ").concat(v,",").concat(y),t.createElement("path",{d:j,fill:"none",className:"react-flow__connection-path",style:d})};aP.displayName="ConnectionLine";const oP=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function sP(e){let{containerStyle:n,style:r,type:i,component:a}=e;const{nodeId:o,handleType:s,nodesConnectable:l,width:c,height:u,connectionStatus:d}=GT(oP,HE);return!!(o&&s&&c&&l)?t.createElement("svg",{style:n,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},t.createElement("g",{className:RE(["react-flow__connection",d])},t.createElement(aP,{nodeId:o,handleType:s,style:r,type:i,CustomComponent:a,connectionStatus:d}))):null}function lP(e,n){(0,t.useRef)(null),YT();return(0,t.useMemo)(()=>n(e),[e])}const cP=e=>{let{nodeTypes:n,edgeTypes:r,onMove:i,onMoveStart:a,onMoveEnd:o,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:T,deleteKeyCode:j,onlyRenderVisibleElements:I,elementsSelectable:A,selectNodesOnDrag:P,defaultViewport:D,translateExtent:R,minZoom:M,maxZoom:O,preventScrolling:L,defaultMarkerColor:F,zoomOnScroll:V,zoomOnPinch:z,panOnScroll:U,panOnScrollSpeed:B,panOnScrollMode:H,zoomOnDoubleClick:q,panOnDrag:W,onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:Q,onPaneContextMenu:$,onEdgeContextMenu:J,onEdgeMouseEnter:Z,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ie,reconnectRadius:ae,noDragClassName:oe,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:pe}=e;const fe=lP(n,DA),me=lP(r,HA);return function(e){const n=QI(),r=(0,t.useRef)(!1);(0,t.useEffect)(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}(s),t.createElement(PA,{onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:$,onPaneScroll:Q,deleteKeyCode:j,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:T,elementsSelectable:A,onMove:i,onMoveStart:a,onMoveEnd:o,zoomOnScroll:V,zoomOnPinch:z,zoomOnDoubleClick:q,panOnScroll:U,panOnScrollSpeed:B,panOnScrollMode:H,panOnDrag:W,defaultViewport:D,translateExtent:R,minZoom:M,maxZoom:O,onSelectionContextMenu:g,preventScrolling:L,noDragClassName:oe,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue},t.createElement(rP,null,t.createElement(tP,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:I,onEdgeContextMenu:J,onEdgeMouseEnter:Z,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ie,reconnectRadius:ae,defaultMarkerColor:F,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:pe},t.createElement(sP,{style:b,type:x,component:w,containerStyle:S})),t.createElement("div",{className:"react-flow__edgelabel-renderer"}),t.createElement(OA,{nodeTypes:fe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:P,onlyRenderVisibleElements:I,noPanClassName:le,noDragClassName:oe,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:pe})))};cP.displayName="GraphView";var uP=(0,t.memo)(cP);const dP=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],hP={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:dP,nodeExtent:dP,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Sj.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:pj,isValidConnection:void 0},pP=()=>((e,t)=>e?BE(e,t):BE)((e,t)=>Me(Me({},hP),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:BI(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>Me(Me({},r),e))})},setDefaultNodesAndEdges:(n,r)=>{const i="undefined"!==typeof n,a="undefined"!==typeof r,o=i?BI(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((e,t)=>{const n=i.get(t.id);if(null!==n&&void 0!==n&&n.hidden)i.set(n.id,Me(Me({},n),{},{[dj]:Me(Me({},n[dj]),{},{handleBounds:void 0})}));else if(n){const r=ZT(t.nodeElement);!(!r.width||!r.height||n.width===r.width&&n.height===r.height&&!t.forceUpdate)&&(i.set(n.id,Me(Me({},n),{},{[dj]:Me(Me({},n[dj]),{},{handleBounds:{source:bA(".source",t.nodeElement,h,c),target:bA(".target",t.nodeElement,h,c)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);UI(i,c);const f=o||a&&!o&&HI(t,Me({initial:!0},s));e({nodeInternals:new Map(i),fitViewOnInitDone:f}),(null===p||void 0===p?void 0:p.length)>0&&(null===r||void 0===r||r(p))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:i}=t(),a=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});i(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(a){const t=BI(cA(n,s()),i,o,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let o,s=null;r?o=n.map(e=>uA(e,!0)):(o=dA(a(),n),s=dA(i,[])),KI({changedNodes:o,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let o,s=null;r?o=n.map(e=>uA(e,!0)):(o=dA(i,n),s=dA(a(),[])),KI({changedNodes:s,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:i,getNodes:a}=t(),o=r||i,s=(n||a()).map(e=>(e.selected=!1,uA(e.id,!1)));KI({changedNodes:s,changedEdges:o.map(e=>uA(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();null===r||void 0===r||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();null===r||void 0===r||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(e=>e.selected).map(e=>uA(e.id,!1)),a=n.filter(e=>e.selected).map(e=>uA(e.id,!1));KI({changedNodes:i,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=tj(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:i,d3Zoom:a,d3Selection:o,translateExtent:s}=t();if(!a||!o||!e.x&&!e.y)return!1;const l=mT.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,i]],u=null===a||void 0===a?void 0:a.constrain()(l,c,s);a.transform(o,u);return n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:hP.connectionNodeId,connectionHandleId:hP.connectionHandleId,connectionHandleType:hP.connectionHandleType,connectionStatus:hP.connectionStatus,connectionStartHandle:hP.connectionStartHandle,connectionEndHandle:hP.connectionEndHandle}),reset:()=>e(Me({},hP))}),Object.is),fP=e=>{let{children:n}=e;const r=(0,t.useRef)(null);return r.current||(r.current=pP()),t.createElement(OT,{value:r.current},n)};fP.displayName="ReactFlowProvider";const mP=e=>{let{children:n}=e;return(0,t.useContext)(MT)?t.createElement(t.Fragment,null,n):t.createElement(fP,null,n)};mP.displayName="ReactFlowWrapper";const gP={input:gI,default:fI,output:yI,group:xI},vP={default:Uj,straight:Lj,step:Oj,smoothstep:Mj,simplebezier:Ij},yP=[0,0],xP=[15,15],bP={x:0,y:0,zoom:1},wP={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},SP=(0,t.forwardRef)((e,n)=>{let{nodes:r,edges:i,defaultNodes:a,defaultEdges:o,className:s,nodeTypes:l=gP,edgeTypes:c=vP,onNodeClick:u,onEdgeClick:d,onInit:h,onMove:p,onMoveStart:f,onMoveEnd:m,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:b,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:E,onNodeDoubleClick:N,onNodeDragStart:_,onNodeDrag:C,onNodeDragStop:T,onNodesDelete:j,onEdgesDelete:I,onSelectionChange:A,onSelectionDragStart:P,onSelectionDrag:D,onSelectionDragStop:R,onSelectionContextMenu:M,onSelectionStart:O,onSelectionEnd:L,connectionMode:F=Sj.Strict,connectionLineType:V=Nj.Bezier,connectionLineStyle:z,connectionLineComponent:U,connectionLineContainerStyle:B,deleteKeyCode:H="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:W=!1,selectionMode:K=Ej.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:Y=(vj()?"Meta":"Control"),zoomActivationKeyCode:X=(vj()?"Meta":"Control"),snapToGrid:Q=!1,snapGrid:$=xP,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:Z=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:re=yP,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:oe,defaultViewport:se=bP,minZoom:le=.5,maxZoom:ce=2,translateExtent:ue=dP,preventScrolling:de=!0,nodeExtent:he,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:fe=!0,zoomOnPinch:me=!0,panOnScroll:ge=!1,panOnScrollSpeed:ve=.5,panOnScrollMode:ye=kj.Free,zoomOnDoubleClick:xe=!0,panOnDrag:be=!0,onPaneClick:we,onPaneMouseEnter:Se,onPaneMouseMove:ke,onPaneMouseLeave:Ee,onPaneScroll:Ne,onPaneContextMenu:_e,children:Ce,onEdgeContextMenu:Te,onEdgeDoubleClick:je,onEdgeMouseEnter:Ie,onEdgeMouseMove:Ae,onEdgeMouseLeave:Pe,onEdgeUpdate:De,onEdgeUpdateStart:Re,onEdgeUpdateEnd:Oe,onReconnect:Le,onReconnectStart:Fe,onReconnectEnd:Ve,reconnectRadius:ze=10,edgeUpdaterRadius:Ue=10,onNodesChange:Be,onEdgesChange:He,noDragClassName:qe="nodrag",noWheelClassName:We="nowheel",noPanClassName:Ke="nopan",fitView:Ge=!1,fitViewOptions:Ye,connectOnClick:Xe=!0,attributionPosition:Qe,proOptions:$e,defaultEdgeOptions:Je,elevateNodesOnSelect:Ze=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:rt=!0,connectionRadius:it=20,isValidConnection:at,onError:ot,style:st,id:lt,nodeDragThreshold:ct}=e,ut=vv(e,RT);const dt=lt||"1";return t.createElement("div",Me(Me({},ut),{},{style:Me(Me({},st),wP),ref:n,className:RE(["react-flow",s]),"data-testid":"rf__wrapper",id:lt}),t.createElement(mP,null,t.createElement(uP,{onInit:h,onMove:p,onMoveStart:f,onMoveEnd:m,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:E,onNodeDoubleClick:N,nodeTypes:l,edgeTypes:c,connectionLineType:V,connectionLineStyle:z,connectionLineComponent:U,connectionLineContainerStyle:B,selectionKeyCode:q,selectionOnDrag:W,selectionMode:K,deleteKeyCode:H,multiSelectionKeyCode:Y,panActivationKeyCode:G,zoomActivationKeyCode:X,onlyRenderVisibleElements:J,selectNodesOnDrag:Z,defaultViewport:se,translateExtent:ue,minZoom:le,maxZoom:ce,preventScrolling:de,zoomOnScroll:fe,zoomOnPinch:me,zoomOnDoubleClick:xe,panOnScroll:ge,panOnScrollSpeed:ve,panOnScrollMode:ye,panOnDrag:be,onPaneClick:we,onPaneMouseEnter:Se,onPaneMouseMove:ke,onPaneMouseLeave:Ee,onPaneScroll:Ne,onPaneContextMenu:_e,onSelectionContextMenu:M,onSelectionStart:O,onSelectionEnd:L,onEdgeContextMenu:Te,onEdgeDoubleClick:je,onEdgeMouseEnter:Ie,onEdgeMouseMove:Ae,onEdgeMouseLeave:Pe,onReconnect:null!==Le&&void 0!==Le?Le:De,onReconnectStart:null!==Fe&&void 0!==Fe?Fe:Re,onReconnectEnd:null!==Ve&&void 0!==Ve?Ve:Oe,reconnectRadius:null!==ze&&void 0!==ze?ze:Ue,defaultMarkerColor:pe,noDragClassName:qe,noWheelClassName:We,noPanClassName:Ke,elevateEdgesOnSelect:et,rfId:dt,disableKeyboardA11y:tt,nodeOrigin:re,nodeExtent:he}),t.createElement(jI,{nodes:r,edges:i,defaultNodes:a,defaultEdges:o,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:b,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:oe,elevateNodesOnSelect:Ze,minZoom:le,maxZoom:ce,nodeExtent:he,onNodesChange:Be,onEdgesChange:He,snapToGrid:Q,snapGrid:$,connectionMode:F,translateExtent:ue,connectOnClick:Xe,defaultEdgeOptions:Je,fitView:Ge,fitViewOptions:Ye,onNodesDelete:j,onEdgesDelete:I,onNodeDragStart:_,onNodeDrag:C,onNodeDragStop:T,onSelectionDrag:D,onSelectionDragStart:P,onSelectionDragStop:R,noPanClassName:Ke,nodeOrigin:re,rfId:dt,autoPanOnConnect:nt,autoPanOnNodeDrag:rt,onError:ot,connectionRadius:it,isValidConnection:at,nodeDragThreshold:ct}),t.createElement(NI,{onSelectionChange:A}),Ce,t.createElement($T,{proOptions:$e,position:Qe}),t.createElement(OI,{rfId:dt,disableKeyboardA11y:tt})))});SP.displayName="ReactFlow";function kP(e){return n=>{const[r,i]=(0,t.useState)(n),a=(0,t.useCallback)(t=>i(n=>e(t,n)),[]);return[r,i,a]}}const EP=kP(cA),NP=kP(function(e,t){return lA(e,t)});const _P=["children","className"];function CP(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function TP(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},t.createElement("path",{d:"M0 0h32v4.2H0z"}))}function jP(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},t.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function IP(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function AP(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const PP=e=>{let{children:n,className:r}=e,i=vv(e,_P);return t.createElement("button",Me({type:"button",className:RE(["react-flow__controls-button",r])},i),n)};PP.displayName="ControlButton";const DP=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),RP=e=>{let{style:n,showZoom:r=!0,showFitView:i=!0,showInteractive:a=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:h,position:p="bottom-left"}=e;const f=YT(),[m,g]=(0,t.useState)(!1),{isInteractive:v,minZoomReached:y,maxZoomReached:x}=GT(DP,HE),{zoomIn:b,zoomOut:w,fitView:S}=QI();if((0,t.useEffect)(()=>{g(!0)},[]),!m)return null;return t.createElement(QT,{className:RE(["react-flow__controls",d]),position:p,style:n,"data-testid":"rf__controls"},r&&t.createElement(t.Fragment,null,t.createElement(PP,{onClick:()=>{b(),null===s||void 0===s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},t.createElement(CP,null)),t.createElement(PP,{onClick:()=>{w(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},t.createElement(TP,null))),i&&t.createElement(PP,{className:"react-flow__controls-fitview",onClick:()=>{S(o),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},t.createElement(jP,null)),a&&t.createElement(PP,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),null===u||void 0===u||u(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?t.createElement(AP,null):t.createElement(IP,null)),h)};RP.displayName="Controls";var MP,OP=(0,t.memo)(RP);function LP(e){let{color:n,dimensions:r,lineWidth:i}=e;return t.createElement("path",{stroke:n,strokeWidth:i,d:"M".concat(r[0]/2," 0 V").concat(r[1]," M0 ").concat(r[1]/2," H").concat(r[0])})}function FP(e){let{color:n,radius:r}=e;return t.createElement("circle",{cx:r,cy:r,r:r,fill:n})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(MP||(MP={}));const VP={[MP.Dots]:"#91919a",[MP.Lines]:"#eee",[MP.Cross]:"#e2e2e2"},zP={[MP.Dots]:1,[MP.Lines]:1,[MP.Cross]:6},UP=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function BP(e){let{id:n,variant:r=MP.Dots,gap:i=20,size:a,lineWidth:o=1,offset:s=2,color:l,style:c,className:u}=e;const d=(0,t.useRef)(null),{transform:h,patternId:p}=GT(UP,HE),f=l||VP[r],m=a||zP[r],g=r===MP.Dots,v=r===MP.Cross,y=Array.isArray(i)?i:[i,i],x=[y[0]*h[2]||1,y[1]*h[2]||1],b=m*h[2],w=v?[b,b]:x,S=g?[b/s,b/s]:[w[0]/s,w[1]/s];return t.createElement("svg",{className:RE(["react-flow__background",u]),style:Me(Me({},c),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:d,"data-testid":"rf__background"},t.createElement("pattern",{id:p+n,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(S[0],",-").concat(S[1],")")},g?t.createElement(FP,{color:f,radius:b/s}):t.createElement(LP,{dimensions:w,color:f,lineWidth:o})),t.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(p+n,")")}))}BP.displayName="Background";var HP=(0,t.memo)(BP);const qP=e=>{let{id:n,x:r,y:i,width:a,height:o,style:s,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:h,shapeRendering:p,onClick:f,selected:m}=e;const{background:g,backgroundColor:v}=s||{},y=l||g||v;return t.createElement("rect",{className:RE(["react-flow__minimap-node",{selected:m},d]),x:r,y:i,rx:h,ry:h,width:a,height:o,fill:y,stroke:c,strokeWidth:u,shapeRendering:p,onClick:f?e=>f(e,n):void 0})};qP.displayName="MiniMapNode";var WP=(0,t.memo)(qP);const KP=e=>e.nodeOrigin,GP=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),YP=e=>e instanceof Function?e:()=>e;var XP=(0,t.memo)(function(e){let{nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:o=2,nodeComponent:s=WP,onClick:l}=e;const c=GT(GP,HE),u=GT(KP),d=YP(r),h=YP(n),p=YP(i),f="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return t.createElement(t.Fragment,null,c.map(e=>{const{x:n,y:r}=Xj(e,u).positionAbsolute;return t.createElement(s,{key:e.id,x:n,y:r,width:e.width,height:e.height,style:e.style,selected:e.selected,className:p(e),color:d(e),borderRadius:a,strokeColor:h(e),strokeWidth:o,shapeRendering:f,onClick:l,id:e.id})}))});const QP=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=Qj(t,e.nodeOrigin),i=n,sj(aj(oj(r),oj(i)))):n,rfId:e.rfId};var r,i};function $P(e){var n,r;let{style:i,className:a,nodeStrokeColor:o="transparent",nodeColor:s="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:u=2,nodeComponent:d,maskColor:h="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:f=1,position:m="bottom-right",onClick:g,onNodeClick:v,pannable:y=!1,zoomable:x=!1,ariaLabel:b="React Flow mini map",inversePan:w=!1,zoomStep:S=10,offsetScale:k=5}=e;const E=YT(),N=(0,t.useRef)(null),{boundingRect:_,viewBB:C,rfId:T}=GT(QP,HE),j=null!==(n=null===i||void 0===i?void 0:i.width)&&void 0!==n?n:200,I=null!==(r=null===i||void 0===i?void 0:i.height)&&void 0!==r?r:150,A=_.width/j,P=_.height/I,D=Math.max(A,P),R=D*j,M=D*I,O=k*D,L=_.x-(R-_.width)/2-O,F=_.y-(M-_.height)/2-O,V=R+2*O,z=M+2*O,U="".concat("react-flow__minimap-desc","-").concat(T),B=(0,t.useRef)(0);B.current=D,(0,t.useEffect)(()=>{if(N.current){const e=c_(N.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=E.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*S,a=t[2]*Math.pow(2,i);r.scaleTo(n,a)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:i,width:a,height:o}=E.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const s=B.current*Math.max(1,t[2])*(w?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},c=[[0,0],[a,o]],u=mT.translate(l.x,l.y).scale(t[2]),d=r.constrain()(u,c,i);r.transform(n,d)},r=ET().on("zoom",y?n:null).on("zoom.wheel",x?t:null);return e.call(r),()=>{e.on("zoom",null)}}},[y,x,w,S]);const H=g?e=>{const t=y_(e);g(e,{x:t[0],y:t[1]})}:void 0,q=v?(e,t)=>{const n=E.getState().nodeInternals.get(t);v(e,n)}:void 0;return t.createElement(QT,{position:m,style:i,className:RE(["react-flow__minimap",a]),"data-testid":"rf__minimap"},t.createElement("svg",{width:j,height:I,viewBox:"".concat(L," ").concat(F," ").concat(V," ").concat(z),role:"img","aria-labelledby":U,ref:N,onClick:H},b&&t.createElement("title",{id:U},b),t.createElement(XP,{onClick:q,nodeColor:s,nodeStrokeColor:o,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:d}),t.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(L-O,",").concat(F-O,"h").concat(V+2*O,"v").concat(z+2*O,"h").concat(-V-2*O,"z\n        M").concat(C.x,",").concat(C.y,"h").concat(C.width,"v").concat(C.height,"h").concat(-C.width,"z"),fill:h,fillRule:"evenodd",stroke:p,strokeWidth:f,pointerEvents:"none"})))}$P.displayName="MiniMap";var JP=(0,t.memo)($P);const ZP=Ek("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),eD={familyMember:e=>{let{data:n}=e;const[r,i]=(0,t.useState)(!1);return(0,ng.jsx)(pk.div,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),whileHover:{scale:1.05},className:"relative",children:(0,ng.jsxs)("div",{className:"\n        p-4 rounded-2xl shadow-lg border-2 transition-all duration-200\n        ".concat("male"===n.gender?"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200":"bg-gradient-to-br from-pink-50 to-pink-100 border-pink-200","\n        ").concat(r?"shadow-xl":"shadow-lg","\n      "),children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,ng.jsx)("div",{className:"\n            h-12 w-12 rounded-full flex items-center justify-center text-white font-bold text-lg\n            ".concat("male"===n.gender?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-pink-500 to-pink-600","\n          "),children:n.photoURL?(0,ng.jsx)("img",{src:n.photoURL,alt:n.firstName,className:"h-12 w-12 rounded-full object-cover"}):n.firstName.charAt(0)}),(0,ng.jsxs)("div",{children:[(0,ng.jsxs)("h3",{className:"font-semibold text-gray-900 text-sm",children:[n.firstName," ",n.lastName]}),(0,ng.jsxs)("p",{className:"text-xs text-gray-600",children:[n.birthDate?new Date(n.birthDate).getFullYear():"Unknown"," - ",n.isAlive?"Present":"Deceased"]})]})]}),(0,ng.jsxs)("div",{className:"space-y-1",children:[n.occupation&&(0,ng.jsx)("p",{className:"text-xs text-gray-600",children:n.occupation}),n.currentLocation&&(0,ng.jsxs)("p",{className:"text-xs text-gray-600 flex items-center",children:[(0,ng.jsx)("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-2"}),n.currentLocation]})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:r?1:0},className:"absolute top-2 right-2 flex space-x-1",children:[(0,ng.jsx)("button",{className:"p-1 bg-white/80 rounded-full hover:bg-white transition-colors",children:(0,ng.jsx)(NE,{className:"h-3 w-3 text-gray-600"})}),(0,ng.jsx)("button",{className:"p-1 bg-white/80 rounded-full hover:bg-white transition-colors",children:(0,ng.jsx)(ZP,{className:"h-3 w-3 text-gray-600"})})]})]})})}},tD=()=>{var e,n,r,i,a,o,s,l,c;const[u,d,h]=EP([]),[p,f,m]=NP([]),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)("tree"),b=[{id:"1",firstName:"John",lastName:"Smith",gender:"male",birthDate:new Date("1950-01-15"),isAlive:!0,occupation:"Engineer",currentLocation:"New York, NY",createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]},{id:"2",firstName:"Sarah",lastName:"Smith",gender:"female",birthDate:new Date("1952-03-20"),isAlive:!0,occupation:"Teacher",currentLocation:"New York, NY",createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]},{id:"3",firstName:"Michael",lastName:"Smith",gender:"male",birthDate:new Date("1980-07-10"),isAlive:!0,occupation:"Software Developer",currentLocation:"San Francisco, CA",createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]},{id:"4",firstName:"Emily",lastName:"Johnson",gender:"female",birthDate:new Date("1982-11-05"),isAlive:!0,occupation:"Designer",currentLocation:"San Francisco, CA",createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]},{id:"5",firstName:"Emma",lastName:"Smith",gender:"female",birthDate:new Date("2010-04-15"),isAlive:!0,occupation:"Student",currentLocation:"San Francisco, CA",createdAt:new Date,updatedAt:new Date,createdBy:"user1",tags:[]}],w=[{id:"1",person1Id:"1",person2Id:"2",relationshipType:"spouse",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",person1Id:"1",person2Id:"3",relationshipType:"parent-child",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"3",person1Id:"2",person2Id:"3",relationshipType:"parent-child",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"4",person1Id:"3",person2Id:"4",relationshipType:"spouse",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"5",person1Id:"3",person2Id:"5",relationshipType:"parent-child",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"6",person1Id:"4",person2Id:"5",relationshipType:"parent-child",isActive:!0,createdAt:new Date,updatedAt:new Date}];t.useEffect(()=>{const e=b.map((e,t)=>({id:e.id,type:"familyMember",position:{x:250*t,y:200*Math.floor(t/2)},data:e})),t=w.map(e=>({id:e.id,source:e.person1Id,target:e.person2Id,type:"smoothstep",style:{stroke:"spouse"===e.relationshipType?"#ec4899":"#3b82f6",strokeWidth:2},label:"spouse"===e.relationshipType?"Spouse":"Parent-Child"}));d(e),f(t)},[]);const S=(0,t.useCallback)(e=>f(t=>Kj(e,t)),[f]),k=(0,t.useCallback)((e,t)=>{v(t)},[]);return(0,ng.jsxs)("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[(0,ng.jsxs)("div",{className:"absolute top-4 left-4 z-10 flex space-x-2",children:[(0,ng.jsx)(pk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:(0,ng.jsx)(Tk,{className:"h-5 w-5 text-primary-600"})}),(0,ng.jsx)(pk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:(0,ng.jsx)(Ik,{className:"h-5 w-5 text-gray-600"})}),(0,ng.jsx)(pk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:(0,ng.jsx)(AE,{className:"h-5 w-5 text-gray-600"})}),(0,ng.jsx)(pk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:(0,ng.jsx)(IE,{className:"h-5 w-5 text-gray-600"})})]}),(0,ng.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,ng.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-1",children:(0,ng.jsx)("div",{className:"flex space-x-1",children:[{key:"tree",label:"Tree",icon:Fk},{key:"timeline",label:"Timeline",icon:CE},{key:"network",label:"Network",icon:IE}].map(e=>(0,ng.jsxs)("button",{onClick:()=>x(e.key),className:"\n                  px-4 py-2 rounded-lg text-sm font-medium transition-all\n                  ".concat(y===e.key?"bg-primary-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50","\n                "),children:[(0,ng.jsx)(e.icon,{className:"h-4 w-4 inline mr-2"}),e.label]},e.key))})})}),(0,ng.jsx)("div",{className:"h-full",children:(0,ng.jsxs)(SP,{nodes:u,edges:p,onNodesChange:h,onEdgesChange:m,onConnect:S,onNodeClick:k,nodeTypes:eD,fitView:!0,attributionPosition:"bottom-left",children:[(0,ng.jsx)(OP,{}),(0,ng.jsx)(HP,{color:"#f1f5f9",gap:20}),(0,ng.jsx)(JP,{nodeColor:e=>{var t;return"male"===(null===(t=e.data)||void 0===t?void 0:t.gender)?"#3b82f6":"#ec4899"},nodeStrokeWidth:3,zoomable:!0,pannable:!0})]})}),(0,ng.jsx)(bk,{children:g&&(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"absolute top-4 right-4 w-80 bg-white rounded-2xl shadow-xl p-6 z-20",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Member Details"}),(0,ng.jsx)("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,ng.jsxs)("div",{className:"space-y-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)("div",{className:"\n                  h-16 w-16 rounded-full flex items-center justify-center text-white font-bold text-xl\n                  ".concat("male"===(null===(e=g.data)||void 0===e?void 0:e.gender)?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-pink-500 to-pink-600","\n                "),children:null===(n=g.data)||void 0===n||null===(r=n.firstName)||void 0===r?void 0:r.charAt(0)}),(0,ng.jsxs)("div",{children:[(0,ng.jsxs)("h4",{className:"font-semibold text-gray-900",children:[null===(i=g.data)||void 0===i?void 0:i.firstName," ",null===(a=g.data)||void 0===a?void 0:a.lastName]}),(0,ng.jsxs)("p",{className:"text-sm text-gray-600",children:[null!==(o=g.data)&&void 0!==o&&o.birthDate?new Date(g.data.birthDate).getFullYear():"Unknown"," - ",null!==(s=g.data)&&void 0!==s&&s.isAlive?"Present":"Deceased"]})]})]}),(null===(l=g.data)||void 0===l?void 0:l.occupation)&&(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Occupation"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:g.data.occupation})]}),(null===(c=g.data)||void 0===c?void 0:c.currentLocation)&&(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Location"}),(0,ng.jsx)("p",{className:"text-sm text-gray-600",children:g.data.currentLocation})]}),(0,ng.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,ng.jsx)("button",{className:"w-full btn-primary",children:"Edit Member"})})]})]})}),(0,ng.jsx)("div",{className:"absolute bottom-4 left-4 z-10",children:(0,ng.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4",children:(0,ng.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ng.jsxs)("div",{className:"text-center",children:[(0,ng.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:u.length}),(0,ng.jsx)("p",{className:"text-xs text-gray-600",children:"Members"})]}),(0,ng.jsxs)("div",{className:"text-center",children:[(0,ng.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.length}),(0,ng.jsx)("p",{className:"text-xs text-gray-600",children:"Relationships"})]}),(0,ng.jsxs)("div",{className:"text-center",children:[(0,ng.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"3"}),(0,ng.jsx)("p",{className:"text-xs text-gray-600",children:"Generations"})]})]})})})]})},nD=Ek("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var rD=n(173);const iD=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function aD(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=iD.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:i}=e,a="string"===typeof t?t:"string"===typeof i&&i.length>0?i:"./".concat(e.name);return"string"!==typeof r.path&&oD(r,"path",a),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),oD(r,"relativePath",a),r}function oD(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const sD=[".DS_Store","Thumbs.db"];function lD(e){return"object"===typeof e&&null!==e}function cD(e){return e.filter(e=>-1===sD.indexOf(e.name))}function uD(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function dD(e){if("function"!==typeof e.webkitGetAsEntry)return pD(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?mD(t):pD(e,t)}function hD(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?hD(t):[t]],[])}function pD(e,t){return ei(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,aD(e)}}const r=e.getAsFile();if(!r)throw new Error("".concat(e," is not a File"));return aD(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)})}function fD(e){return ei(this,void 0,void 0,function*(){return e.isDirectory?mD(e):function(e){return ei(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{const r=aD(n,e.fullPath);t(r)},e=>{n(e)})})})}(e)})}function mD(e){const t=e.createReader();return new Promise((e,n)=>{const r=[];!function i(){t.readEntries(t=>ei(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(fD));r.push(e),i()}else try{const t=yield Promise.all(r);e(t)}catch(a){n(a)}}),e=>{n(e)})}()})}var gD=n(628);function vD(e){return function(e){if(Array.isArray(e))return kD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||SD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(t){bD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||SD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SD(e,t){if(e){if("string"===typeof e)return kD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kD(e,t):void 0}}function kD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ED="function"===typeof gD?gD:gD.default,ND="file-invalid-type",_D="file-too-large",CD="file-too-small",TD="too-many-files",jD=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:ND,message:"File type must be ".concat(t)}},ID=function(e){return{code:_D,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},AD=function(e){return{code:CD,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},PD={code:TD,message:"Too many files"};function DD(e,t){var n="application/x-moz-file"===e.type||ED(e,t);return[n,n?null:jD(t)]}function RD(e,t,n){if(MD(e.size))if(MD(t)&&MD(n)){if(e.size>n)return[!1,ID(n)];if(e.size<t)return[!1,AD(t)]}else{if(MD(t)&&e.size<t)return[!1,AD(t)];if(MD(n)&&e.size>n)return[!1,ID(n)]}return[!0,null]}function MD(e){return void 0!==e&&null!==e}function OD(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function LD(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function FD(e){e.preventDefault()}function VD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some(function(t){return!OD(e)&&t&&t.apply(void 0,[e].concat(r)),OD(e)})}}function zD(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function UD(e){return/^.*\.[\w]+$/.test(e)}var BD=["children"],HD=["open"],qD=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],WD=["refKey","onChange","onClick"];function KD(e){return function(e){if(Array.isArray(e))return XD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||YD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||YD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YD(e,t){if(e){if("string"===typeof e)return XD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XD(e,t):void 0}}function XD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(t){JD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var eR=(0,t.forwardRef)(function(e,n){var r=e.children,i=rR(ZD(e,BD)),a=i.open,o=ZD(i,HD);return(0,t.useImperativeHandle)(n,function(){return{open:a}},[a]),t.createElement(t.Fragment,null,r($D($D({},o),{},{open:a})))});eR.displayName="Dropzone";var tR={disabled:!1,getFilesFromEvent:function(e){return ei(this,void 0,void 0,function*(){return lD(e)&&lD(e.dataTransfer)?function(e,t){return ei(this,void 0,void 0,function*(){if(e.items){const n=uD(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return n;return cD(hD(yield Promise.all(n.map(dD))))}return cD(uD(e.files).map(e=>aD(e)))})}(e.dataTransfer,e.type):function(e){return lD(e)&&lD(e.target)}(e)?function(e){return uD(e.target.files).map(e=>aD(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"===typeof e.getFile)?function(e){return ei(this,void 0,void 0,function*(){const t=yield Promise.all(e.map(e=>e.getFile()));return t.map(e=>aD(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};eR.defaultProps=tR,eR.propTypes={children:rD.func,accept:rD.objectOf(rD.arrayOf(rD.string)),multiple:rD.bool,preventDropOnDocument:rD.bool,noClick:rD.bool,noKeyboard:rD.bool,noDrag:rD.bool,noDragEventsBubbling:rD.bool,minSize:rD.number,maxSize:rD.number,maxFiles:rD.number,disabled:rD.bool,getFilesFromEvent:rD.func,onFileDialogCancel:rD.func,onFileDialogOpen:rD.func,useFsAccessApi:rD.bool,autoFocus:rD.bool,onDragEnter:rD.func,onDragLeave:rD.func,onDragOver:rD.func,onDrop:rD.func,onDropAccepted:rD.func,onDropRejected:rD.func,onError:rD.func,validator:rD.func};var nR={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function rR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=$D($D({},tR),e),r=n.accept,i=n.disabled,a=n.getFilesFromEvent,o=n.maxSize,s=n.minSize,l=n.multiple,c=n.maxFiles,u=n.onDragEnter,d=n.onDragLeave,h=n.onDragOver,p=n.onDrop,f=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,x=n.autoFocus,b=n.preventDropOnDocument,w=n.noClick,S=n.noKeyboard,k=n.noDrag,E=n.noDragEventsBubbling,N=n.onError,_=n.validator,C=(0,t.useMemo)(function(){return function(e){if(MD(e))return Object.entries(e).reduce(function(e,t){var n=wD(t,2),r=n[0],i=n[1];return[].concat(vD(e),[r],vD(i))},[]).filter(function(e){return zD(e)||UD(e)}).join(",")}(r)},[r]),T=(0,t.useMemo)(function(){return function(e){return MD(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=wD(e,2),n=t[0],r=t[1],i=!0;return zD(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(UD)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(e,t){var n=wD(t,2),r=n[0],i=n[1];return xD(xD({},e),{},bD({},r,i))},{})}]:e}(r)},[r]),j=(0,t.useMemo)(function(){return"function"===typeof v?v:aR},[v]),I=(0,t.useMemo)(function(){return"function"===typeof g?g:aR},[g]),A=(0,t.useRef)(null),P=(0,t.useRef)(null),D=GD((0,t.useReducer)(iR,nR),2),R=D[0],M=D[1],O=R.isFocused,L=R.isFileDialogActive,F=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),V=function(){!F.current&&L&&setTimeout(function(){P.current&&(P.current.files.length||(M({type:"closeDialog"}),I()))},300)};(0,t.useEffect)(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[P,L,I,F]);var z=(0,t.useRef)([]),U=function(e){A.current&&A.current.contains(e.target)||(e.preventDefault(),z.current=[])};(0,t.useEffect)(function(){return b&&(document.addEventListener("dragover",FD,!1),document.addEventListener("drop",U,!1)),function(){b&&(document.removeEventListener("dragover",FD),document.removeEventListener("drop",U))}},[A,b]),(0,t.useEffect)(function(){return!i&&x&&A.current&&A.current.focus(),function(){}},[A,x,i]);var B=(0,t.useCallback)(function(e){N?N(e):console.error(e)},[N]),H=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),z.current=[].concat(KD(z.current),[e.target]),LD(e)&&Promise.resolve(a(e)).then(function(t){if(!OD(e)||E){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,s=e.validator;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every(function(e){var t=wD(DD(e,n),1)[0],a=wD(RD(e,r,i),1)[0],o=s?s(e):null;return t&&a&&!o})}({files:t,accept:C,minSize:s,maxSize:o,multiple:l,maxFiles:c,validator:_});M({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}}).catch(function(e){return B(e)})},[a,u,B,E,C,s,o,l,c,_]),q=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=LD(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1},[h,E]),W=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=z.current.filter(function(e){return A.current&&A.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),z.current=t,t.length>0||(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),LD(e)&&d&&d(e))},[A,d,E]),K=(0,t.useCallback)(function(e,t){var n=[],r=[];e.forEach(function(e){var t=GD(DD(e,C),2),i=t[0],a=t[1],l=GD(RD(e,s,o),2),c=l[0],u=l[1],d=_?_(e):null;if(i&&c&&!d)n.push(e);else{var h=[a,u];d&&(h=h.concat(d)),r.push({file:e,errors:h.filter(function(e){return e})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(e){r.push({file:e,errors:[PD]})}),n.splice(0)),M({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&f&&f(n,t)},[M,l,C,s,o,c,p,f,m,_]),G=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),z.current=[],LD(e)&&Promise.resolve(a(e)).then(function(t){OD(e)&&!E||K(t,e)}).catch(function(e){return B(e)}),M({type:"reset"})},[a,K,B,E]),Y=(0,t.useCallback)(function(){if(F.current){M({type:"openDialog"}),j();var e={multiple:l,types:T};window.showOpenFilePicker(e).then(function(e){return a(e)}).then(function(e){K(e,null),M({type:"closeDialog"})}).catch(function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?B(e):(F.current=!1,P.current?(P.current.value=null,P.current.click()):B(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):(I(e),M({type:"closeDialog"}))})}else P.current&&(M({type:"openDialog"}),j(),P.current.value=null,P.current.click())},[M,j,I,y,K,B,T,l]),X=(0,t.useCallback)(function(e){A.current&&A.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Y()))},[A,Y]),Q=(0,t.useCallback)(function(){M({type:"focus"})},[]),$=(0,t.useCallback)(function(){M({type:"blur"})},[]),J=(0,t.useCallback)(function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?Y():setTimeout(Y,0))},[w,Y]),Z=function(e){return i?null:e},ee=function(e){return S?null:Z(e)},te=function(e){return k?null:Z(e)},ne=function(e){E&&e.stopPropagation()},re=(0,t.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,a=e.onKeyDown,o=e.onFocus,s=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,h=e.onDrop,p=ZD(e,qD);return $D($D(JD({onKeyDown:ee(VD(a,X)),onFocus:ee(VD(o,Q)),onBlur:ee(VD(s,$)),onClick:Z(VD(l,J)),onDragEnter:te(VD(c,H)),onDragOver:te(VD(u,q)),onDragLeave:te(VD(d,W)),onDrop:te(VD(h,G)),role:"string"===typeof r&&""!==r?r:"presentation"},n,A),i||S?{}:{tabIndex:0}),p)}},[A,X,Q,$,J,H,q,W,G,S,k,i]),ie=(0,t.useCallback)(function(e){e.stopPropagation()},[]),ae=(0,t.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,a=ZD(e,WD);return $D($D({},JD({accept:C,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(VD(r,G)),onClick:Z(VD(i,ie)),tabIndex:-1},n,P)),a)}},[P,r,l,G,i]);return $D($D({},R),{},{isFocused:O&&!i,getRootProps:re,getInputProps:ae,rootRef:A,inputRef:P,open:Z(Y)})}function iR(e,t){switch(t.type){case"focus":return $D($D({},e),{},{isFocused:!0});case"blur":return $D($D({},e),{},{isFocused:!1});case"openDialog":return $D($D({},nR),{},{isFileDialogActive:!0});case"closeDialog":return $D($D({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return $D($D({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return $D($D({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return $D({},nR);default:return e}}function aR(){}const oR=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)("grid");(0,t.useEffect)(()=>{const e=[{id:"1",url:"https://images.unsplash.com/photo-1511895426328-dc8714efa8b6?w=800",caption:"Family vacation at the beach - Summer 2023",people:["1","2","3"],date:new Date("2023-07-15"),location:"Malibu Beach, CA",treeId:"1",uploadedBy:"user1",createdAt:new Date("2023-07-16")},{id:"2",url:"https://images.unsplash.com/photo-1549298916-b41d501d3772?w=800",caption:"Grandpa's 80th birthday celebration",people:["1","2","4","5"],date:new Date("2023-05-20"),location:"Family Home, NY",treeId:"1",uploadedBy:"user2",createdAt:new Date("2023-05-21")},{id:"3",url:"https://images.unsplash.com/photo-1606092195730-5d7b9af1efc5?w=800",caption:"Wedding day memories",people:["3","4"],date:new Date("2005-06-12"),location:"Central Park, NY",treeId:"1",uploadedBy:"user3",createdAt:new Date("2023-03-10")},{id:"4",url:"https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=800",caption:"First day of school",people:["5"],date:new Date("2023-09-05"),location:"Elementary School",treeId:"1",uploadedBy:"user1",createdAt:new Date("2023-09-05")}];n(e)},[]);const{getRootProps:p,getInputProps:f,isDragActive:m}=rR({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:e=>{console.log("Files dropped:",e),o(!1)}}),g=e.filter(e=>{var t,n;const r=(null===(t=e.caption)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase()))||(null===(n=e.location)||void 0===n?void 0:n.toLowerCase().includes(s.toLowerCase()));switch(c){case"recent":return r&&new Date(e.createdAt).getTime()>Date.now()-2592e6;case"favorites":default:return r;case"people":return r&&e.people.length>0}}),v=e=>{let{photo:t,index:n}=e;return(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*n},className:"group relative overflow-hidden rounded-3xl cursor-pointer floating-element",onClick:()=>i(t),children:(0,ng.jsxs)("div",{className:"aspect-square relative",children:[(0,ng.jsx)("img",{src:t.url,alt:t.caption,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),(0,ng.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ng.jsxs)("div",{className:"absolute top-3 right-3 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,ng.jsx)("button",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:(0,ng.jsx)(CE,{className:"h-4 w-4 text-white"})}),(0,ng.jsx)("button",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:(0,ng.jsx)(IE,{className:"h-4 w-4 text-white"})})]}),(0,ng.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[(0,ng.jsx)("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:t.caption}),(0,ng.jsxs)("div",{className:"flex items-center space-x-3 text-xs opacity-90",children:[t.date&&(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(Mk,{className:"h-3 w-3"}),(0,ng.jsx)("span",{children:t.date.toLocaleDateString()})]}),t.location&&(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(mE,{className:"h-3 w-3"}),(0,ng.jsx)("span",{children:t.location})]})]}),t.people.length>0&&(0,ng.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,ng.jsx)(Fk,{className:"h-3 w-3"}),(0,ng.jsxs)("span",{className:"text-xs",children:[t.people.length," people tagged"]})]})]})]})})};return(0,ng.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,ng.jsxs)("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:["Family ",(0,ng.jsx)("span",{className:"gradient-text",children:"Photo Gallery"})]}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"Preserve and share your precious family memories"})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col lg:flex-row gap-4 mb-8",children:[(0,ng.jsxs)("div",{className:"relative flex-1",children:[(0,ng.jsx)(_k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{type:"text",placeholder:"Search photos by caption, location...",value:s,onChange:e=>l(e.target.value),className:"input-field pl-12"})]}),(0,ng.jsxs)("div",{className:"flex space-x-3",children:[(0,ng.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"input-field min-w-[120px]",children:[(0,ng.jsx)("option",{value:"all",children:"All Photos"}),(0,ng.jsx)("option",{value:"recent",children:"Recent"}),(0,ng.jsx)("option",{value:"favorites",children:"Favorites"}),(0,ng.jsx)("option",{value:"people",children:"With People"})]}),(0,ng.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"input-field min-w-[120px]",children:[(0,ng.jsx)("option",{value:"grid",children:"Grid View"}),(0,ng.jsx)("option",{value:"masonry",children:"Masonry"}),(0,ng.jsx)("option",{value:"timeline",children:"Timeline"})]})]}),(0,ng.jsxs)("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2 whitespace-nowrap",children:[(0,ng.jsx)(nD,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Upload Photos"})]})]}),(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid gap-6 ".concat("grid"===d||"masonry"===d?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":"grid-cols-1 lg:grid-cols-2"),children:g.map((e,t)=>(0,ng.jsx)(v,{photo:e,index:t},e.id))}),0===g.length&&(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,ng.jsx)("div",{className:"h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ng.jsx)(Lk,{className:"h-12 w-12 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No photos found"}),(0,ng.jsx)("p",{className:"text-gray-600 mb-6",children:"Start building your family photo collection by uploading some memories!"}),(0,ng.jsx)("button",{onClick:()=>o(!0),className:"btn-primary",children:"Upload Your First Photo"})]})]}),(0,ng.jsx)(bk,{children:a&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:(0,ng.jsxs)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card-elevated max-w-lg w-full p-8",onClick:e=>e.stopPropagation(),children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Upload Photos"}),(0,ng.jsx)("button",{onClick:()=>o(!1),className:"btn-ghost p-2",children:(0,ng.jsx)(Pk,{className:"h-5 w-5"})})]}),(0,ng.jsxs)("div",Me(Me({},p()),{},{className:"border-2 border-dashed rounded-3xl p-8 text-center transition-colors ".concat(m?"border-primary-400 bg-primary-50":"border-gray-300 hover:border-gray-400"),children:[(0,ng.jsx)("input",Me({},f())),(0,ng.jsx)(Lk,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m?"Drop photos here":"Upload family photos"}),(0,ng.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop photos here, or click to select files"}),(0,ng.jsx)("button",{className:"btn-secondary",children:"Choose Files"})]})),(0,ng.jsxs)("div",{className:"mt-6 text-sm text-gray-500",children:[(0,ng.jsx)("p",{children:"\u2022 Supported formats: JPEG, PNG, GIF, WebP"}),(0,ng.jsx)("p",{children:"\u2022 Maximum file size: 10MB per photo"}),(0,ng.jsx)("p",{children:"\u2022 You can upload multiple photos at once"})]})]})})}),(0,ng.jsx)(bk,{children:r&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>i(null),children:(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"max-w-4xl max-h-full p-4 w-full",onClick:e=>e.stopPropagation(),children:(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)("img",{src:r.url,alt:r.caption,className:"w-full h-auto max-h-[80vh] object-contain rounded-2xl"}),(0,ng.jsx)("button",{onClick:()=>i(null),className:"absolute top-4 right-4 p-2 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-black/70 transition-colors",children:(0,ng.jsx)(Pk,{className:"h-6 w-6"})}),(0,ng.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 via-black/40 to-transparent text-white rounded-b-2xl",children:[(0,ng.jsx)("h3",{className:"text-xl font-semibold mb-2",children:r.caption}),(0,ng.jsxs)("div",{className:"flex items-center space-x-4 text-sm opacity-90",children:[r.date&&(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(Mk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:r.date.toLocaleDateString()})]}),r.location&&(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(mE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:r.location})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(Fk,{className:"h-4 w-4"}),(0,ng.jsxs)("span",{children:[r.people.length," people"]})]})]})]})]})})})})]})},sR=Ek("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),lR=Ek("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),cR=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)({title:"",content:"",tags:[],isPublic:!0});(0,t.useEffect)(()=>{const e=[{id:"1",title:"How Grandpa and Grandma Met",content:'It was a crisp autumn day in 1952 when my grandfather first laid eyes on the woman who would become his lifelong companion. He was working at the local diner, and she walked in with her friends after a movie. \n\n        "She ordered a chocolate milkshake and apple pie," he would tell us years later, his eyes twinkling with the same mischief we knew so well. "And I knew right then that I had to know her name."\n\n        What followed was a courtship that lasted two years, filled with letters, long walks in Central Park, and shared dreams of building a family together. Their love story became the foundation of our entire family tree.\n\n        Grandma always said that love isn\'t just about finding the right person, but being the right person for someone else. Their 65-year marriage was a testament to that philosophy.',authorId:"user1",treeId:"1",tags:["love","grandparents","history","romance"],isPublic:!0,createdAt:new Date("2023-10-15"),updatedAt:new Date("2023-10-15")},{id:"2",title:"The Great Family Recipe Adventure",content:"Every family has that one recipe that gets passed down through generations. Ours was Aunt Maria's famous lasagna. The problem? She never wrote it down.\n\n        When Aunt Maria passed away in 2019, we realized we had a crisis on our hands. Thanksgiving was approaching, and nobody knew how to make her legendary lasagna. That's when my cousin Sarah had a brilliant idea.\n\n        \"Let's recreate it together,\" she suggested. \"We'll invite everyone who remembers eating it, and we'll figure it out as a family.\"\n\n        What followed was the most chaotic, flour-covered, laughter-filled weekend our family had experienced in years. It took us three attempts, countless phone calls to relatives, and a lot of taste-testing, but we finally cracked the code.\n\n        Now we have the recipe, but more importantly, we have the memory of discovering it together.",authorId:"user2",treeId:"1",tags:["recipes","family traditions","cooking","memories"],isPublic:!0,createdAt:new Date("2023-09-22"),updatedAt:new Date("2023-09-22")},{id:"3",title:"Dad's Secret Talent",content:"For forty years, we thought we knew everything about our father. He was a accountant, loved baseball, and made terrible dad jokes. What we didn't know was that he had been writing poetry in secret.\n\n        We discovered his hidden talent when we were helping him move to a smaller apartment. In the back of his closet, we found a box containing hundreds of handwritten poems. Beautiful, touching verses about love, family, loss, and hope.\n\n        When we asked him about it, he blushed like a teenager. \"It's just something I do when I can't sleep,\" he said. But as we read through them, we realized we were holding decades of our family's emotional history, captured in his gentle words.\n\n        Now, every family gathering ends with Dad sharing one of his poems. It's become our new favorite tradition.",authorId:"user3",treeId:"1",tags:["poetry","hidden talents","family secrets","traditions"],isPublic:!0,createdAt:new Date("2023-08-10"),updatedAt:new Date("2023-08-10")}];n(e)},[]);const p=e.filter(e=>{const t=e.title.toLowerCase().includes(s.toLowerCase())||e.content.toLowerCase().includes(s.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(s.toLowerCase()));switch(c){case"recent":return t&&new Date(e.createdAt).getTime()>Date.now()-2592e6;case"popular":default:return t;case"mine":return t&&"user1"===e.authorId}}),f=e=>{let{story:t,index:n}=e;return(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"card p-6 cursor-pointer group",onClick:()=>i(t),children:[(0,ng.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ng.jsxs)("div",{className:"flex-1",children:[(0,ng.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors",children:t.title}),(0,ng.jsx)("p",{className:"text-gray-600 line-clamp-3 mb-4",children:t.content})]}),(0,ng.jsx)("div",{className:"ml-4",children:(0,ng.jsx)("div",{className:"h-12 w-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center",children:(0,ng.jsx)(Ok,{className:"h-6 w-6 text-white"})})})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(yE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:t.createdAt.toLocaleDateString()})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(jk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Author"})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(NE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"124 views"})]})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ng.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(CE,{className:"h-4 w-4 text-gray-400"})}),(0,ng.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(sR,{className:"h-4 w-4 text-gray-400"})}),(0,ng.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(IE,{className:"h-4 w-4 text-gray-400"})})]})]}),t.tags.length>0&&(0,ng.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map((e,t)=>(0,ng.jsxs)("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 text-xs rounded-full",children:["#",e]},t))})]})};return(0,ng.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,ng.jsxs)("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:["Family ",(0,ng.jsx)("span",{className:"gradient-text",children:"Stories"})]}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"Share and preserve your family's most precious memories and stories"})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col lg:flex-row gap-4 mb-8",children:[(0,ng.jsxs)("div",{className:"relative flex-1",children:[(0,ng.jsx)(_k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{type:"text",placeholder:"Search stories by title, content, or tags...",value:s,onChange:e=>l(e.target.value),className:"input-field pl-12"})]}),(0,ng.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"input-field min-w-[140px]",children:[(0,ng.jsx)("option",{value:"all",children:"All Stories"}),(0,ng.jsx)("option",{value:"recent",children:"Recent"}),(0,ng.jsx)("option",{value:"popular",children:"Popular"}),(0,ng.jsx)("option",{value:"mine",children:"My Stories"})]}),(0,ng.jsxs)("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2 whitespace-nowrap",children:[(0,ng.jsx)(Tk,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Write Story"})]})]}),(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:p.map((e,t)=>(0,ng.jsx)(f,{story:e,index:t},e.id))}),0===p.length&&(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,ng.jsx)("div",{className:"h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ng.jsx)(Ok,{className:"h-12 w-12 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No stories found"}),(0,ng.jsx)("p",{className:"text-gray-600 mb-6",children:"Start preserving your family's history by sharing your first story!"}),(0,ng.jsx)("button",{onClick:()=>o(!0),className:"btn-primary",children:"Write Your First Story"})]})]}),(0,ng.jsx)(bk,{children:a&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card-elevated max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,ng.jsxs)("div",{className:"p-8",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Write Your Story"}),(0,ng.jsx)("button",{onClick:()=>o(!1),className:"btn-ghost p-2",children:(0,ng.jsx)(Pk,{className:"h-5 w-5"})})]}),(0,ng.jsxs)("div",{className:"space-y-6",children:[(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Title"}),(0,ng.jsx)("input",{type:"text",value:d.title,onChange:e=>h(Me(Me({},d),{},{title:e.target.value})),placeholder:"Give your story a memorable title...",className:"input-field"})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Story"}),(0,ng.jsx)("textarea",{value:d.content,onChange:e=>h(Me(Me({},d),{},{content:e.target.value})),placeholder:"Share your family story, memory, or experience...",rows:12,className:"input-field resize-none"})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma separated)"}),(0,ng.jsx)("input",{type:"text",placeholder:"family, memories, traditions, recipes...",onChange:e=>h(Me(Me({},d),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})),className:"input-field"})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)("input",{type:"checkbox",id:"isPublic",checked:d.isPublic,onChange:e=>h(Me(Me({},d),{},{isPublic:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,ng.jsx)("label",{htmlFor:"isPublic",className:"text-sm text-gray-700",children:"Make this story visible to all family members"})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,ng.jsx)("button",{onClick:()=>o(!1),className:"btn-secondary",children:"Cancel"}),(0,ng.jsxs)("button",{onClick:()=>{if(!d.title.trim()||!d.content.trim())return;const t={id:Date.now().toString(),title:d.title,content:d.content,authorId:"user1",treeId:"1",tags:d.tags,isPublic:d.isPublic,createdAt:new Date,updatedAt:new Date};n([t,...e]),h({title:"",content:"",tags:[],isPublic:!0}),o(!1)},disabled:!d.title.trim()||!d.content.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ng.jsx)(lR,{className:"h-4 w-4 mr-2"}),"Publish Story"]})]})]})]})})})}),(0,ng.jsx)(bk,{children:r&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card-elevated max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,ng.jsxs)("div",{className:"p-8",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsxs)("div",{className:"flex-1",children:[(0,ng.jsx)("h1",{className:"text-3xl font-display font-bold text-gray-900 mb-2",children:r.title}),(0,ng.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(Mk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:r.createdAt.toLocaleDateString()})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(jk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Family Author"})]})]})]}),(0,ng.jsx)("button",{onClick:()=>i(null),className:"btn-ghost p-2",children:(0,ng.jsx)(Pk,{className:"h-5 w-5"})})]}),(0,ng.jsx)("div",{className:"prose prose-lg max-w-none mb-8",children:r.content.split("\n\n").map((e,t)=>(0,ng.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:e},t))}),r.tags.length>0&&(0,ng.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:r.tags.map((e,t)=>(0,ng.jsxs)("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 text-sm rounded-full",children:["#",e]},t))}),(0,ng.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsxs)("button",{className:"flex items-center space-x-2 btn-ghost",children:[(0,ng.jsx)(CE,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Like"})]}),(0,ng.jsxs)("button",{className:"flex items-center space-x-2 btn-ghost",children:[(0,ng.jsx)(sR,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Comment"})]}),(0,ng.jsxs)("button",{className:"flex items-center space-x-2 btn-ghost",children:[(0,ng.jsx)(IE,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Share"})]})]}),(0,ng.jsx)("div",{className:"text-sm text-gray-500",children:"124 views \u2022 12 likes"})]})]})})})})]})},uR=Ek("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),dR=Ek("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),hR=Ek("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),pR=Ek("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),fR=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)("grid"),[c,u]=(0,t.useState)("upcoming"),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)({title:"",description:"",date:"",location:"",type:"other"});(0,t.useEffect)(()=>{const e=[{id:"1",title:"Grandma's 85th Birthday Party",description:"Join us in celebrating Grandma's milestone birthday with cake, stories, and lots of love!",date:new Date("2024-02-15T14:00:00"),location:"Family Home - 123 Oak Street, Springfield",type:"birthday",attendees:["1","2","3","4","5"],treeId:"1",createdBy:"user1",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10")},{id:"2",title:"Annual Family Reunion 2024",description:"Our biggest family gathering of the year! Bring your appetite and your cameras. We'll have games, food, and plenty of catching up to do.",date:new Date("2024-07-20T11:00:00"),location:"Riverside Park Pavilion, Central City",type:"reunion",attendees:["1","2","3","4","5","6","7"],treeId:"1",createdBy:"user2",createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05")},{id:"3",title:"Mike & Sarah's Anniversary Dinner",description:"Celebrating 20 years of marriage with an intimate family dinner.",date:new Date("2024-03-12T18:30:00"),location:"Giovanni's Italian Restaurant",type:"anniversary",attendees:["3","4","5"],treeId:"1",createdBy:"user3",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-08")},{id:"4",title:"Emma's Graduation Ceremony",description:"Emma is graduating from high school! Come celebrate this important milestone.",date:new Date("2024-06-15T10:00:00"),location:"Springfield High School Auditorium",type:"other",attendees:["1","2","3","4","5"],treeId:"1",createdBy:"user1",createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-12")}];n(e)},[]);const m=e.filter(e=>{var t,n;const r=e.title.toLowerCase().includes(d.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.location)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase())),i=new Date;switch(c){case"upcoming":return r&&e.date>i;case"past":return r&&e.date<=i;case"mine":return r&&"user1"===e.createdBy;default:return r}}),g=e=>{switch(e){case"birthday":return(0,ng.jsx)(uR,{className:"h-5 w-5"});case"anniversary":case"wedding":return(0,ng.jsx)(CE,{className:"h-5 w-5"});case"reunion":return(0,ng.jsx)(Fk,{className:"h-5 w-5"});default:return(0,ng.jsx)(Mk,{className:"h-5 w-5"})}},v=e=>{switch(e){case"birthday":return"from-pink-500 to-rose-500";case"anniversary":return"from-red-500 to-pink-500";case"wedding":return"from-purple-500 to-pink-500";case"reunion":return"from-blue-500 to-indigo-500";default:return"from-gray-500 to-gray-600"}},y=e=>{let{event:t,index:n}=e;const r=t.date>new Date,a=Math.ceil((t.date.getTime()-(new Date).getTime())/864e5);return(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"card p-6 cursor-pointer group",onClick:()=>i(t),children:[(0,ng.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)("div",{className:"p-3 rounded-2xl bg-gradient-to-r ".concat(v(t.type)," text-white"),children:g(t.type)}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h3",{className:"text-xl font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:t.title}),(0,ng.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:t.type})]})]}),r&&a<=7&&(0,ng.jsx)("div",{className:"px-3 py-1 bg-accent-100 text-accent-800 text-xs rounded-full font-medium",children:0===a?"Today":1===a?"Tomorrow":"".concat(a," days")})]}),(0,ng.jsx)("p",{className:"text-gray-600 line-clamp-2 mb-4",children:t.description}),(0,ng.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,ng.jsx)(Mk,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:t.date.toLocaleDateString()}),(0,ng.jsx)(yE,{className:"h-4 w-4 ml-2"}),(0,ng.jsx)("span",{children:t.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),t.location&&(0,ng.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,ng.jsx)(mE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{className:"line-clamp-1",children:t.location})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,ng.jsx)(Fk,{className:"h-4 w-4"}),(0,ng.jsxs)("span",{children:[t.attendees.length," attending"]})]})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ng.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(Ck,{className:"h-4 w-4 text-gray-400"})}),(0,ng.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ng.jsx)(IE,{className:"h-4 w-4 text-gray-400"})})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ng.jsx)("button",{className:"btn-ghost text-sm",children:"Maybe"}),(0,ng.jsx)("button",{className:"btn-primary text-sm",children:"Attending"})]})]})]})};return(0,ng.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,ng.jsxs)("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:["Family ",(0,ng.jsx)("span",{className:"gradient-text",children:"Events"})]}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"Plan, organize, and celebrate life's special moments together"})]}),(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col lg:flex-row gap-4 mb-8",children:[(0,ng.jsxs)("div",{className:"relative flex-1",children:[(0,ng.jsx)(_k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{type:"text",placeholder:"Search events by title, description, or location...",value:d,onChange:e=>h(e.target.value),className:"input-field pl-12"})]}),(0,ng.jsxs)("div",{className:"flex space-x-3",children:[(0,ng.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"input-field min-w-[140px]",children:[(0,ng.jsx)("option",{value:"all",children:"All Events"}),(0,ng.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,ng.jsx)("option",{value:"past",children:"Past Events"}),(0,ng.jsx)("option",{value:"mine",children:"My Events"})]}),(0,ng.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"input-field min-w-[120px]",children:[(0,ng.jsx)("option",{value:"grid",children:"Grid View"}),(0,ng.jsx)("option",{value:"calendar",children:"Calendar"}),(0,ng.jsx)("option",{value:"timeline",children:"Timeline"})]})]}),(0,ng.jsxs)("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2 whitespace-nowrap",children:[(0,ng.jsx)(Tk,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Create Event"})]})]}),(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:m.map((e,t)=>(0,ng.jsx)(y,{event:e,index:t},e.id))}),0===m.length&&(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,ng.jsx)("div",{className:"h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ng.jsx)(Mk,{className:"h-12 w-12 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events found"}),(0,ng.jsx)("p",{className:"text-gray-600 mb-6",children:"Start planning your family gatherings by creating your first event!"}),(0,ng.jsx)("button",{onClick:()=>o(!0),className:"btn-primary",children:"Create Your First Event"})]})]}),(0,ng.jsx)(bk,{children:a&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card-elevated max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,ng.jsxs)("div",{className:"p-8",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Create New Event"}),(0,ng.jsx)("button",{onClick:()=>o(!1),className:"btn-ghost p-2",children:(0,ng.jsx)(Pk,{className:"h-5 w-5"})})]}),(0,ng.jsxs)("div",{className:"space-y-6",children:[(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),(0,ng.jsxs)("select",{value:p.type,onChange:e=>f(Me(Me({},p),{},{type:e.target.value})),className:"input-field",children:[(0,ng.jsx)("option",{value:"birthday",children:"Birthday"}),(0,ng.jsx)("option",{value:"anniversary",children:"Anniversary"}),(0,ng.jsx)("option",{value:"wedding",children:"Wedding"}),(0,ng.jsx)("option",{value:"reunion",children:"Family Reunion"}),(0,ng.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),(0,ng.jsx)("input",{type:"text",value:p.title,onChange:e=>f(Me(Me({},p),{},{title:e.target.value})),placeholder:"Give your event a memorable title...",className:"input-field"})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,ng.jsx)("textarea",{value:p.description,onChange:e=>f(Me(Me({},p),{},{description:e.target.value})),placeholder:"Describe your event, what to expect, what to bring...",rows:4,className:"input-field resize-none"})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time"}),(0,ng.jsx)("input",{type:"datetime-local",value:p.date,onChange:e=>f(Me(Me({},p),{},{date:e.target.value})),className:"input-field"})]}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,ng.jsx)("input",{type:"text",value:p.location,onChange:e=>f(Me(Me({},p),{},{location:e.target.value})),placeholder:"Where will this event take place?",className:"input-field"})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,ng.jsx)("button",{onClick:()=>o(!1),className:"btn-secondary",children:"Cancel"}),(0,ng.jsxs)("button",{onClick:()=>{if(!p.title.trim()||!p.date)return;const t={id:Date.now().toString(),title:p.title,description:p.description,date:new Date(p.date),location:p.location,type:p.type,attendees:[],treeId:"1",createdBy:"user1",createdAt:new Date,updatedAt:new Date};n([t,...e]),f({title:"",description:"",date:"",location:"",type:"other"}),o(!1)},disabled:!p.title.trim()||!p.date,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ng.jsx)(lR,{className:"h-4 w-4 mr-2"}),"Create Event"]})]})]})]})})})}),(0,ng.jsx)(bk,{children:r&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card-elevated max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,ng.jsxs)("div",{className:"p-8",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-r ".concat(v(r.type)," text-white"),children:g(r.type)}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h1",{className:"text-2xl font-display font-bold text-gray-900",children:r.title}),(0,ng.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:r.type})]})]}),(0,ng.jsx)("button",{onClick:()=>i(null),className:"btn-ghost p-2",children:(0,ng.jsx)(Pk,{className:"h-5 w-5"})})]}),(0,ng.jsxs)("div",{className:"space-y-6",children:[(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About this event"}),(0,ng.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.description||"No description provided."})]}),(0,ng.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ng.jsxs)("div",{className:"space-y-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(Mk,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:r.date.toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(yE,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"Time"}),(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:r.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,ng.jsxs)("div",{className:"space-y-4",children:[r.location&&(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(mE,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:r.location})]})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(Fk,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"Attendees"}),(0,ng.jsxs)("p",{className:"font-medium text-gray-900",children:[r.attendees.length," people"]})]})]})]})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-center space-x-4 p-6 bg-gray-50 rounded-2xl",children:[(0,ng.jsxs)("button",{className:"flex items-center space-x-2 px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors",children:[(0,ng.jsx)(dR,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Going"})]}),(0,ng.jsxs)("button",{className:"flex items-center space-x-2 px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl transition-colors",children:[(0,ng.jsx)(hR,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Maybe"})]}),(0,ng.jsxs)("button",{className:"flex items-center space-x-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-colors",children:[(0,ng.jsx)(pR,{className:"h-5 w-5"}),(0,ng.jsx)("span",{children:"Can't Go"})]})]}),(0,ng.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsxs)("button",{className:"btn-ghost flex items-center space-x-2",children:[(0,ng.jsx)(Ck,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Remind Me"})]}),(0,ng.jsxs)("button",{className:"btn-ghost flex items-center space-x-2",children:[(0,ng.jsx)(IE,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:"Share Event"})]})]}),(0,ng.jsx)("button",{className:"btn-primary",children:"Add to Calendar"})]})]})]})})})})]})},mR=Ek("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),gR=Ek("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),vR=Ek("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),yR=Ek("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xR=Ek("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),bR=Ek("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),wR=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(null),[s,l]=(0,t.useState)("all"),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)("chronological"),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=[{id:"1",type:"birth",title:"John Smith Born",description:"Born in Springfield General Hospital",date:new Date("1950-01-15"),people:["1"],location:"Springfield, IL",photoUrl:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400"},{id:"2",type:"birth",title:"Sarah Johnson Born",description:"Born at home with midwife assistance",date:new Date("1952-03-20"),people:["2"],location:"Springfield, IL"},{id:"3",type:"marriage",title:"John & Sarah Wedding",description:"Married at St. Mary's Church in a beautiful ceremony with 150 guests",date:new Date("1974-06-15"),people:["1","2"],location:"St. Mary's Church, Springfield",photoUrl:"https://images.unsplash.com/photo-1519741497674-611481863552?w=400"},{id:"4",type:"birth",title:"Michael Smith Born",description:"First child of John and Sarah",date:new Date("1980-07-10"),people:["1","2","3"],location:"Springfield General Hospital"},{id:"5",type:"education",title:"Michael Graduates High School",description:"Graduated valedictorian from Springfield High",date:new Date("1998-06-15"),people:["3"],location:"Springfield High School"},{id:"6",type:"marriage",title:"Michael & Emily Wedding",description:"Beach wedding in California",date:new Date("2005-08-20"),people:["3","4"],location:"Malibu Beach, CA",photoUrl:"https://images.unsplash.com/photo-1606800052052-a08af7148866?w=400"},{id:"7",type:"birth",title:"Emma Smith Born",description:"Michael and Emily's first daughter",date:new Date("2010-04-15"),people:["3","4","5"],location:"San Francisco General Hospital"},{id:"8",type:"career",title:"John Retires",description:"Retired after 40 years as an engineer",date:new Date("2015-12-31"),people:["1"],location:"Springfield, IL"},{id:"9",type:"event",title:"Family Reunion 2020",description:"First virtual family reunion due to pandemic",date:new Date("2020-07-04"),people:["1","2","3","4","5"],location:"Virtual (Zoom)"}].sort((e,t)=>e.date.getTime()-t.date.getTime());n(e),i(e)},[]),(0,t.useEffect)(()=>{let t=e.filter(e=>{var t,n;const r=e.title.toLowerCase().includes(c.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.location)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()));switch(s){case"births":return r&&"birth"===e.type;case"marriages":return r&&"marriage"===e.type;case"events":return r&&("event"===e.type||"career"===e.type||"education"===e.type);case"stories":return r&&"story"===e.type;default:return r}});v&&(t=t.filter(e=>{const t=e.date.getFullYear();return t>=v&&t<v+10})),i(t)},[e,c,s,v]),(0,t.useEffect)(()=>{let e;return p&&"animated"===d&&(e=setInterval(()=>{g(e=>e>=r.length-1?(f(!1),0):e+1)},2e3)),()=>clearInterval(e)},[p,d,r.length]);const x=e=>{switch(e){case"birth":return(0,ng.jsx)(mR,{className:"h-5 w-5"});case"death":return(0,ng.jsx)(TE,{className:"h-5 w-5"});case"marriage":return(0,ng.jsx)(CE,{className:"h-5 w-5"});case"education":return(0,ng.jsx)(gR,{className:"h-5 w-5"});case"career":return(0,ng.jsx)(vR,{className:"h-5 w-5"});case"move":return(0,ng.jsx)(yR,{className:"h-5 w-5"});case"event":return(0,ng.jsx)(Mk,{className:"h-5 w-5"});case"story":return(0,ng.jsx)(Ok,{className:"h-5 w-5"});case"photo":return(0,ng.jsx)(Lk,{className:"h-5 w-5"});default:return(0,ng.jsx)(yE,{className:"h-5 w-5"})}},b=e=>{switch(e){case"birth":return"from-green-500 to-emerald-500";case"death":default:return"from-gray-500 to-slate-500";case"marriage":return"from-pink-500 to-rose-500";case"education":return"from-blue-500 to-indigo-500";case"career":return"from-purple-500 to-violet-500";case"move":return"from-orange-500 to-amber-500";case"event":return"from-cyan-500 to-teal-500";case"story":return"from-yellow-500 to-orange-500";case"photo":return"from-red-500 to-pink-500"}},w=e=>{let{event:t,index:n,isLeft:r=!1,isActive:i=!1}=e;return(0,ng.jsxs)(pk.div,{initial:{opacity:0,x:r?-50:50},animate:{opacity:i&&"animated"===d||"animated"!==d?1:.3,x:0,scale:i&&"animated"===d?1.05:1},transition:{delay:.1*n},className:"relative ".concat(r?"text-right":"text-left"),children:[(0,ng.jsx)("div",{className:"absolute top-6 w-4 h-4 bg-white border-4 border-primary-500 rounded-full z-10 ".concat(r?"-right-2":"-left-2")}),(0,ng.jsxs)("div",{className:"card p-6 cursor-pointer group hover:scale-105 transition-all duration-300 ".concat(i&&"animated"===d?"ring-2 ring-primary-500 shadow-2xl":""," ").concat(r?"mr-8":"ml-8"),onClick:()=>o(t),children:[(0,ng.jsxs)("div",{className:"flex items-start space-x-4 ".concat(r?"flex-row-reverse space-x-reverse":""),children:[(0,ng.jsx)("div",{className:"p-3 rounded-2xl bg-gradient-to-r ".concat(b(t.type)," text-white flex-shrink-0"),children:x(t.type)}),(0,ng.jsxs)("div",{className:"flex-1 min-w-0 ".concat(r?"text-right":""),children:[(0,ng.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:t.title})}),(0,ng.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),(0,ng.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 ".concat(r?"justify-end":""),children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(Mk,{className:"h-3 w-3"}),(0,ng.jsx)("span",{children:t.date.toLocaleDateString()})]}),t.location&&(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(mE,{className:"h-3 w-3"}),(0,ng.jsx)("span",{children:t.location})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ng.jsx)(Fk,{className:"h-3 w-3"}),(0,ng.jsxs)("span",{children:[t.people.length," people"]})]})]})]})]}),t.photoUrl&&(0,ng.jsx)("div",{className:"mt-4",children:(0,ng.jsx)("img",{src:t.photoUrl,alt:t.title,className:"w-full h-32 object-cover rounded-xl"})})]})]})};return(0,ng.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ng.jsxs)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,ng.jsxs)("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:["Family ",(0,ng.jsx)("span",{className:"gradient-text",children:"Timeline"})]}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"Journey through your family's history chronologically"})]}),(0,ng.jsx)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6 mb-8",children:(0,ng.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,ng.jsxs)("div",{className:"relative flex-1",children:[(0,ng.jsx)(_k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ng.jsx)("input",{type:"text",placeholder:"Search timeline events...",value:c,onChange:e=>u(e.target.value),className:"input-field pl-12"})]}),(0,ng.jsxs)("div",{className:"flex space-x-3",children:[(0,ng.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"input-field min-w-[140px]",children:[(0,ng.jsx)("option",{value:"all",children:"All Events"}),(0,ng.jsx)("option",{value:"births",children:"Births"}),(0,ng.jsx)("option",{value:"marriages",children:"Marriages"}),(0,ng.jsx)("option",{value:"events",children:"Major Events"}),(0,ng.jsx)("option",{value:"stories",children:"Stories"})]}),(0,ng.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"input-field min-w-[140px]",children:[(0,ng.jsx)("option",{value:"chronological",children:"Chronological"}),(0,ng.jsx)("option",{value:"generations",children:"By Generation"}),(0,ng.jsx)("option",{value:"animated",children:"Animated"})]})]}),"animated"===d&&(0,ng.jsxs)("div",{className:"flex space-x-2",children:[(0,ng.jsxs)("button",{onClick:()=>f(!p),className:"btn-primary flex items-center space-x-2",children:[p?(0,ng.jsx)(xR,{className:"h-4 w-4"}):(0,ng.jsx)(bR,{className:"h-4 w-4"}),(0,ng.jsx)("span",{children:p?"Pause":"Play"})]}),(0,ng.jsx)("button",{onClick:()=>{g(0),f(!1)},className:"btn-secondary",children:(0,ng.jsx)(PE,{className:"h-4 w-4"})})]})]})}),(0,ng.jsx)(pk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,ng.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ng.jsx)("button",{onClick:()=>y(null),className:"px-4 py-2 rounded-xl font-medium transition-all ".concat(null===v?"bg-primary-500 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50"),children:"All Years"}),(()=>{const t=new Set;return e.forEach(e=>{const n=10*Math.floor(e.date.getFullYear()/10);t.add(n)}),Array.from(t).sort()})().map(e=>(0,ng.jsxs)("button",{onClick:()=>y(e),className:"px-4 py-2 rounded-xl font-medium transition-all ".concat(v===e?"bg-primary-500 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50"),children:[e,"s"]},e))]})}),(0,ng.jsxs)("div",{className:"relative",children:[(0,ng.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 bg-gradient-to-b from-primary-500 to-secondary-500 h-full rounded-full"}),(0,ng.jsx)("div",{className:"space-y-12",children:r.map((e,t)=>(0,ng.jsx)(w,{event:e,index:t,isLeft:t%2===0,isActive:"animated"===d&&t===m},e.id))})]}),0===r.length&&(0,ng.jsxs)(pk.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,ng.jsx)("div",{className:"h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ng.jsx)(yE,{className:"h-12 w-12 text-gray-400"})}),(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events found"}),(0,ng.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria to see family timeline events."})]})]}),(0,ng.jsx)(bk,{children:a&&(0,ng.jsx)(pk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(null),children:(0,ng.jsx)(pk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card-elevated max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,ng.jsxs)("div",{className:"p-8",children:[(0,ng.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ng.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-r ".concat(b(a.type)," text-white"),children:x(a.type)}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h1",{className:"text-2xl font-display font-bold text-gray-900",children:a.title}),(0,ng.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:a.type})]})]}),(0,ng.jsx)("button",{onClick:()=>o(null),className:"btn-ghost p-2",children:"\xd7"})]}),a.photoUrl&&(0,ng.jsx)("div",{className:"mb-6",children:(0,ng.jsx)("img",{src:a.photoUrl,alt:a.title,className:"w-full h-64 object-cover rounded-2xl"})}),(0,ng.jsxs)("div",{className:"space-y-4",children:[a.description&&(0,ng.jsxs)("div",{children:[(0,ng.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),(0,ng.jsx)("p",{className:"text-gray-700 leading-relaxed",children:a.description})]}),(0,ng.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(Mk,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:a.date.toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),a.location&&(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(mE,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,ng.jsx)("p",{className:"font-medium text-gray-900",children:a.location})]})]}),(0,ng.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ng.jsx)(Fk,{className:"h-5 w-5 text-gray-400"}),(0,ng.jsxs)("div",{children:[(0,ng.jsx)("p",{className:"text-sm text-gray-500",children:"People Involved"}),(0,ng.jsxs)("p",{className:"font-medium text-gray-900",children:[a.people.length," people"]})]})]})]})]})]})})})})]})},SR=e=>{let{children:t}=e;const{currentUser:n,loading:r}=ig();return r?(0,ng.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:(0,ng.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?(0,ng.jsx)(ng.Fragment,{children:t}):(0,ng.jsx)(pe,{to:"/login"})},kR=()=>(0,ng.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[(0,ng.jsx)("div",{className:"relative overflow-hidden",children:(0,ng.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:(0,ng.jsxs)("div",{className:"text-center",children:[(0,ng.jsxs)("h1",{className:"text-6xl font-display font-bold text-gray-900 mb-6",children:["Welcome to ",(0,ng.jsx)("span",{className:"gradient-text",children:"Treehouse"})]}),(0,ng.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Discover, connect, and preserve your family's story together. The most beautiful and collaborative family tree platform ever created."}),(0,ng.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ng.jsx)("button",{className:"btn-primary text-lg px-8 py-4",children:"Get Started Free"}),(0,ng.jsx)("button",{className:"btn-secondary text-lg px-8 py-4",children:"Learn More"})]})]})})}),(0,ng.jsx)("div",{className:"py-24 bg-white",children:(0,ng.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ng.jsxs)("div",{className:"text-center mb-16",children:[(0,ng.jsx)("h2",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"Powerful Features for Your Family"}),(0,ng.jsx)("p",{className:"text-lg text-gray-600",children:"Everything you need to build and share your family history"})]}),(0,ng.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Interactive Family Tree",description:"Beautiful, drag-and-drop family tree visualization with real-time collaboration.",icon:"\ud83c\udf33",color:"from-green-500 to-emerald-500"},{title:"Family Perspectives",description:"See relationships from different viewpoints and discover hidden connections.",icon:"\ud83d\udc41\ufe0f",color:"from-blue-500 to-cyan-500"},{title:"Collaborative Editing",description:"Invite family members to contribute and build your tree together.",icon:"\ud83e\udd1d",color:"from-purple-500 to-pink-500"},{title:"Photo & Story Sharing",description:"Upload photos and share family stories to preserve memories.",icon:"\ud83d\udcf8",color:"from-orange-500 to-red-500"},{title:"Event Planning",description:"Plan family reunions, birthdays, and special occasions together.",icon:"\ud83c\udf89",color:"from-indigo-500 to-purple-500"},{title:"Privacy Controls",description:"Full control over who can see and edit your family information.",icon:"\ud83d\udd12",color:"from-gray-500 to-slate-500"}].map((e,t)=>(0,ng.jsxs)("div",{className:"card p-6 hover:scale-105 transition-transform",children:[(0,ng.jsx)("div",{className:"h-12 w-12 bg-gradient-to-r ".concat(e.color," rounded-xl flex items-center justify-center text-2xl mb-4"),children:e.icon}),(0,ng.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,ng.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})})]}),ER=()=>{const{currentUser:e}=ig();return(0,ng.jsx)(Ee,{children:(0,ng.jsxs)("div",{className:"App",children:[e&&(0,ng.jsx)(wE,{}),(0,ng.jsxs)(ge,{children:[(0,ng.jsx)(fe,{path:"/",element:e?(0,ng.jsx)(pe,{to:"/dashboard"}):(0,ng.jsx)(kR,{})}),(0,ng.jsx)(fe,{path:"/login",element:e?(0,ng.jsx)(pe,{to:"/dashboard"}):(0,ng.jsx)(_E,{})}),(0,ng.jsx)(fe,{path:"/dashboard",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(jE,{})})}),(0,ng.jsx)(fe,{path:"/perspectives",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(DE,{})})}),(0,ng.jsx)(fe,{path:"/tree",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(tD,{})})}),(0,ng.jsx)(fe,{path:"/photos",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(oR,{})})}),(0,ng.jsx)(fe,{path:"/stories",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(cR,{})})}),(0,ng.jsx)(fe,{path:"/events",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(fR,{})})}),(0,ng.jsx)(fe,{path:"/timeline",element:(0,ng.jsx)(SR,{children:(0,ng.jsx)(wR,{})})}),(0,ng.jsx)(fe,{path:"*",element:(0,ng.jsx)(pe,{to:"/"})})]}),(0,ng.jsx)(Xt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})},NR=()=>(0,ng.jsx)(ag,{children:(0,ng.jsx)(ER,{})});i.createRoot(document.getElementById("root")).render((0,ng.jsx)(t.StrictMode,{children:(0,ng.jsx)(NR,{})}))})()})();
//# sourceMappingURL=main.34c8be4c.js.map